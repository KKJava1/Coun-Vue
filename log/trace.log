2023-05-29 00:00:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43810804490964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:00:00.164 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43810804490964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:00:00.165 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43810804490964992 [0;39m ==> Parameters: 
2023-05-29 00:00:00.243 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43810804490964992 [0;39m <==    Updates: 5
2023-05-29 00:00:00.248 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43810804490964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š129æ¯«ç§’
2023-05-29 00:00:00.248 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m43810805476626432 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-29 00:00:00.248 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43810805476626432 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-29 00:00:00.249 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43810805476626432 [0;39m ==> Parameters: 
2023-05-29 00:00:00.324 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43810805476626432 [0;39m <==    Updates: 0
2023-05-29 00:00:00.325 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m43810805476626432 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š77æ¯«ç§’
2023-05-29 00:02:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43811307803250688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:02:00.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43811307803250688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:02:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43811307803250688 [0;39m ==> Parameters: 
2023-05-29 00:02:00.132 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43811307803250688 [0;39m <==    Updates: 5
2023-05-29 00:02:00.133 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43811307803250688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š119æ¯«ç§’
2023-05-29 00:04:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43811811119730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:04:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43811811119730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:04:00.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43811811119730688 [0;39m ==> Parameters: 
2023-05-29 00:04:00.119 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43811811119730688 [0;39m <==    Updates: 5
2023-05-29 00:04:00.120 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43811811119730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š107æ¯«ç§’
2023-05-29 00:06:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43812314398461952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:06:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43812314398461952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:06:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43812314398461952 [0;39m ==> Parameters: 
2023-05-29 00:06:00.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43812314398461952 [0;39m <==    Updates: 5
2023-05-29 00:06:00.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43812314398461952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š101æ¯«ç§’
2023-05-29 00:08:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43812817723330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:08:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43812817723330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:08:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43812817723330560 [0;39m ==> Parameters: 
2023-05-29 00:08:00.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43812817723330560 [0;39m <==    Updates: 5
2023-05-29 00:08:00.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43812817723330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š112æ¯«ç§’
2023-05-29 00:10:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43813321069170688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:10:00.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43813321069170688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:10:00.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43813321069170688 [0;39m ==> Parameters: 
2023-05-29 00:10:00.121 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43813321069170688 [0;39m <==    Updates: 5
2023-05-29 00:10:00.121 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43813321069170688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š108æ¯«ç§’
2023-05-29 00:12:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43813824352096256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:12:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43813824352096256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:12:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43813824352096256 [0;39m ==> Parameters: 
2023-05-29 00:12:00.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43813824352096256 [0;39m <==    Updates: 5
2023-05-29 00:12:00.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43813824352096256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š104æ¯«ç§’
2023-05-29 00:14:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43814327714713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:14:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43814327714713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:14:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43814327714713600 [0;39m ==> Parameters: 
2023-05-29 00:14:00.122 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43814327714713600 [0;39m <==    Updates: 5
2023-05-29 00:14:00.123 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43814327714713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š108æ¯«ç§’
2023-05-29 00:16:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43814831035387904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:16:00.066 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43814831035387904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:16:00.066 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43814831035387904 [0;39m ==> Parameters: 
2023-05-29 00:16:00.159 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43814831035387904 [0;39m <==    Updates: 5
2023-05-29 00:16:00.160 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43814831035387904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š144æ¯«ç§’
2023-05-29 00:18:00.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43815334284759040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:18:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43815334284759040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:18:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43815334284759040 [0;39m ==> Parameters: 
2023-05-29 00:18:00.125 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43815334284759040 [0;39m <==    Updates: 5
2023-05-29 00:18:00.127 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43815334284759040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š125æ¯«ç§’
2023-05-29 00:20:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m43815837664153600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-29 00:20:00.060 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43815837664153600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-29 00:20:00.062 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43815837664153600 [0;39m ==> Parameters: 
2023-05-29 00:20:00.137 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43815837664153600 [0;39m <==    Updates: 0
2023-05-29 00:20:00.138 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m43815837664153600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š122æ¯«ç§’
2023-05-29 00:20:00.139 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43815838180052992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:20:00.141 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43815838180052992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:20:00.142 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43815838180052992 [0;39m ==> Parameters: 
2023-05-29 00:20:00.212 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43815838180052992 [0;39m <==    Updates: 5
2023-05-29 00:20:00.212 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43815838180052992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š73æ¯«ç§’
2023-05-29 00:22:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43816340955467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:22:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43816340955467776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:22:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43816340955467776 [0;39m ==> Parameters: 
2023-05-29 00:22:00.122 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43816340955467776 [0;39m <==    Updates: 5
2023-05-29 00:22:00.122 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43816340955467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š111æ¯«ç§’
2023-05-29 00:24:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43816844301307904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:24:00.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43816844301307904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:24:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43816844301307904 [0;39m ==> Parameters: 
2023-05-29 00:24:00.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43816844301307904 [0;39m <==    Updates: 5
2023-05-29 00:24:00.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43816844301307904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š102æ¯«ç§’
2023-05-29 00:26:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43817347567456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:26:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43817347567456256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:26:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43817347567456256 [0;39m ==> Parameters: 
2023-05-29 00:26:00.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43817347567456256 [0;39m <==    Updates: 5
2023-05-29 00:26:00.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43817347567456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š103æ¯«ç§’
2023-05-29 00:28:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43817850892324864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:28:00.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43817850892324864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:28:00.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43817850892324864 [0;39m ==> Parameters: 
2023-05-29 00:28:00.121 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43817850892324864 [0;39m <==    Updates: 5
2023-05-29 00:28:00.121 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43817850892324864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š113æ¯«ç§’
2023-05-29 00:30:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43818354204610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:30:00.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43818354204610560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:30:00.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43818354204610560 [0;39m ==> Parameters: 
2023-05-29 00:30:00.145 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43818354204610560 [0;39m <==    Updates: 5
2023-05-29 00:30:00.145 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43818354204610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š140æ¯«ç§’
2023-05-29 00:32:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43818857554644992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:32:00.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43818857554644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:32:00.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43818857554644992 [0;39m ==> Parameters: 
2023-05-29 00:32:00.121 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43818857554644992 [0;39m <==    Updates: 5
2023-05-29 00:32:00.121 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43818857554644992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š107æ¯«ç§’
2023-05-29 00:34:00.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43819360892096512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:34:00.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43819360892096512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:34:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43819360892096512 [0;39m ==> Parameters: 
2023-05-29 00:34:00.124 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43819360892096512 [0;39m <==    Updates: 5
2023-05-29 00:34:00.124 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43819360892096512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š106æ¯«ç§’
2023-05-29 00:36:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43819864166633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:36:00.055 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43819864166633472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:36:00.055 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43819864166633472 [0;39m ==> Parameters: 
2023-05-29 00:36:00.141 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43819864166633472 [0;39m <==    Updates: 5
2023-05-29 00:36:00.141 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43819864166633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š132æ¯«ç§’
2023-05-29 00:38:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43820367483113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:38:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43820367483113472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:38:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43820367483113472 [0;39m ==> Parameters: 
2023-05-29 00:38:00.115 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43820367483113472 [0;39m <==    Updates: 5
2023-05-29 00:38:00.115 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43820367483113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š107æ¯«ç§’
2023-05-29 00:40:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43820870799593472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:40:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43820870799593472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:40:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43820870799593472 [0;39m ==> Parameters: 
2023-05-29 00:40:00.115 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43820870799593472 [0;39m <==    Updates: 5
2023-05-29 00:40:00.115 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43820870799593472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š106æ¯«ç§’
2023-05-29 00:40:00.116 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m43820871252578304 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-29 00:40:00.116 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43820871252578304 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-29 00:40:00.116 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43820871252578304 [0;39m ==> Parameters: 
2023-05-29 00:40:00.185 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43820871252578304 [0;39m <==    Updates: 0
2023-05-29 00:40:00.187 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m43820871252578304 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š71æ¯«ç§’
2023-05-29 00:42:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43821374132850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:42:00.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43821374132850688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:42:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43821374132850688 [0;39m ==> Parameters: 
2023-05-29 00:42:00.120 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43821374132850688 [0;39m <==    Updates: 5
2023-05-29 00:42:00.121 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43821374132850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š109æ¯«ç§’
2023-05-29 00:44:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43821877453524992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:44:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43821877453524992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:44:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43821877453524992 [0;39m ==> Parameters: 
2023-05-29 00:44:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43821877453524992 [0;39m <==    Updates: 5
2023-05-29 00:44:00.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43821877453524992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š100æ¯«ç§’
2023-05-29 00:46:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43822380744839168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:46:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43822380744839168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:46:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43822380744839168 [0;39m ==> Parameters: 
2023-05-29 00:46:00.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43822380744839168 [0;39m <==    Updates: 5
2023-05-29 00:46:00.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43822380744839168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š106æ¯«ç§’
2023-05-29 00:48:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43822884061319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:48:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43822884061319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:48:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43822884061319168 [0;39m ==> Parameters: 
2023-05-29 00:48:00.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43822884061319168 [0;39m <==    Updates: 5
2023-05-29 00:48:00.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43822884061319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š102æ¯«ç§’
2023-05-29 00:50:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43823387361021952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:50:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43823387361021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:50:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43823387361021952 [0;39m ==> Parameters: 
2023-05-29 00:50:00.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43823387361021952 [0;39m <==    Updates: 5
2023-05-29 00:50:00.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43823387361021952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š109æ¯«ç§’
2023-05-29 00:52:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43823890673307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:52:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43823890673307648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:52:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43823890673307648 [0;39m ==> Parameters: 
2023-05-29 00:52:00.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43823890673307648 [0;39m <==    Updates: 5
2023-05-29 00:52:00.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43823890673307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š106æ¯«ç§’
2023-05-29 00:54:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43824394010759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:54:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43824394010759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:54:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43824394010759168 [0;39m ==> Parameters: 
2023-05-29 00:54:00.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43824394010759168 [0;39m <==    Updates: 5
2023-05-29 00:54:00.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43824394010759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š100æ¯«ç§’
2023-05-29 00:56:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43824897306267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:56:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43824897306267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:56:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43824897306267648 [0;39m ==> Parameters: 
2023-05-29 00:56:00.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43824897306267648 [0;39m <==    Updates: 5
2023-05-29 00:56:00.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43824897306267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š104æ¯«ç§’
2023-05-29 00:58:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43825400677273600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 00:58:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43825400677273600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 00:58:00.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43825400677273600 [0;39m ==> Parameters: 
2023-05-29 00:58:00.118 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43825400677273600 [0;39m <==    Updates: 5
2023-05-29 00:58:00.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43825400677273600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š103æ¯«ç§’
2023-05-29 01:00:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m43825903930839040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-29 01:00:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43825903930839040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-29 01:00:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43825903930839040 [0;39m ==> Parameters: 
2023-05-29 01:00:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43825903930839040 [0;39m <==    Updates: 0
2023-05-29 01:00:00.112 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m43825903930839040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š111æ¯«ç§’
2023-05-29 01:00:00.112 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43825904400601088 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:00:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43825904400601088 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:00:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43825904400601088 [0;39m ==> Parameters: 
2023-05-29 01:00:00.175 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43825904400601088 [0;39m <==    Updates: 5
2023-05-29 01:00:00.175 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43825904400601088 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š63æ¯«ç§’
2023-05-29 01:02:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43826407285067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:02:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43826407285067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:02:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43826407285067776 [0;39m ==> Parameters: 
2023-05-29 01:02:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43826407285067776 [0;39m <==    Updates: 5
2023-05-29 01:02:00.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43826407285067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š103æ¯«ç§’
2023-05-29 01:04:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43826910626713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:04:00.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43826910626713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:04:00.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43826910626713600 [0;39m ==> Parameters: 
2023-05-29 01:04:00.119 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43826910626713600 [0;39m <==    Updates: 5
2023-05-29 01:04:00.119 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43826910626713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š103æ¯«ç§’
2023-05-29 01:06:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43827413888667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:06:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43827413888667648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:06:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43827413888667648 [0;39m ==> Parameters: 
2023-05-29 01:06:00.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43827413888667648 [0;39m <==    Updates: 5
2023-05-29 01:06:00.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43827413888667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š106æ¯«ç§’
2023-05-29 01:08:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43827917226119168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:08:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43827917226119168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:08:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43827917226119168 [0;39m ==> Parameters: 
2023-05-29 01:08:00.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43827917226119168 [0;39m <==    Updates: 5
2023-05-29 01:08:00.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43827917226119168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š106æ¯«ç§’
2023-05-29 01:10:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43828420571959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:10:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43828420571959296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:10:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43828420571959296 [0;39m ==> Parameters: 
2023-05-29 01:10:00.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43828420571959296 [0;39m <==    Updates: 5
2023-05-29 01:10:00.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43828420571959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š98æ¯«ç§’
2023-05-29 01:12:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43828923842301952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:12:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43828923842301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:12:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43828923842301952 [0;39m ==> Parameters: 
2023-05-29 01:12:00.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43828923842301952 [0;39m <==    Updates: 5
2023-05-29 01:12:00.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43828923842301952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š102æ¯«ç§’
2023-05-29 01:14:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43829427204919296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:14:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43829427204919296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:14:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43829427204919296 [0;39m ==> Parameters: 
2023-05-29 01:14:00.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43829427204919296 [0;39m <==    Updates: 5
2023-05-29 01:14:00.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43829427204919296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š100æ¯«ç§’
2023-05-29 01:16:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43829930492039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:16:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43829930492039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:16:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43829930492039168 [0;39m ==> Parameters: 
2023-05-29 01:16:00.136 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43829930492039168 [0;39m <==    Updates: 5
2023-05-29 01:16:00.136 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43829930492039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š129æ¯«ç§’
2023-05-29 01:18:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43830433825296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:18:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43830433825296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:18:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43830433825296384 [0;39m ==> Parameters: 
2023-05-29 01:18:00.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43830433825296384 [0;39m <==    Updates: 5
2023-05-29 01:18:00.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43830433825296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š102æ¯«ç§’
2023-05-29 01:20:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m43830937145970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-29 01:20:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43830937145970688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-29 01:20:00.050 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43830937145970688 [0;39m ==> Parameters: 
2023-05-29 01:20:00.122 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m43830937145970688 [0;39m <==    Updates: 0
2023-05-29 01:20:00.123 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m43830937145970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š110æ¯«ç§’
2023-05-29 01:20:00.123 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43830937611538432 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:20:00.123 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43830937611538432 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:20:00.123 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43830937611538432 [0;39m ==> Parameters: 
2023-05-29 01:20:00.192 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43830937611538432 [0;39m <==    Updates: 5
2023-05-29 01:20:00.192 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43830937611538432 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š69æ¯«ç§’
2023-05-29 01:22:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m43831440470839296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-29 01:22:00.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43831440470839296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-29 01:22:00.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43831440470839296 [0;39m ==> Parameters: 
2023-05-29 01:22:00.120 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m43831440470839296 [0;39m <==    Updates: 5
2023-05-29 01:22:00.120 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m43831440470839296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š106æ¯«ç§’
