2023-05-14 00:00:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38374986452439040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:00:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38374986452439040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:00:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38374986452439040 [0;39m ==> Parameters: 
2023-05-14 00:00:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38374986452439040 [0;39m <==    Updates: 5
2023-05-14 00:00:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38374986452439040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 00:00:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38375007482679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:00:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375007482679296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:00:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375007482679296 [0;39m ==> Parameters: 
2023-05-14 00:00:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375007482679296 [0;39m <==    Updates: 1
2023-05-14 00:00:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38375007482679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:00:05.371 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:07.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:14.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:15.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:17.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:29.427 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:31.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38375133295022080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:00:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375133295022080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:00:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375133295022080 [0;39m ==> Parameters: 
2023-05-14 00:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375133295022080 [0;39m <==    Updates: 1
2023-05-14 00:00:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38375133295022080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:00:44.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:45.168 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:47.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:00:55.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:01:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38375238148427776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:01:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375238148427776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:01:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375238148427776 [0;39m ==> Parameters: 
2023-05-14 00:01:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375238148427776 [0;39m <==    Updates: 0
2023-05-14 00:01:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38375238148427776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:01:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38375259149307904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:01:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375259149307904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:01:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375259149307904 [0;39m ==> Parameters: 
2023-05-14 00:01:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375259149307904 [0;39m <==    Updates: 1
2023-05-14 00:01:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38375259149307904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:01:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:01:15.173 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:01:17.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:01:19.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:01:21.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:01:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38375384970039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:01:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375384970039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:01:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375384970039296 [0;39m ==> Parameters: 
2023-05-14 00:01:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375384970039296 [0;39m <==    Updates: 1
2023-05-14 00:01:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38375384970039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:01:43.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:01:44.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:01:45.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:01:47.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:01:49.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38375489819250688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:02:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375489819250688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:02:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375489819250688 [0;39m ==> Parameters: 
2023-05-14 00:02:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375489819250688 [0;39m <==    Updates: 0
2023-05-14 00:02:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38375489819250688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:02:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38375510753021952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:02:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375510753021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:02:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375510753021952 [0;39m ==> Parameters: 
2023-05-14 00:02:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375510753021952 [0;39m <==    Updates: 1
2023-05-14 00:02:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38375510753021952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:02:11.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:02:13.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:02:14.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:02:19.428 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:02:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38375636594724864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:02:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375636594724864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:02:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375636594724864 [0;39m ==> Parameters: 
2023-05-14 00:02:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375636594724864 [0;39m <==    Updates: 1
2023-05-14 00:02:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38375636594724864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:02:37.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:02:43.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:02:44.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:02:47.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38375741439741952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:03:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375741439741952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:03:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375741439741952 [0;39m ==> Parameters: 
2023-05-14 00:03:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375741439741952 [0;39m <==    Updates: 0
2023-05-14 00:03:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38375741439741952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:03:01.476 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38375762457399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:03:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375762457399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:03:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375762457399296 [0;39m ==> Parameters: 
2023-05-14 00:03:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375762457399296 [0;39m <==    Updates: 1
2023-05-14 00:03:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38375762457399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:03:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:15.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:17.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:23.531 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:25.574 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38375888286519296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:03:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375888286519296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:03:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375888286519296 [0;39m ==> Parameters: 
2023-05-14 00:03:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38375888286519296 [0;39m <==    Updates: 1
2023-05-14 00:03:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38375888286519296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:03:43.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:44.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:45.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:47.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:49.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:03:51.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:04:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38375993089593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:04:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375993089593344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:04:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375993089593344 [0;39m ==> Parameters: 
2023-05-14 00:04:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38375993089593344 [0;39m <==    Updates: 0
2023-05-14 00:04:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38375993089593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:04:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38376014094667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:04:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376014094667776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376014094667776 [0;39m ==> Parameters: 
2023-05-14 00:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376014094667776 [0;39m <==    Updates: 1
2023-05-14 00:04:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38376014094667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:04:13.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:04:14.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:04:15.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:04:19.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:04:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38376139894427648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:04:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376139894427648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:04:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376139894427648 [0;39m ==> Parameters: 
2023-05-14 00:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376139894427648 [0;39m <==    Updates: 1
2023-05-14 00:04:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38376139894427648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:04:43.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:04:44.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:04:45.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:04:49.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38376244806553600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:05:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376244806553600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:05:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376244806553600 [0;39m ==> Parameters: 
2023-05-14 00:05:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376244806553600 [0;39m <==    Updates: 0
2023-05-14 00:05:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38376244806553600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:05:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38376265736130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:05:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376265736130560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:05:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376265736130560 [0;39m ==> Parameters: 
2023-05-14 00:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376265736130560 [0;39m <==    Updates: 1
2023-05-14 00:05:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38376265736130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:05:05.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:07.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:13.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:17.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:29.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:31.516 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38376391590416384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376391590416384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376391590416384 [0;39m ==> Parameters: 
2023-05-14 00:05:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376391590416384 [0;39m <==    Updates: 1
2023-05-14 00:05:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38376391590416384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:05:43.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:44.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:45.146 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:47.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:05:55.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:06:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38376496418656256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:06:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376496418656256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:06:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376496418656256 [0;39m ==> Parameters: 
2023-05-14 00:06:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376496418656256 [0;39m <==    Updates: 0
2023-05-14 00:06:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38376496418656256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:06:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38376517423730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:06:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376517423730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:06:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376517423730688 [0;39m ==> Parameters: 
2023-05-14 00:06:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376517423730688 [0;39m <==    Updates: 1
2023-05-14 00:06:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38376517423730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:06:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:06:17.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:06:19.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:06:21.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:06:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38376643240267776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:06:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376643240267776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:06:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376643240267776 [0;39m ==> Parameters: 
2023-05-14 00:06:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376643240267776 [0;39m <==    Updates: 1
2023-05-14 00:06:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38376643240267776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:06:44.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:06:45.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:06:47.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:06:49.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38376748127227904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:07:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376748127227904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:07:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376748127227904 [0;39m ==> Parameters: 
2023-05-14 00:07:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376748127227904 [0;39m <==    Updates: 0
2023-05-14 00:07:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38376748127227904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:07:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38376769073582080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:07:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376769073582080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:07:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376769073582080 [0;39m ==> Parameters: 
2023-05-14 00:07:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376769073582080 [0;39m <==    Updates: 1
2023-05-14 00:07:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38376769073582080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:07:11.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:13.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:14.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:15.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:17.426 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:19.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38376894864953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:07:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376894864953344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:07:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376894864953344 [0;39m ==> Parameters: 
2023-05-14 00:07:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38376894864953344 [0;39m <==    Updates: 1
2023-05-14 00:07:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38376894864953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:07:35.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:37.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:45.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:47.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:07:59.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:08:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38376999764496384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:08:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376999764496384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:08:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376999764496384 [0;39m ==> Parameters: 
2023-05-14 00:08:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38376999764496384 [0;39m <==    Updates: 0
2023-05-14 00:08:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38376999764496384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 00:08:01.571 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:08:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38377020694073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:08:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377020694073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377020694073344 [0;39m ==> Parameters: 
2023-05-14 00:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377020694073344 [0;39m <==    Updates: 1
2023-05-14 00:08:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38377020694073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:08:14.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:08:17.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:08:23.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:08:25.661 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:08:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38377146548359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:08:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377146548359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:08:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377146548359168 [0;39m ==> Parameters: 
2023-05-14 00:08:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377146548359168 [0;39m <==    Updates: 1
2023-05-14 00:08:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38377146548359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 00:08:43.097 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:08:44.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:08:45.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:08:47.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:08:51.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:09:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38377251431124992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:09:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38377251431124992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:09:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38377251431124992 [0;39m ==> Parameters: 
2023-05-14 00:09:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38377251431124992 [0;39m <==    Updates: 0
2023-05-14 00:09:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38377251431124992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 00:09:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38377272406839296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:09:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377272406839296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:09:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377272406839296 [0;39m ==> Parameters: 
2023-05-14 00:09:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377272406839296 [0;39m <==    Updates: 1
2023-05-14 00:09:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38377272406839296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:09:14.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:09:15.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:09:17.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:09:19.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:09:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38377398235959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:09:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377398235959296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:09:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377398235959296 [0;39m ==> Parameters: 
2023-05-14 00:09:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377398235959296 [0;39m <==    Updates: 1
2023-05-14 00:09:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38377398235959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:09:41.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:09:43.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:09:44.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:09:45.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:09:47.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:09:49.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:10:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38377503097753600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:10:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38377503097753600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:10:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38377503097753600 [0;39m ==> Parameters: 
2023-05-14 00:10:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38377503097753600 [0;39m <==    Updates: 0
2023-05-14 00:10:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38377503097753600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:10:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38377524031524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:10:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377524031524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:10:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377524031524864 [0;39m ==> Parameters: 
2023-05-14 00:10:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377524031524864 [0;39m <==    Updates: 1
2023-05-14 00:10:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38377524031524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:10:05.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:10:07.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:10:13.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:10:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:10:17.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:10:31.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:10:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38377649843867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:10:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377649843867648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:10:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377649843867648 [0;39m ==> Parameters: 
2023-05-14 00:10:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377649843867648 [0;39m <==    Updates: 1
2023-05-14 00:10:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38377649843867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:10:44.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:10:47.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:10:53.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:10:55.621 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:11:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38377754755993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:11:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38377754755993600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:11:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38377754755993600 [0;39m ==> Parameters: 
2023-05-14 00:11:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38377754755993600 [0;39m <==    Updates: 0
2023-05-14 00:11:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38377754755993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:11:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38377775672987648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:11:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377775672987648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:11:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377775672987648 [0;39m ==> Parameters: 
2023-05-14 00:11:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377775672987648 [0;39m <==    Updates: 1
2023-05-14 00:11:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38377775672987648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:11:13.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:11:14.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:11:15.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:11:17.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:11:19.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:11:21.313 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:11:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38377901556633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:11:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377901556633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:11:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377901556633600 [0;39m ==> Parameters: 
2023-05-14 00:11:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38377901556633600 [0;39m <==    Updates: 1
2023-05-14 00:11:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38377901556633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:11:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:11:47.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:11:49.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:12:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38378006410039296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378006410039296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378006410039296 [0;39m ==> Parameters: 
2023-05-14 00:12:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378006410039296 [0;39m <==    Updates: 0
2023-05-14 00:12:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38378006410039296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:12:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38378027352199168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:12:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378027352199168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:12:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378027352199168 [0;39m ==> Parameters: 
2023-05-14 00:12:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378027352199168 [0;39m <==    Updates: 1
2023-05-14 00:12:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38378027352199168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:12:13.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:12:14.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:12:19.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:12:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38378153206484992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378153206484992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378153206484992 [0;39m ==> Parameters: 
2023-05-14 00:12:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378153206484992 [0;39m <==    Updates: 1
2023-05-14 00:12:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38378153206484992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:12:35.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:12:37.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:12:43.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:12:44.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:12:47.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38378258064084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:13:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378258064084992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:13:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378258064084992 [0;39m ==> Parameters: 
2023-05-14 00:13:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378258064084992 [0;39m <==    Updates: 0
2023-05-14 00:13:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38378258064084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 00:13:01.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38378279043993600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:13:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378279043993600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:13:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378279043993600 [0;39m ==> Parameters: 
2023-05-14 00:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378279043993600 [0;39m <==    Updates: 1
2023-05-14 00:13:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38378279043993600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:13:13.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:15.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:17.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:23.568 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:25.611 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38378404839559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:13:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378404839559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:13:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378404839559168 [0;39m ==> Parameters: 
2023-05-14 00:13:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378404839559168 [0;39m <==    Updates: 1
2023-05-14 00:13:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38378404839559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:13:44.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:45.152 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:47.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:49.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:13:51.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:14:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38378509713936384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378509713936384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378509713936384 [0;39m ==> Parameters: 
2023-05-14 00:14:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378509713936384 [0;39m <==    Updates: 0
2023-05-14 00:14:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38378509713936384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:14:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38378530656096256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:14:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378530656096256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:14:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378530656096256 [0;39m ==> Parameters: 
2023-05-14 00:14:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378530656096256 [0;39m <==    Updates: 1
2023-05-14 00:14:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38378530656096256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:14:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:14:17.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:14:19.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:14:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38378656510382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:14:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378656510382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:14:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378656510382080 [0;39m ==> Parameters: 
2023-05-14 00:14:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378656510382080 [0;39m <==    Updates: 1
2023-05-14 00:14:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38378656510382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:14:43.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:14:44.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:14:47.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:14:49.464 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:15:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38378761363787776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378761363787776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378761363787776 [0;39m ==> Parameters: 
2023-05-14 00:15:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38378761363787776 [0;39m <==    Updates: 0
2023-05-14 00:15:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38378761363787776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:15:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38378782326919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:15:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378782326919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:15:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378782326919168 [0;39m ==> Parameters: 
2023-05-14 00:15:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378782326919168 [0;39m <==    Updates: 1
2023-05-14 00:15:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38378782326919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:15:05.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:15:07.426 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:15:13.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:15:14.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:15:17.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:15:29.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:15:31.509 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:15:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38378908185399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:15:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378908185399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:15:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378908185399296 [0;39m ==> Parameters: 
2023-05-14 00:15:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38378908185399296 [0;39m <==    Updates: 1
2023-05-14 00:15:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38378908185399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:15:44.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:15:47.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:15:55.598 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:16:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38379013042999296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:16:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379013042999296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:16:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379013042999296 [0;39m ==> Parameters: 
2023-05-14 00:16:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379013042999296 [0;39m <==    Updates: 0
2023-05-14 00:16:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38379013042999296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:16:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38379033989353472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:16:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379033989353472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:16:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379033989353472 [0;39m ==> Parameters: 
2023-05-14 00:16:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379033989353472 [0;39m <==    Updates: 1
2023-05-14 00:16:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38379033989353472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:16:13.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:16:14.419 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:16:17.864 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:16:22.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:16:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38379159831056384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:16:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379159831056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:16:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379159831056384 [0;39m ==> Parameters: 
2023-05-14 00:16:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379159831056384 [0;39m <==    Updates: 1
2023-05-14 00:16:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38379159831056384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:16:43.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:16:44.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:16:47.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:16:49.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:17:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38379264671879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:17:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379264671879168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:17:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379264671879168 [0;39m ==> Parameters: 
2023-05-14 00:17:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379264671879168 [0;39m <==    Updates: 0
2023-05-14 00:17:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38379264671879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:17:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38379285639204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:17:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379285639204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:17:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379285639204864 [0;39m ==> Parameters: 
2023-05-14 00:17:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379285639204864 [0;39m <==    Updates: 1
2023-05-14 00:17:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38379285639204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:17:13.841 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:17:14.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:17:17.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:17:19.960 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:17:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38379411476713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:17:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379411476713472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:17:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379411476713472 [0;39m ==> Parameters: 
2023-05-14 00:17:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379411476713472 [0;39m <==    Updates: 1
2023-05-14 00:17:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38379411476713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:17:38.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:17:43.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:17:43.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38379447237349376 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:17:43.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38379447237349376 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:17:43.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38379447237349376 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:17:43.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38379447237349376 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:17:43.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38379447237349376 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:17:43.537 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38379447237349376 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:17:43.537 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38379447237349376 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:17:43.538 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379447237349376 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:17:43.538 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379447237349376 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 180, 7
2023-05-14 00:17:43.538 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379447237349376 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:17:43.538 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379447237349376 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:17:43.539 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379447237349376 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:17:43.539 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379447237349376 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:17:43.539 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379447237349376 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:17:43.539 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379447237349376 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:17:43.539 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379447237349376 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:17:43.540 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38379447237349376 [0;39m <==      Total: 8
2023-05-14 00:17:43.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38379447237349376 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":180,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:17:43.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38379447237349376 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 00:17:43.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38379447392538624 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:17:43.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38379447392538624 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:17:43.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38379447627419648 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:17:44.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38379447392538624 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:17:44.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38379447627419648 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:17:44.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38379447392538624 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:17:44.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38379447627419648 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:17:44.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38379447392538624 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:17:44.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38379447627419648 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:17:44.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38379447627419648 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:17:44.474 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379447392538624 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:17:44.475 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379447392538624 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:17:44.476 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379447392538624 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:17:44.476 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379447392538624 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:17:44.477 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379447392538624 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:17:44.477 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38379447627419648 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:17:44.477 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379447392538624 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:17:44.477 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38379447627419648 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:17:44.477 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379447392538624 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:17:44.483 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379447392538624 [0;39m <==      Total: 4
2023-05-14 00:17:44.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38379447392538624 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:17:44.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38379447392538624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š912 ms -------------
2023-05-14 00:17:44.481 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38379447627419648 [0;39m <==    Columns: id, content
2023-05-14 00:17:44.485 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38379447627419648 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:17:44.485 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38379447627419648 [0;39m <==      Total: 1
2023-05-14 00:17:44.486 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38379447627419648 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:17:44.486 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38379447627419648 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:17:44.489 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38379447627419648 [0;39m <==    Updates: 1
2023-05-14 00:17:44.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38379447627419648 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:17:44.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38379447627419648 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š863 ms -------------
2023-05-14 00:17:44.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:17:45.575 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:17:45.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38379456070553600 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:17:45.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38379456070553600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:17:45.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38379456070553600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:17:45.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38379456070553600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:17:45.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38379456070553600 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:17:45.641 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379456070553600 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:17:45.641 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379456070553600 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:17:45.642 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379456070553600 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:17:45.642 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379456070553600 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:17:45.642 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379456070553600 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:17:45.643 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379456070553600 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:17:45.643 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379456070553600 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:17:45.643 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379456070553600 [0;39m <==      Total: 4
2023-05-14 00:17:45.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38379456070553600 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:17:45.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38379456070553600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 00:17:48.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38379516355284992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:18:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379516355284992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:18:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379516355284992 [0;39m ==> Parameters: 
2023-05-14 00:18:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379516355284992 [0;39m <==    Updates: 0
2023-05-14 00:18:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38379516355284992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:18:00.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:02.857 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38379537322610688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:18:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379537322610688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:18:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379537322610688 [0;39m ==> Parameters: 
2023-05-14 00:18:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379537322610688 [0;39m <==    Updates: 1
2023-05-14 00:18:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38379537322610688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:18:14.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:16.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:18.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:18.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38379594168012800 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:18:18.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38379594168012800 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:18:18.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38379594168012800 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:18:18.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38379594168012800 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:18:18.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38379594168012800 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:18:18.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38379594172207104 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:18:18.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38379594172207104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:18:18.567 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38379594168012800 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:18:18.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38379594172207104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:18:18.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38379594172207104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:18:18.567 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38379594168012800 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:18:18.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38379594172207104 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:18:18.567 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379594172207104 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:18:18.567 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379594172207104 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:18:18.567 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379594168012800 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:18:18.568 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379594168012800 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 181, 7
2023-05-14 00:18:18.568 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379594168012800 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:18:18.568 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379594168012800 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:18:18.568 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379594168012800 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:18:18.568 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379594172207104 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:18:18.569 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379594172207104 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:18:18.569 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379594168012800 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:18:18.569 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379594168012800 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:18:18.569 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379594172207104 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:18:18.569 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379594168012800 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:18:18.569 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379594172207104 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:18:18.569 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38379594168012800 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:18:18.569 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38379594168012800 [0;39m <==      Total: 8
2023-05-14 00:18:18.569 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379594172207104 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:18:18.570 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379594172207104 [0;39m <==      Total: 4
2023-05-14 00:18:18.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38379594168012800 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":181,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:18:18.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38379594168012800 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 00:18:18.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38379594172207104 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:18:18.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38379594172207104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:18:18.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38379594319007744 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:18:18.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38379594319007744 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:18:18.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38379594319007744 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:18:18.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38379594319007744 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:18:18.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38379594319007744 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:18:18.607 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38379594319007744 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:18:18.607 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38379594319007744 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:18:18.609 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38379594319007744 [0;39m <==    Columns: id, content
2023-05-14 00:18:18.609 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38379594319007744 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:18:18.609 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38379594319007744 [0;39m <==      Total: 1
2023-05-14 00:18:18.610 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38379594319007744 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:18:18.610 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38379594319007744 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:18:18.612 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38379594319007744 [0;39m <==    Updates: 1
2023-05-14 00:18:18.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38379594319007744 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:18:18.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38379594319007744 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-14 00:18:27.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38379631228882944 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:18:27.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38379631228882944 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:18:27.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38379631228882944 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:18:27.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38379631228882944 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:18:27.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38379631228882944 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:18:27.402 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379631228882944 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:18:27.403 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379631228882944 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:18:27.404 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379631228882944 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:18:27.404 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379631228882944 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:18:27.405 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379631228882944 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:18:27.405 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379631228882944 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:18:27.405 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38379631228882944 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:18:27.405 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38379631228882944 [0;39m <==      Total: 4
2023-05-14 00:18:27.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38379631228882944 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:18:27.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38379631228882944 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:18:27.546 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38379663151730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:18:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379663151730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:18:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379663151730688 [0;39m ==> Parameters: 
2023-05-14 00:18:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379663151730688 [0;39m <==    Updates: 1
2023-05-14 00:18:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38379663151730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:18:43.149 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:44.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:45.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:47.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:49.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:18:51.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:19:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38379768000942080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:19:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379768000942080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:19:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379768000942080 [0;39m ==> Parameters: 
2023-05-14 00:19:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38379768000942080 [0;39m <==    Updates: 0
2023-05-14 00:19:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38379768000942080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 00:19:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38379788964073472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:19:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379788964073472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:19:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379788964073472 [0;39m ==> Parameters: 
2023-05-14 00:19:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379788964073472 [0;39m <==    Updates: 1
2023-05-14 00:19:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38379788964073472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:19:14.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:19:15.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:19:17.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:19:19.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:19:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38379914801582080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379914801582080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379914801582080 [0;39m ==> Parameters: 
2023-05-14 00:19:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38379914801582080 [0;39m <==    Updates: 1
2023-05-14 00:19:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38379914801582080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:19:41.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:19:43.302 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:19:44.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:19:49.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:20:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38380019675959296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:20:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380019675959296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:20:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380019675959296 [0;39m ==> Parameters: 
2023-05-14 00:20:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380019675959296 [0;39m <==    Updates: 0
2023-05-14 00:20:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38380019675959296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:20:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38380040592953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:20:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380040592953344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:20:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380040592953344 [0;39m ==> Parameters: 
2023-05-14 00:20:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380040592953344 [0;39m <==    Updates: 1
2023-05-14 00:20:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38380040592953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:20:07.405 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:20:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:20:14.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:20:17.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:20:29.440 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:20:31.476 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:20:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38380166422073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:20:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380166422073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:20:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380166422073344 [0;39m ==> Parameters: 
2023-05-14 00:20:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380166422073344 [0;39m <==    Updates: 1
2023-05-14 00:20:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38380166422073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:20:43.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:20:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:20:47.658 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:20:53.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38380244914278400 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:20:53.716 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38380244914278400 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:20:53.716 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38380244914278400 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:20:53.716 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38380244914278400 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:20:53.716 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38380244914278400 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:20:53.717 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38380244914278400 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:20:53.717 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38380244914278400 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:20:53.718 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38380244914278400 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:20:53.718 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38380244914278400 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:20:53.719 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38380244914278400 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:20:53.719 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38380244914278400 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:20:53.719 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38380244914278400 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:20:53.719 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38380244914278400 [0;39m <==      Total: 4
2023-05-14 00:20:53.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38380244914278400 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:20:53.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38380244914278400 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:20:55.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:21:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38380271330004992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:21:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380271330004992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:21:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380271330004992 [0;39m ==> Parameters: 
2023-05-14 00:21:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380271330004992 [0;39m <==    Updates: 0
2023-05-14 00:21:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38380271330004992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:21:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38380292305719296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:21:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380292305719296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:21:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380292305719296 [0;39m ==> Parameters: 
2023-05-14 00:21:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380292305719296 [0;39m <==    Updates: 1
2023-05-14 00:21:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38380292305719296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:21:14.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:21:17.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:21:19.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:21:21.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:21:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38380418097090560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:21:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380418097090560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:21:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380418097090560 [0;39m ==> Parameters: 
2023-05-14 00:21:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380418097090560 [0;39m <==    Updates: 1
2023-05-14 00:21:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38380418097090560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:21:44.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:21:45.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:21:47.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:21:49.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:22:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38380523000827904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:22:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380523000827904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:22:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380523000827904 [0;39m ==> Parameters: 
2023-05-14 00:22:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380523000827904 [0;39m <==    Updates: 0
2023-05-14 00:22:00.034 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38380523000827904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-14 00:22:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38380543926210560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:22:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380543926210560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:22:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380543926210560 [0;39m ==> Parameters: 
2023-05-14 00:22:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380543926210560 [0;39m <==    Updates: 1
2023-05-14 00:22:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38380543926210560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:22:11.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38380571663142912 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:22:11.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38380571663142912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:22:11.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38380571663142912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:22:11.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38380571663142912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:22:11.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38380571663142912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:22:11.622 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38380571663142912 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:22:11.623 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38380571663142912 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:22:11.624 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38380571663142912 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:22:11.625 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38380571663142912 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 182, 7
2023-05-14 00:22:11.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38380571663142912 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:22:11.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38380571663142912 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:22:11.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38380571663142912 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:22:11.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38380571663142912 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:22:11.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38380571663142912 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:22:11.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38380571663142912 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:22:11.629 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38380571663142912 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:22:11.629 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38380571663142912 [0;39m <==      Total: 8
2023-05-14 00:22:11.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38380571663142912 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":182,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:22:11.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38380571663142912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-14 00:22:11.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38380572216791040 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:22:11.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38380572216791040 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:22:11.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38380572216791040 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:22:11.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38380572216791040 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:22:11.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38380572216791040 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:22:11.753 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38380572216791040 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:22:11.755 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38380572216791040 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:22:11.755 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38380572216791040 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:22:11.756 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38380572216791040 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:22:11.756 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38380572216791040 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:22:11.756 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38380572216791040 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:22:11.756 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38380572216791040 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:22:11.757 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38380572216791040 [0;39m <==      Total: 4
2023-05-14 00:22:11.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38380572216791040 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:22:11.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38380572216791040 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 00:22:11.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38380572606861312 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:22:11.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38380572606861312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:22:11.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38380572606861312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:22:11.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38380572606861312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:22:11.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38380572606861312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:22:11.846 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38380572606861312 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:22:11.846 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38380572606861312 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:22:11.847 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38380572606861312 [0;39m <==    Columns: id, content
2023-05-14 00:22:11.847 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38380572606861312 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:22:11.847 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38380572606861312 [0;39m <==      Total: 1
2023-05-14 00:22:11.848 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38380572606861312 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:22:11.848 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38380572606861312 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:22:11.880 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38380572606861312 [0;39m <==    Updates: 1
2023-05-14 00:22:11.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38380572606861312 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:22:11.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38380572606861312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š38 ms -------------
2023-05-14 00:22:13.593 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:22:14.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:22:19.934 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:22:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38380669742747648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:22:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380669742747648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:22:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380669742747648 [0;39m ==> Parameters: 
2023-05-14 00:22:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380669742747648 [0;39m <==    Updates: 1
2023-05-14 00:22:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38380669742747648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 00:22:35.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:22:37.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:22:43.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:22:44.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:22:47.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38380774642290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380774642290688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380774642290688 [0;39m ==> Parameters: 
2023-05-14 00:23:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38380774642290688 [0;39m <==    Updates: 0
2023-05-14 00:23:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38380774642290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-14 00:23:01.806 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38380795584450560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:23:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380795584450560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:23:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380795584450560 [0;39m ==> Parameters: 
2023-05-14 00:23:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380795584450560 [0;39m <==    Updates: 1
2023-05-14 00:23:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38380795584450560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:23:13.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:14.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:17.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:25.888 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38380921405181952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:23:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380921405181952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:23:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380921405181952 [0;39m ==> Parameters: 
2023-05-14 00:23:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38380921405181952 [0;39m <==    Updates: 1
2023-05-14 00:23:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38380921405181952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:23:43.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:44.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:45.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:47.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:49.530 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:23:51.855 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:24:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38381026258587648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:24:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381026258587648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:24:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381026258587648 [0;39m ==> Parameters: 
2023-05-14 00:24:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381026258587648 [0;39m <==    Updates: 0
2023-05-14 00:24:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38381026258587648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:24:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38381047272050688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:24:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381047272050688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:24:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381047272050688 [0;39m ==> Parameters: 
2023-05-14 00:24:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381047272050688 [0;39m <==    Updates: 1
2023-05-14 00:24:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38381047272050688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:24:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:24:14.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:24:17.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:24:19.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:24:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38381173076004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:24:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381173076004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:24:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381173076004864 [0;39m ==> Parameters: 
2023-05-14 00:24:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381173076004864 [0;39m <==    Updates: 1
2023-05-14 00:24:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38381173076004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:24:43.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:24:44.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:24:45.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:24:49.789 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:25:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38381277933604864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:25:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381277933604864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:25:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381277933604864 [0;39m ==> Parameters: 
2023-05-14 00:25:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381277933604864 [0;39m <==    Updates: 0
2023-05-14 00:25:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38381277933604864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:25:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38381298913513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:25:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381298913513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:25:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381298913513472 [0;39m ==> Parameters: 
2023-05-14 00:25:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381298913513472 [0;39m <==    Updates: 1
2023-05-14 00:25:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38381298913513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:25:05.741 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:25:07.797 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:25:14.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:25:17.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:25:29.839 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:25:31.877 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:25:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38381424767799296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:25:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381424767799296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:25:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381424767799296 [0;39m ==> Parameters: 
2023-05-14 00:25:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381424767799296 [0;39m <==    Updates: 1
2023-05-14 00:25:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38381424767799296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:25:45.024 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:25:45.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:25:47.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:25:55.949 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:26:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38381529596039168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:26:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381529596039168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:26:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381529596039168 [0;39m ==> Parameters: 
2023-05-14 00:26:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381529596039168 [0;39m <==    Updates: 0
2023-05-14 00:26:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38381529596039168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:26:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38381550588530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:26:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381550588530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:26:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381550588530688 [0;39m ==> Parameters: 
2023-05-14 00:26:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381550588530688 [0;39m <==    Updates: 1
2023-05-14 00:26:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38381550588530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:26:14.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:26:15.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:26:17.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:26:21.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:26:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38381676388290560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:26:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381676388290560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:26:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381676388290560 [0;39m ==> Parameters: 
2023-05-14 00:26:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381676388290560 [0;39m <==    Updates: 1
2023-05-14 00:26:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38381676388290560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:26:44.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:26:48.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:27:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38381781233307648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:27:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381781233307648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:27:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381781233307648 [0;39m ==> Parameters: 
2023-05-14 00:27:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38381781233307648 [0;39m <==    Updates: 0
2023-05-14 00:27:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38381781233307648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:27:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38381802242576384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381802242576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381802242576384 [0;39m ==> Parameters: 
2023-05-14 00:27:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381802242576384 [0;39m <==    Updates: 1
2023-05-14 00:27:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38381802242576384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:27:12.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:27:14.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:27:16.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:27:18.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:27:34.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:27:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38381928080084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381928080084992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:27:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381928080084992 [0;39m ==> Parameters: 
2023-05-14 00:27:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38381928080084992 [0;39m <==    Updates: 1
2023-05-14 00:27:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38381928080084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:27:36.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:27:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:27:45.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:27:47.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:27:58.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:28:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38382032925102080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:28:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382032925102080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:28:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382032925102080 [0;39m ==> Parameters: 
2023-05-14 00:28:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382032925102080 [0;39m <==    Updates: 0
2023-05-14 00:28:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38382032925102080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:28:00.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:28:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38382053884039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:28:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382053884039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:28:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382053884039168 [0;39m ==> Parameters: 
2023-05-14 00:28:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382053884039168 [0;39m <==    Updates: 1
2023-05-14 00:28:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38382053884039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:28:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:28:15.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:28:17.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:28:22.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:28:24.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:28:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38382179738324992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:28:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382179738324992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:28:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382179738324992 [0;39m ==> Parameters: 
2023-05-14 00:28:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382179738324992 [0;39m <==    Updates: 1
2023-05-14 00:28:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38382179738324992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-14 00:28:43.591 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:28:44.605 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:28:48.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:28:50.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:29:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38382284591730688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:29:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382284591730688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:29:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382284591730688 [0;39m ==> Parameters: 
2023-05-14 00:29:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382284591730688 [0;39m <==    Updates: 0
2023-05-14 00:29:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38382284591730688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 00:29:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38382305529696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:29:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382305529696256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:29:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382305529696256 [0;39m ==> Parameters: 
2023-05-14 00:29:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382305529696256 [0;39m <==    Updates: 1
2023-05-14 00:29:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38382305529696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:29:13.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:29:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:29:15.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:29:19.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:29:34.689 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38379594319007744 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šCUJ6PYHLUdï¼Œsession idï¼š1cï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 00:29:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38382431354621952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:29:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382431354621952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:29:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382431354621952 [0;39m ==> Parameters: 
2023-05-14 00:29:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382431354621952 [0;39m <==    Updates: 1
2023-05-14 00:29:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38382431354621952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:29:37.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:29:39.428 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:29:41.032 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38379631228882944 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šFrwxtxMOhWï¼Œsession idï¼š1dï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 00:29:41.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38382458122670080 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:29:41.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38382458122670080 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:29:41.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38382458122670080 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:29:41.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38382458122670080 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:29:41.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38382458122670080 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:29:41.387 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38382458122670080 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:29:41.387 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38382458122670080 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:29:41.388 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382458122670080 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:29:41.388 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382458122670080 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 183, 7
2023-05-14 00:29:41.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382458122670080 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:29:41.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382458122670080 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:29:41.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38382458139447296 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:29:41.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382458122670080 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:29:41.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38382458139447296 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:29:41.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382458122670080 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:29:41.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38382458139447296 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:29:41.390 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382458122670080 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:29:41.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38382458139447296 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:29:41.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38382458139447296 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:29:41.390 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382458122670080 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:29:41.390 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382458122670080 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:29:41.391 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38382458122670080 [0;39m <==      Total: 8
2023-05-14 00:29:41.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38382458122670080 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":183,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:29:41.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38382458122670080 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 00:29:41.393 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382458139447296 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:29:41.394 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382458139447296 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:29:41.395 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382458139447296 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:29:41.395 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382458139447296 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:29:41.395 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382458139447296 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:29:41.395 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382458139447296 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:29:41.396 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382458139447296 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:29:41.396 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382458139447296 [0;39m <==      Total: 4
2023-05-14 00:29:41.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38382458139447296 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:29:41.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38382458139447296 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 00:29:41.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38382459037028352 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:29:41.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38382459037028352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:29:41.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38382459037028352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:29:41.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38382459037028352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:29:41.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38382459037028352 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:29:41.609 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38382459037028352 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:29:41.609 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38382459037028352 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:29:41.610 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38382459037028352 [0;39m <==    Columns: id, content
2023-05-14 00:29:41.610 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38382459037028352 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:29:41.611 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38382459037028352 [0;39m <==      Total: 1
2023-05-14 00:29:41.611 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38382459037028352 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:29:41.611 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38382459037028352 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:29:41.702 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38382459037028352 [0;39m <==    Updates: 1
2023-05-14 00:29:41.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38382459037028352 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:29:41.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38382459037028352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š100 ms -------------
2023-05-14 00:29:43.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:29:44.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:29:44.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38382471334727680 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:29:44.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38382471334727680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:29:44.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38382471334727680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:29:44.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38382471334727680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:29:44.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38382471334727680 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:29:44.537 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382471334727680 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:29:44.538 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382471334727680 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:29:44.540 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382471334727680 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:29:44.540 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382471334727680 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:29:44.540 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382471334727680 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:29:44.541 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382471334727680 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:29:44.541 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382471334727680 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:29:44.541 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382471334727680 [0;39m <==      Total: 4
2023-05-14 00:29:44.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38382471334727680 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:29:44.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38382471334727680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 00:29:45.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38382475159932928 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:29:45.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38382475159932928 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:29:45.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38382475159932928 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:29:45.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38382475159932928 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:29:45.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38382475159932928 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:29:45.448 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382475159932928 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:29:45.449 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382475159932928 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:29:45.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382475159932928 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:29:45.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382475159932928 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:29:45.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382475159932928 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:29:45.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382475159932928 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:29:45.451 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382475159932928 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:29:45.451 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382475159932928 [0;39m <==      Total: 4
2023-05-14 00:29:45.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38382475159932928 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:29:45.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38382475159932928 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 00:29:45.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:29:47.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:30:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38382536258359296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:30:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382536258359296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:30:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382536258359296 [0;39m ==> Parameters: 
2023-05-14 00:30:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382536258359296 [0;39m <==    Updates: 0
2023-05-14 00:30:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38382536258359296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:30:01.880 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:30:04.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:30:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38382557196324864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:30:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382557196324864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:30:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382557196324864 [0;39m ==> Parameters: 
2023-05-14 00:30:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382557196324864 [0;39m <==    Updates: 1
2023-05-14 00:30:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38382557196324864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 00:30:14.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:30:17.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:30:28.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:30:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38382683054804992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:30:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382683054804992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:30:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382683054804992 [0;39m ==> Parameters: 
2023-05-14 00:30:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382683054804992 [0;39m <==    Updates: 1
2023-05-14 00:30:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38382683054804992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:30:44.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:30:47.422 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:30:52.568 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:31:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38382787920793600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:31:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382787920793600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:31:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382787920793600 [0;39m ==> Parameters: 
2023-05-14 00:31:00.031 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38382787920793600 [0;39m <==    Updates: 0
2023-05-14 00:31:00.031 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38382787920793600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-14 00:31:02.901 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38379594168012800 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šFrwxtxMOhWï¼Œsession idï¼š1dï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 00:31:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38382808858759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:31:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382808858759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:31:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382808858759168 [0;39m ==> Parameters: 
2023-05-14 00:31:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382808858759168 [0;39m <==    Updates: 1
2023-05-14 00:31:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38382808858759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:31:14.144 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38379594319007744 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼štVJvIyv4Z9ï¼Œsession idï¼š1eï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 00:31:14.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:31:14.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38382849296044032 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:31:14.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38382849296044032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:31:14.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38382849296044032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:31:14.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38382849296044032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:31:14.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38382849296044032 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:31:14.649 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38382849296044032 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:31:14.650 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38382849296044032 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:31:14.650 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382849296044032 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:31:14.651 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382849296044032 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 184, 7
2023-05-14 00:31:14.651 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382849296044032 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:31:14.651 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382849296044032 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:31:14.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38382849308626944 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:31:14.651 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382849296044032 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:31:14.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38382849308626944 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:31:14.651 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382849296044032 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:31:14.652 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382849296044032 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:31:14.652 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382849296044032 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:31:14.652 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38382849296044032 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:31:14.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38382849308626944 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:31:14.652 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38382849296044032 [0;39m <==      Total: 8
2023-05-14 00:31:14.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38382849308626944 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:31:14.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38382849308626944 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:31:14.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38382849296044032 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":184,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:31:14.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38382849296044032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:31:14.653 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382849308626944 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:31:14.653 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382849308626944 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:31:14.655 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382849308626944 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:31:14.655 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382849308626944 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:31:14.655 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382849308626944 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:31:14.656 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382849308626944 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:31:14.656 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382849308626944 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:31:14.656 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382849308626944 [0;39m <==      Total: 4
2023-05-14 00:31:14.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38382849308626944 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:31:14.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38382849308626944 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:31:15.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38382851208646656 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:31:15.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38382851208646656 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:31:15.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38382851208646656 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:31:15.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38382851208646656 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:31:15.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38382851208646656 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:31:15.105 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38382851208646656 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:31:15.106 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38382851208646656 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:31:15.106 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38382851208646656 [0;39m <==    Columns: id, content
2023-05-14 00:31:15.107 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38382851208646656 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:31:15.107 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38382851208646656 [0;39m <==      Total: 1
2023-05-14 00:31:15.107 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38382851208646656 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:31:15.107 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38382851208646656 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:31:15.114 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38382851208646656 [0;39m <==    Updates: 1
2023-05-14 00:31:15.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38382851208646656 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:31:15.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38382851208646656 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-14 00:31:18.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:31:20.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:31:23.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38382885409001472 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:31:23.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38382885409001472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:31:23.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38382885409001472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:31:23.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38382885409001472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:31:23.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38382885409001472 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:31:23.260 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382885409001472 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:31:23.260 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382885409001472 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:31:23.261 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382885409001472 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:31:23.261 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382885409001472 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:31:23.261 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382885409001472 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:31:23.261 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382885409001472 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:31:23.262 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38382885409001472 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:31:23.262 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38382885409001472 [0;39m <==      Total: 4
2023-05-14 00:31:23.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38382885409001472 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:31:23.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38382885409001472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 00:31:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38382934675296256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:31:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382934675296256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:31:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382934675296256 [0;39m ==> Parameters: 
2023-05-14 00:31:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38382934675296256 [0;39m <==    Updates: 1
2023-05-14 00:31:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38382934675296256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 00:31:44.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:31:45.031 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:31:49.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:32:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38383039604199424 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:32:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383039604199424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:32:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383039604199424 [0;39m ==> Parameters: 
2023-05-14 00:32:00.137 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383039604199424 [0;39m <==    Updates: 0
2023-05-14 00:32:00.137 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38383039604199424 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š116æ¯«ç§’
2023-05-14 00:32:04.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383059309039616 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:32:04.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383059309039616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:32:04.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383059309039616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:32:04.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383059309039616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:32:04.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383059309039616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:32:04.720 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383059309039616 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:32:04.721 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383059309039616 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:32:04.722 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383059309039616 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:32:04.722 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383059309039616 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 185, 7
2023-05-14 00:32:04.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383059309039616 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:32:04.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383059309039616 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:32:04.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383059309039616 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:32:04.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383059309039616 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:32:04.724 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383059309039616 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:32:04.724 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383059309039616 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:32:04.724 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383059309039616 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:32:04.724 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383059309039616 [0;39m <==      Total: 8
2023-05-14 00:32:04.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383059309039616 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":185,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:32:04.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383059309039616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 00:32:04.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383059514560512 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:32:04.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383059514560512 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:32:04.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383059514560512 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:32:04.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383059514560512 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:32:04.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383059514560512 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:32:04.771 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383059514560512 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:32:04.771 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383059514560512 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:32:04.773 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383059514560512 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:32:04.773 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383059514560512 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:32:04.774 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383059514560512 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:32:04.774 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383059514560512 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:32:04.774 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383059514560512 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:32:04.774 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383059514560512 [0;39m <==      Total: 4
2023-05-14 00:32:04.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383059514560512 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:32:04.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383059514560512 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 00:32:04.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383059808161792 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:32:04.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383059808161792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:32:04.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383059808161792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:32:04.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383059808161792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:32:04.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383059808161792 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:32:04.839 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383059808161792 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:32:04.839 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383059808161792 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:32:04.840 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38383059808161792 [0;39m <==    Columns: id, content
2023-05-14 00:32:04.841 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38383059808161792 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:32:04.841 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383059808161792 [0;39m <==      Total: 1
2023-05-14 00:32:04.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383059808161792 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:32:04.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383059808161792 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:32:04.843 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383059808161792 [0;39m <==    Updates: 1
2023-05-14 00:32:04.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383059808161792 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:32:04.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383059808161792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:32:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38383060521193472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:32:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383060521193472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:32:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383060521193472 [0;39m ==> Parameters: 
2023-05-14 00:32:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383060521193472 [0;39m <==    Updates: 1
2023-05-14 00:32:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38383060521193472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 00:32:09.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:32:14.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:32:15.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:32:15.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383106528514048 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:32:15.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383106528514048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:32:15.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383106528514048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:32:15.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383106528514048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:32:15.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383106528514048 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:32:15.979 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383106528514048 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:32:15.979 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383106528514048 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:32:15.981 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383106528514048 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:32:15.981 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383106528514048 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:32:15.981 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383106528514048 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:32:15.982 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383106528514048 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:32:15.982 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383106528514048 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:32:15.982 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383106528514048 [0;39m <==      Total: 4
2023-05-14 00:32:15.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383106528514048 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:32:15.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383106528514048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:32:17.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:32:33.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:32:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38383186383867904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:32:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383186383867904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:32:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383186383867904 [0;39m ==> Parameters: 
2023-05-14 00:32:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383186383867904 [0;39m <==    Updates: 1
2023-05-14 00:32:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38383186383867904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:32:44.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:32:45.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383230847684608 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:32:45.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383230847684608 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:32:45.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383230847684608 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:32:45.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383230847684608 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:32:45.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383230847684608 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:32:45.622 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383230847684608 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:32:45.623 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383230847684608 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:32:45.625 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383230847684608 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:32:45.625 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383230847684608 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 186, 7
2023-05-14 00:32:45.626 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383230847684608 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:32:45.626 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383230847684608 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:32:45.626 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383230847684608 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:32:45.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383230847684608 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:32:45.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383230847684608 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:32:45.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383230847684608 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:32:45.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383230847684608 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:32:45.627 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383230847684608 [0;39m <==      Total: 8
2023-05-14 00:32:45.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383230847684608 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":186,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:32:45.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383230847684608 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-14 00:32:46.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383232626069504 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:32:46.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383232626069504 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:32:46.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383232626069504 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:32:46.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383232626069504 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:32:46.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383232626069504 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:32:46.042 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383232626069504 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:32:46.043 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383232626069504 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:32:46.044 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383232626069504 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:32:46.044 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383232626069504 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:32:46.044 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383232626069504 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:32:46.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383232626069504 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:32:46.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383232626069504 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:32:46.045 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383232626069504 [0;39m <==      Total: 4
2023-05-14 00:32:46.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383232626069504 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:32:46.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383232626069504 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:32:46.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383234807107584 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:32:46.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383234807107584 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:32:46.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383234807107584 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:32:46.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383234807107584 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:32:46.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383234807107584 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:32:46.562 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383234807107584 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:32:46.563 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383234807107584 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:32:46.563 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38383234807107584 [0;39m <==    Columns: id, content
2023-05-14 00:32:46.564 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38383234807107584 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:32:46.564 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383234807107584 [0;39m <==      Total: 1
2023-05-14 00:32:46.564 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383234807107584 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:32:46.565 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383234807107584 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:32:46.573 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383234807107584 [0;39m <==    Updates: 1
2023-05-14 00:32:46.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383234807107584 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:32:46.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383234807107584 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-14 00:32:47.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:32:57.427 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:33:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38383291212107776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:33:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383291212107776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:33:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383291212107776 [0;39m ==> Parameters: 
2023-05-14 00:33:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383291212107776 [0;39m <==    Updates: 0
2023-05-14 00:33:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38383291212107776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 00:33:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38383312154267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:33:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383312154267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:33:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383312154267648 [0;39m ==> Parameters: 
2023-05-14 00:33:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383312154267648 [0;39m <==    Updates: 1
2023-05-14 00:33:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38383312154267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 00:33:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:33:15.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:33:17.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:33:21.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:33:29.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383416512745472 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:33:29.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383416512745472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:33:29.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383416512745472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:33:29.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383416512745472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:33:29.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383416512745472 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:33:29.885 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383416512745472 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:33:29.886 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383416512745472 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:33:29.887 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383416512745472 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:33:29.887 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383416512745472 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:33:29.888 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383416512745472 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:33:29.888 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383416512745472 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:33:29.888 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383416512745472 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:33:29.889 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383416512745472 [0;39m <==      Total: 4
2023-05-14 00:33:29.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383416512745472 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:33:29.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383416512745472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 00:33:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38383438000164864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:33:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383438000164864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:33:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383438000164864 [0;39m ==> Parameters: 
2023-05-14 00:33:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383438000164864 [0;39m <==    Updates: 1
2023-05-14 00:33:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38383438000164864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:33:39.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383456652234752 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:33:39.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383456652234752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:33:39.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383456652234752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:33:39.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383456652234752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:33:39.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383456652234752 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:33:39.456 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383456652234752 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:33:39.459 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383456652234752 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:33:39.462 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383456652234752 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:33:39.463 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383456652234752 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 187, 7
2023-05-14 00:33:39.463 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383456652234752 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:33:39.463 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383456652234752 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:33:39.463 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383456652234752 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:33:39.464 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383456652234752 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:33:39.464 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383456652234752 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:33:39.464 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383456652234752 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:33:39.464 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383456652234752 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:33:39.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383456660623360 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:33:39.465 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383456652234752 [0;39m <==      Total: 8
2023-05-14 00:33:39.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383456652234752 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":187,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:33:39.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383456652234752 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 00:33:39.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383456660623360 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:33:39.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383456660623360 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:33:39.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383456660623360 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:33:39.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383456660623360 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:33:39.469 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383456660623360 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:33:39.469 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383456660623360 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:33:39.470 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383456660623360 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:33:39.470 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383456660623360 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:33:39.471 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383456660623360 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:33:39.471 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383456660623360 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:33:39.471 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383456660623360 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:33:39.471 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383456660623360 [0;39m <==      Total: 4
2023-05-14 00:33:39.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383456660623360 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:33:39.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383456660623360 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-14 00:33:39.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383456966807552 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:33:39.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383456966807552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:33:39.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383456966807552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:33:39.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383456966807552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:33:39.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383456966807552 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:33:39.530 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383456966807552 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:33:39.530 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383456966807552 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:33:39.532 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38383456966807552 [0;39m <==    Columns: id, content
2023-05-14 00:33:39.533 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38383456966807552 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:33:39.533 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383456966807552 [0;39m <==      Total: 1
2023-05-14 00:33:39.534 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383456966807552 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:33:39.534 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383456966807552 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:33:39.536 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383456966807552 [0;39m <==    Updates: 1
2023-05-14 00:33:39.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383456966807552 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:33:39.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383456966807552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 00:33:42.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383468731830272 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:33:42.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383468731830272 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:33:42.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383468731830272 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:33:42.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383468731830272 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:33:42.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383468731830272 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:33:42.335 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383468731830272 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:33:42.335 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383468731830272 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:33:42.336 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383468731830272 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:33:42.336 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383468731830272 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:33:42.336 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383468731830272 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:33:42.336 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383468731830272 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:33:42.337 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383468731830272 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:33:42.337 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383468731830272 [0;39m <==      Total: 4
2023-05-14 00:33:42.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383468731830272 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:33:42.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383468731830272 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 00:33:44.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:33:49.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:34:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38383542874542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:34:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383542874542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:34:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383542874542080 [0;39m ==> Parameters: 
2023-05-14 00:34:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383542874542080 [0;39m <==    Updates: 0
2023-05-14 00:34:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38383542874542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 00:34:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38383563867033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:34:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383563867033600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:34:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383563867033600 [0;39m ==> Parameters: 
2023-05-14 00:34:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383563867033600 [0;39m <==    Updates: 1
2023-05-14 00:34:05.048 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38383563867033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2023-05-14 00:34:14.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:34:18.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:34:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38383689650016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:34:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383689650016256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:34:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383689650016256 [0;39m ==> Parameters: 
2023-05-14 00:34:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383689650016256 [0;39m <==    Updates: 1
2023-05-14 00:34:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38383689650016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 00:34:35.940 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:34:44.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:34:47.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383743119003648 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:34:47.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383743119003648 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:34:47.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383743119003648 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:34:47.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383743119003648 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:34:47.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383743119003648 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:34:47.754 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383743119003648 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:34:47.757 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383743119003648 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:34:47.759 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383743119003648 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:34:47.764 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383743119003648 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 188, 7
2023-05-14 00:34:47.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383743119003648 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:34:47.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383743119003648 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:34:47.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383743181918208 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:34:47.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383743119003648 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:34:47.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383743181918208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:34:47.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383743181918208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:34:47.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383743119003648 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:34:47.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383743181918208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:34:47.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383743119003648 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:34:47.768 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383743119003648 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:34:47.768 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38383743119003648 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:34:47.768 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38383743119003648 [0;39m <==      Total: 8
2023-05-14 00:34:47.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383743119003648 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":188,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:34:47.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383743119003648 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-14 00:34:47.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383743181918208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:34:47.815 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383743181918208 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:34:47.816 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383743181918208 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:34:47.817 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383743181918208 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:34:47.817 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383743181918208 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:34:47.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383743181918208 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:34:47.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383743181918208 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:34:47.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383743181918208 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:34:47.819 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383743181918208 [0;39m <==      Total: 4
2023-05-14 00:34:47.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383743181918208 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:34:47.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383743181918208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š52 ms -------------
2023-05-14 00:34:47.842 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:34:47.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383743647485952 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:34:47.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383743647485952 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:34:47.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383743647485952 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:34:47.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383743647485952 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:34:47.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383743647485952 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:34:47.880 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383743647485952 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:34:47.881 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383743647485952 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:34:47.882 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38383743647485952 [0;39m <==    Columns: id, content
2023-05-14 00:34:47.882 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38383743647485952 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:34:47.882 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38383743647485952 [0;39m <==      Total: 1
2023-05-14 00:34:47.882 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383743647485952 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:34:47.883 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383743647485952 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:34:47.892 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38383743647485952 [0;39m <==    Updates: 1
2023-05-14 00:34:47.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383743647485952 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:34:47.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383743647485952 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-14 00:34:49.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383752325500928 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:34:49.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383752325500928 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:34:49.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383752325500928 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:34:49.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383752325500928 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:34:49.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383752325500928 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:34:49.949 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383752325500928 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:34:49.949 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383752325500928 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:34:49.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383752325500928 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:34:49.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383752325500928 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:34:49.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383752325500928 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:34:49.951 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383752325500928 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:34:49.951 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383752325500928 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:34:49.951 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383752325500928 [0;39m <==      Total: 4
2023-05-14 00:34:49.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383752325500928 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:34:49.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383752325500928 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:34:50.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38383755039215616 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:34:50.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38383755039215616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:34:50.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38383755039215616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:34:50.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38383755039215616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:34:50.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38383755039215616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:34:50.595 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383755039215616 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:34:50.596 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383755039215616 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:34:50.596 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383755039215616 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:34:50.597 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383755039215616 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:34:50.597 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383755039215616 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:34:50.597 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383755039215616 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:34:50.597 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38383755039215616 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:34:50.597 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38383755039215616 [0;39m <==      Total: 4
2023-05-14 00:34:50.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38383755039215616 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:34:50.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38383755039215616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 00:35:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38383794541170688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:35:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383794541170688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:35:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383794541170688 [0;39m ==> Parameters: 
2023-05-14 00:35:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38383794541170688 [0;39m <==    Updates: 0
2023-05-14 00:35:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38383794541170688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-14 00:35:00.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:35:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38383815487524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:35:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383815487524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:35:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383815487524864 [0;39m ==> Parameters: 
2023-05-14 00:35:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383815487524864 [0;39m <==    Updates: 1
2023-05-14 00:35:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38383815487524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-14 00:35:14.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:35:17.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:35:24.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:35:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38383941308256256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:35:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383941308256256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:35:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383941308256256 [0;39m ==> Parameters: 
2023-05-14 00:35:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38383941308256256 [0;39m <==    Updates: 1
2023-05-14 00:35:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38383941308256256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:35:44.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:35:49.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:36:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38384046186827776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:36:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384046186827776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:36:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384046186827776 [0;39m ==> Parameters: 
2023-05-14 00:36:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384046186827776 [0;39m <==    Updates: 0
2023-05-14 00:36:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38384046186827776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 00:36:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38384067133181952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:36:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384067133181952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:36:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384067133181952 [0;39m ==> Parameters: 
2023-05-14 00:36:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384067133181952 [0;39m <==    Updates: 1
2023-05-14 00:36:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38384067133181952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:36:14.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:36:18.027 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:36:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38384192970690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:36:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384192970690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:36:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384192970690560 [0;39m ==> Parameters: 
2023-05-14 00:36:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384192970690560 [0;39m <==    Updates: 1
2023-05-14 00:36:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38384192970690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:36:38.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:36:44.435 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:36:47.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:37:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38384297840873472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:37:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384297840873472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:37:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384297840873472 [0;39m ==> Parameters: 
2023-05-14 00:37:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384297840873472 [0;39m <==    Updates: 0
2023-05-14 00:37:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38384297840873472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:37:02.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:37:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38384318837559296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:37:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384318837559296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:37:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384318837559296 [0;39m ==> Parameters: 
2023-05-14 00:37:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384318837559296 [0;39m <==    Updates: 1
2023-05-14 00:37:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38384318837559296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 00:37:14.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:37:17.162 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:37:26.864 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:37:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38384444633124864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:37:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384444633124864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:37:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384444633124864 [0;39m ==> Parameters: 
2023-05-14 00:37:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384444633124864 [0;39m <==    Updates: 1
2023-05-14 00:37:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38384444633124864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:37:44.303 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:37:51.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:38:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38384549482336256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:38:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384549482336256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:38:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384549482336256 [0;39m ==> Parameters: 
2023-05-14 00:38:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384549482336256 [0;39m <==    Updates: 0
2023-05-14 00:38:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38384549482336256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:38:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38384570479022080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:38:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384570479022080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:38:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384570479022080 [0;39m ==> Parameters: 
2023-05-14 00:38:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384570479022080 [0;39m <==    Updates: 1
2023-05-14 00:38:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38384570479022080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:38:14.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:38:17.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:38:19.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:38:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38384696278781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:38:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384696278781952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:38:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384696278781952 [0;39m ==> Parameters: 
2023-05-14 00:38:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384696278781952 [0;39m <==    Updates: 1
2023-05-14 00:38:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38384696278781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:38:44.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:38:47.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:39:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38384801132187648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:39:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384801132187648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:39:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384801132187648 [0;39m ==> Parameters: 
2023-05-14 00:39:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38384801132187648 [0;39m <==    Updates: 0
2023-05-14 00:39:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38384801132187648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:39:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38384822158233600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:39:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384822158233600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:39:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384822158233600 [0;39m ==> Parameters: 
2023-05-14 00:39:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384822158233600 [0;39m <==    Updates: 1
2023-05-14 00:39:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38384822158233600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:39:08.370 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:39:14.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:39:17.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:39:32.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:39:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38384947957993472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:39:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384947957993472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:39:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384947957993472 [0;39m ==> Parameters: 
2023-05-14 00:39:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38384947957993472 [0;39m <==    Updates: 1
2023-05-14 00:39:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38384947957993472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:39:44.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:39:47.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:39:56.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:40:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38385052786233344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:40:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385052786233344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:40:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385052786233344 [0;39m ==> Parameters: 
2023-05-14 00:40:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385052786233344 [0;39m <==    Updates: 0
2023-05-14 00:40:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38385052786233344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:40:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38385073791307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:40:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385073791307776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:40:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385073791307776 [0;39m ==> Parameters: 
2023-05-14 00:40:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385073791307776 [0;39m <==    Updates: 1
2023-05-14 00:40:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38385073791307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:40:14.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:40:21.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:40:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38385199628816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:40:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385199628816384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:40:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385199628816384 [0;39m ==> Parameters: 
2023-05-14 00:40:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385199628816384 [0;39m <==    Updates: 1
2023-05-14 00:40:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38385199628816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:40:44.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:40:47.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:41:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38385304469639168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:41:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385304469639168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:41:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385304469639168 [0;39m ==> Parameters: 
2023-05-14 00:41:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385304469639168 [0;39m <==    Updates: 0
2023-05-14 00:41:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38385304469639168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:41:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38385325420187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:41:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385325420187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:41:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385325420187648 [0;39m ==> Parameters: 
2023-05-14 00:41:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385325420187648 [0;39m <==    Updates: 1
2023-05-14 00:41:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38385325420187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:41:14.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:41:18.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:41:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38385451308027904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:41:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385451308027904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:41:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385451308027904 [0;39m ==> Parameters: 
2023-05-14 00:41:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385451308027904 [0;39m <==    Updates: 1
2023-05-14 00:41:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38385451308027904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:41:35.722 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:41:44.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:41:47.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:42:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38385556153044992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:42:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385556153044992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:42:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385556153044992 [0;39m ==> Parameters: 
2023-05-14 00:42:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385556153044992 [0;39m <==    Updates: 0
2023-05-14 00:42:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38385556153044992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:42:00.371 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:42:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38385577111982080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:42:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385577111982080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:42:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385577111982080 [0;39m ==> Parameters: 
2023-05-14 00:42:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385577111982080 [0;39m <==    Updates: 1
2023-05-14 00:42:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38385577111982080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:42:14.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:42:17.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:42:24.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:42:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38385702936907776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:42:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385702936907776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:42:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385702936907776 [0;39m ==> Parameters: 
2023-05-14 00:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385702936907776 [0;39m <==    Updates: 1
2023-05-14 00:42:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38385702936907776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:42:44.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:42:50.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:43:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38385807807090688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:43:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385807807090688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:43:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385807807090688 [0;39m ==> Parameters: 
2023-05-14 00:43:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38385807807090688 [0;39m <==    Updates: 0
2023-05-14 00:43:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38385807807090688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 00:43:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38385828740861952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:43:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385828740861952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:43:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385828740861952 [0;39m ==> Parameters: 
2023-05-14 00:43:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385828740861952 [0;39m <==    Updates: 1
2023-05-14 00:43:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38385828740861952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:43:14.559 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:43:20.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:43:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38385954595147776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:43:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385954595147776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:43:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385954595147776 [0;39m ==> Parameters: 
2023-05-14 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38385954595147776 [0;39m <==    Updates: 1
2023-05-14 00:43:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38385954595147776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:43:39.953 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:43:44.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:43:47.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:44:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38386059473719296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:44:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386059473719296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:44:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386059473719296 [0;39m ==> Parameters: 
2023-05-14 00:44:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386059473719296 [0;39m <==    Updates: 0
2023-05-14 00:44:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38386059473719296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:44:04.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:44:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38386080428462080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:44:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386080428462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:44:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386080428462080 [0;39m ==> Parameters: 
2023-05-14 00:44:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386080428462080 [0;39m <==    Updates: 1
2023-05-14 00:44:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38386080428462080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:44:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:44:17.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:44:28.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:44:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38386206244999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:44:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386206244999168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:44:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386206244999168 [0;39m ==> Parameters: 
2023-05-14 00:44:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386206244999168 [0;39m <==    Updates: 1
2023-05-14 00:44:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38386206244999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:44:44.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:44:47.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:44:52.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:45:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38386311102599168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:45:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386311102599168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:45:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386311102599168 [0;39m ==> Parameters: 
2023-05-14 00:45:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386311102599168 [0;39m <==    Updates: 0
2023-05-14 00:45:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38386311102599168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:45:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38386332078313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:45:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386332078313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:45:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386332078313472 [0;39m ==> Parameters: 
2023-05-14 00:45:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386332078313472 [0;39m <==    Updates: 1
2023-05-14 00:45:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38386332078313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:45:14.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:45:19.915 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:45:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38386457924210688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:45:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386457924210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:45:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386457924210688 [0;39m ==> Parameters: 
2023-05-14 00:45:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386457924210688 [0;39m <==    Updates: 1
2023-05-14 00:45:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38386457924210688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:45:44.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:45:48.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:46:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38386562756644864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:46:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386562756644864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:46:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386562756644864 [0;39m ==> Parameters: 
2023-05-14 00:46:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386562756644864 [0;39m <==    Updates: 0
2023-05-14 00:46:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38386562756644864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:46:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38386583740747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:46:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386583740747776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:46:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386583740747776 [0;39m ==> Parameters: 
2023-05-14 00:46:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386583740747776 [0;39m <==    Updates: 1
2023-05-14 00:46:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38386583740747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:46:09.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:46:14.586 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:46:17.402 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:46:33.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:46:35.031 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38386709662142464 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:46:35.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386709662142464 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:46:35.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386709662142464 [0;39m ==> Parameters: 
2023-05-14 00:46:35.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386709662142464 [0;39m <==    Updates: 1
2023-05-14 00:46:35.033 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38386709662142464 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:46:44.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:46:48.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:46:55.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38386794756182016 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:46:55.320 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38386794756182016 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:46:55.320 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38386794756182016 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:46:55.320 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38386794756182016 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:46:55.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38386794756182016 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:46:55.322 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386794756182016 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:46:55.322 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386794756182016 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:46:55.324 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386794756182016 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:46:55.324 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386794756182016 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:46:55.324 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386794756182016 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:46:55.325 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386794756182016 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:46:55.325 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386794756182016 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:46:55.325 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386794756182016 [0;39m <==      Total: 4
2023-05-14 00:46:55.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38386794756182016 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:46:55.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38386794756182016 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 00:46:56.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38386797612503040 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:46:56.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38386797612503040 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:46:56.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38386797612503040 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:46:56.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38386797612503040 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:46:56.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38386797612503040 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:46:56.003 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386797612503040 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:46:56.003 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386797612503040 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:46:56.004 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386797612503040 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:46:56.004 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386797612503040 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:46:56.004 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386797612503040 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:46:56.005 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386797612503040 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:46:56.005 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386797612503040 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:46:56.005 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386797612503040 [0;39m <==      Total: 4
2023-05-14 00:46:56.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38386797612503040 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:46:56.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38386797612503040 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:46:56.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38386798212288512 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:46:56.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38386798212288512 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:46:56.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38386798212288512 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:46:56.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38386798212288512 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:46:56.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38386798212288512 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:46:56.145 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386798212288512 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:46:56.145 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386798212288512 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:46:56.146 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386798212288512 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:46:56.146 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386798212288512 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:46:56.146 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386798212288512 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:46:56.147 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386798212288512 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:46:56.147 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386798212288512 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:46:56.147 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386798212288512 [0;39m <==      Total: 4
2023-05-14 00:46:56.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38386798212288512 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:46:56.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38386798212288512 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:46:58.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:47:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38386814402301952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:47:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386814402301952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:47:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386814402301952 [0;39m ==> Parameters: 
2023-05-14 00:47:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38386814402301952 [0;39m <==    Updates: 0
2023-05-14 00:47:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38386814402301952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 00:47:03.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38386830109970432 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:47:03.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38386830109970432 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:47:03.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38386830109970432 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:47:03.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38386830109970432 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:47:03.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38386830109970432 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:47:03.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386830109970432 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:47:03.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386830109970432 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:47:03.751 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386830109970432 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:47:03.751 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386830109970432 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:47:03.751 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386830109970432 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:47:03.752 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386830109970432 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:47:03.752 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38386830109970432 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:47:03.752 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38386830109970432 [0;39m <==      Total: 4
2023-05-14 00:47:03.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38386830109970432 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:47:03.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38386830109970432 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 00:47:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38386835386404864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:47:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386835386404864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:47:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386835386404864 [0;39m ==> Parameters: 
2023-05-14 00:47:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386835386404864 [0;39m <==    Updates: 1
2023-05-14 00:47:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38386835386404864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:47:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:47:17.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:47:22.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:47:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38386961232302080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:47:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386961232302080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:47:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386961232302080 [0;39m ==> Parameters: 
2023-05-14 00:47:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38386961232302080 [0;39m <==    Updates: 1
2023-05-14 00:47:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38386961232302080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:47:44.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:47:45.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:47:49.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:48:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38387066102484992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:48:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387066102484992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:48:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387066102484992 [0;39m ==> Parameters: 
2023-05-14 00:48:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387066102484992 [0;39m <==    Updates: 0
2023-05-14 00:48:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38387066102484992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:48:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38387087053033472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:48:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387087053033472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:48:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387087053033472 [0;39m ==> Parameters: 
2023-05-14 00:48:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387087053033472 [0;39m <==    Updates: 1
2023-05-14 00:48:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38387087053033472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:48:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:48:17.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:48:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38387212903124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:48:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387212903124992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:48:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387212903124992 [0;39m ==> Parameters: 
2023-05-14 00:48:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387212903124992 [0;39m <==    Updates: 1
2023-05-14 00:48:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38387212903124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:48:38.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:48:44.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:48:47.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:49:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38387317706199040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:49:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387317706199040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:49:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387317706199040 [0;39m ==> Parameters: 
2023-05-14 00:49:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387317706199040 [0;39m <==    Updates: 0
2023-05-14 00:49:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38387317706199040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:49:02.419 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:49:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38387338711273472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387338711273472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387338711273472 [0;39m ==> Parameters: 
2023-05-14 00:49:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387338711273472 [0;39m <==    Updates: 1
2023-05-14 00:49:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38387338711273472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:49:14.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:49:17.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:49:24.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:49:26.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:49:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38387464565559296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:49:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387464565559296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:49:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387464565559296 [0;39m ==> Parameters: 
2023-05-14 00:49:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387464565559296 [0;39m <==    Updates: 1
2023-05-14 00:49:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38387464565559296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:49:39.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38387485335752704 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:49:39.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38387485335752704 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:49:39.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38387485335752704 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:49:39.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38387485335752704 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:49:39.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38387485335752704 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:49:39.970 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387485335752704 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:49:39.971 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387485335752704 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:49:39.972 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387485335752704 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:49:39.972 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387485335752704 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:49:39.974 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387485335752704 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:49:39.974 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387485335752704 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:49:39.974 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387485335752704 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:49:39.976 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387485335752704 [0;39m <==      Total: 4
2023-05-14 00:49:39.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38387485335752704 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:49:39.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38387485335752704 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-14 00:49:41.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38387490171785216 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:49:41.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38387490171785216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:49:41.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38387490171785216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:49:41.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38387490171785216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:49:41.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38387490171785216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:49:41.122 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387490171785216 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:49:41.122 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387490171785216 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:49:41.123 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387490171785216 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:49:41.123 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387490171785216 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:49:41.123 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387490171785216 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:49:41.124 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387490171785216 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:49:41.124 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387490171785216 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:49:41.124 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387490171785216 [0;39m <==      Total: 4
2023-05-14 00:49:41.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38387490171785216 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:49:41.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38387490171785216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 00:49:41.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38387491765620736 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:49:41.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38387491765620736 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:49:41.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38387491765620736 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:49:41.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38387491765620736 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:49:41.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38387491765620736 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:49:41.501 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387491765620736 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:49:41.501 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387491765620736 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:49:41.502 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387491765620736 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:49:41.503 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387491765620736 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:49:41.503 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387491765620736 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:49:41.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387491765620736 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:49:41.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387491765620736 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:49:41.504 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387491765620736 [0;39m <==      Total: 4
2023-05-14 00:49:41.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38387491765620736 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:49:41.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38387491765620736 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 00:49:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:49:47.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:49:49.235 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:49:51.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:50:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38387569377021952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:50:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387569377021952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:50:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387569377021952 [0;39m ==> Parameters: 
2023-05-14 00:50:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387569377021952 [0;39m <==    Updates: 0
2023-05-14 00:50:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38387569377021952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:50:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38387590344347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:50:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387590344347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:50:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387590344347648 [0;39m ==> Parameters: 
2023-05-14 00:50:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387590344347648 [0;39m <==    Updates: 1
2023-05-14 00:50:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38387590344347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:50:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:50:15.134 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:50:17.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:50:19.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:50:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38387716236382208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:50:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387716236382208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:50:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387716236382208 [0;39m ==> Parameters: 
2023-05-14 00:50:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387716236382208 [0;39m <==    Updates: 1
2023-05-14 00:50:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38387716236382208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:50:43.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:50:44.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:50:47.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:50:49.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38387821035261952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:51:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387821035261952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:51:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387821035261952 [0;39m ==> Parameters: 
2023-05-14 00:51:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38387821035261952 [0;39m <==    Updates: 0
2023-05-14 00:51:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38387821035261952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:51:05.026 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38387842090668032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:51:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387842090668032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:51:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387842090668032 [0;39m ==> Parameters: 
2023-05-14 00:51:05.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387842090668032 [0;39m <==    Updates: 1
2023-05-14 00:51:05.029 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38387842090668032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:51:05.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:07.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:12.931 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38383456966807552 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼štVJvIyv4Z9ï¼Œsession idï¼š1eï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 00:51:13.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:14.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:17.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:17.848 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38386794756182016 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šQs8hqESWIAï¼Œsession idï¼š1fï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 00:51:18.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38387897400954880 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:51:18.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38387897400954880 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:51:18.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38387897400954880 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:51:18.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38387897400954880 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:51:18.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38387897400954880 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:51:18.217 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38387897400954880 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:51:18.218 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38387897400954880 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:51:18.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38387897438703616 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:51:18.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38387897438703616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:51:18.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38387897438703616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:51:18.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38387897438703616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:51:18.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38387897438703616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:51:18.219 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38387897400954880 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:51:18.221 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38387897400954880 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 189, 7
2023-05-14 00:51:18.221 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387897438703616 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:51:18.222 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38387897400954880 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:51:18.222 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38387897400954880 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:51:18.222 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38387897400954880 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:51:18.222 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38387897400954880 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:51:18.223 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38387897400954880 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:51:18.223 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387897438703616 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:51:18.223 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38387897400954880 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:51:18.223 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38387897400954880 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:51:18.223 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38387897400954880 [0;39m <==      Total: 8
2023-05-14 00:51:18.224 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387897438703616 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:51:18.224 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387897438703616 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:51:18.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38387897400954880 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":189,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:51:18.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38387897400954880 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-14 00:51:18.224 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387897438703616 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:51:18.224 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387897438703616 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:51:18.225 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38387897438703616 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:51:18.225 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38387897438703616 [0;39m <==      Total: 4
2023-05-14 00:51:18.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38387897438703616 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:51:18.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38387897438703616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 00:51:18.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38387898378227712 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:51:18.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38387898378227712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:51:18.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38387898378227712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:51:18.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38387898378227712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:51:18.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38387898378227712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:51:18.445 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38387898378227712 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:51:18.445 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38387898378227712 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:51:18.446 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38387898378227712 [0;39m <==    Columns: id, content
2023-05-14 00:51:18.446 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38387898378227712 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:51:18.446 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38387898378227712 [0;39m <==      Total: 1
2023-05-14 00:51:18.447 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38387898378227712 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:51:18.447 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38387898378227712 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:51:18.454 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38387898378227712 [0;39m <==    Updates: 1
2023-05-14 00:51:18.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38387898378227712 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:51:18.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38387898378227712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 00:51:29.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:31.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38387967831707648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:51:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387967831707648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:51:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387967831707648 [0;39m ==> Parameters: 
2023-05-14 00:51:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38387967831707648 [0;39m <==    Updates: 1
2023-05-14 00:51:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38387967831707648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:51:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:47.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:53.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:51:56.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38388072718667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:52:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388072718667776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:52:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388072718667776 [0;39m ==> Parameters: 
2023-05-14 00:52:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388072718667776 [0;39m <==    Updates: 0
2023-05-14 00:52:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38388072718667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 00:52:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38388093702770688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:52:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388093702770688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:52:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388093702770688 [0;39m ==> Parameters: 
2023-05-14 00:52:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388093702770688 [0;39m <==    Updates: 1
2023-05-14 00:52:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38388093702770688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:52:13.099 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:14.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:15.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:17.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:19.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:21.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38388219544473600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:52:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388219544473600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:52:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388219544473600 [0;39m ==> Parameters: 
2023-05-14 00:52:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388219544473600 [0;39m <==    Updates: 1
2023-05-14 00:52:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38388219544473600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:52:43.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:47.173 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:49.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:52:52.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38388291413872640 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:52:52.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38388291413872640 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:52:52.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38388291413872640 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:52:52.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38388291413872640 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:52:52.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38388291413872640 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:52:52.153 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38388291413872640 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:52:52.153 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38388291413872640 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:52:52.154 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388291413872640 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:52:52.155 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388291413872640 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:52:52.155 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388291413872640 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:52:52.155 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388291413872640 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:52:52.156 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388291413872640 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:52:52.156 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38388291413872640 [0;39m <==      Total: 4
2023-05-14 00:52:52.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38388291413872640 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:52:52.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38388291413872640 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 00:53:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38388324364324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:53:00.226 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388324364324864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:53:00.227 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388324364324864 [0;39m ==> Parameters: 
2023-05-14 00:53:00.230 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388324364324864 [0;39m <==    Updates: 0
2023-05-14 00:53:00.230 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38388324364324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š223æ¯«ç§’
2023-05-14 00:53:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38388345319067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388345319067648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388345319067648 [0;39m ==> Parameters: 
2023-05-14 00:53:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388345319067648 [0;39m <==    Updates: 1
2023-05-14 00:53:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38388345319067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:53:13.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:53:14.452 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:53:14.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38388386683293696 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:53:14.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38388386683293696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:53:14.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38388386683293696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:53:14.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38388386683293696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:53:14.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38388386683293696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:53:14.883 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38388386683293696 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:53:14.884 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38388386683293696 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:53:14.885 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38388386683293696 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:53:14.885 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38388386683293696 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 190, 7
2023-05-14 00:53:14.886 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38388386683293696 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:53:14.886 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38388386683293696 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:53:14.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38388386683293696 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:53:14.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38388386683293696 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:53:14.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38388386683293696 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:53:14.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38388386683293696 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:53:14.888 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38388386683293696 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:53:14.888 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38388386683293696 [0;39m <==      Total: 8
2023-05-14 00:53:14.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38388386683293696 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":190,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:53:14.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38388386683293696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š24 ms -------------
2023-05-14 00:53:14.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38388386821705728 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:53:14.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38388386821705728 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:53:14.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38388386821705728 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:53:14.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38388386821705728 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:53:14.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38388386821705728 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:53:14.898 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38388386821705728 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:53:14.898 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38388386821705728 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:53:14.899 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388386821705728 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:53:14.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388386821705728 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:53:14.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388386821705728 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:53:14.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388386821705728 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:53:14.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388386821705728 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:53:14.901 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38388386821705728 [0;39m <==      Total: 4
2023-05-14 00:53:14.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38388386821705728 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:53:14.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38388386821705728 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 00:53:17.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38388397051613184 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:53:17.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38388397051613184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:53:17.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38388397051613184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:53:17.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38388397051613184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:53:17.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38388397051613184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:53:17.338 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38388397051613184 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:53:17.338 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38388397051613184 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:53:17.339 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38388397051613184 [0;39m <==    Columns: id, content
2023-05-14 00:53:17.339 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38388397051613184 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:53:17.339 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38388397051613184 [0;39m <==      Total: 1
2023-05-14 00:53:17.340 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38388397051613184 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:53:17.340 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38388397051613184 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:53:17.343 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38388397051613184 [0;39m <==    Updates: 1
2023-05-14 00:53:17.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38388397051613184 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:53:17.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38388397051613184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 00:53:20.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:53:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38388471169159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:53:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388471169159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:53:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388471169159168 [0;39m ==> Parameters: 
2023-05-14 00:53:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388471169159168 [0;39m <==    Updates: 1
2023-05-14 00:53:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38388471169159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:53:37.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:53:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:53:45.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:53:47.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:54:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38388576081285120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:54:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388576081285120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:54:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388576081285120 [0;39m ==> Parameters: 
2023-05-14 00:54:00.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388576081285120 [0;39m <==    Updates: 0
2023-05-14 00:54:00.031 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38388576081285120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 00:54:01.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:54:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38388597027639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:54:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388597027639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:54:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388597027639296 [0;39m ==> Parameters: 
2023-05-14 00:54:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388597027639296 [0;39m <==    Updates: 1
2023-05-14 00:54:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38388597027639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:54:13.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:54:14.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:54:15.141 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:54:17.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:54:25.996 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:54:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38388722814816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:54:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388722814816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:54:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388722814816256 [0;39m ==> Parameters: 
2023-05-14 00:54:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388722814816256 [0;39m <==    Updates: 1
2023-05-14 00:54:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38388722814816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 00:54:44.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:54:45.163 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:54:47.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:54:49.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38388785515466752 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:54:49.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38388785515466752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:54:49.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38388785515466752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:54:49.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38388785515466752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:54:49.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38388785515466752 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:54:49.956 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38388785515466752 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:54:49.956 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38388785515466752 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:54:49.957 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388785515466752 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:54:49.957 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388785515466752 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:54:49.957 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388785515466752 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:54:49.958 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388785515466752 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:54:49.958 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38388785515466752 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:54:49.958 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38388785515466752 [0;39m <==      Total: 4
2023-05-14 00:54:49.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38388785515466752 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:54:49.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38388785515466752 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 00:54:51.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:55:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38388827693387776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:55:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388827693387776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:55:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388827693387776 [0;39m ==> Parameters: 
2023-05-14 00:55:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38388827693387776 [0;39m <==    Updates: 0
2023-05-14 00:55:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38388827693387776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:55:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38388848669102080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:55:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388848669102080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:55:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388848669102080 [0;39m ==> Parameters: 
2023-05-14 00:55:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388848669102080 [0;39m <==    Updates: 1
2023-05-14 00:55:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38388848669102080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:55:13.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:55:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:55:17.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:55:19.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:55:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38388974473056256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:55:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388974473056256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:55:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388974473056256 [0;39m ==> Parameters: 
2023-05-14 00:55:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38388974473056256 [0;39m <==    Updates: 1
2023-05-14 00:55:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38388974473056256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 00:55:41.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:55:44.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:55:46.165 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:55:48.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:56:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38389079339044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:56:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389079339044864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:56:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389079339044864 [0;39m ==> Parameters: 
2023-05-14 00:56:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389079339044864 [0;39m <==    Updates: 0
2023-05-14 00:56:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38389079339044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:56:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38389100314759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:56:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389100314759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:56:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389100314759168 [0;39m ==> Parameters: 
2023-05-14 00:56:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389100314759168 [0;39m <==    Updates: 1
2023-05-14 00:56:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38389100314759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:56:05.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:56:14.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:56:17.173 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:56:29.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:56:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38389226139684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:56:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389226139684864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:56:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389226139684864 [0;39m ==> Parameters: 
2023-05-14 00:56:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389226139684864 [0;39m <==    Updates: 1
2023-05-14 00:56:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38389226139684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:56:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:56:45.146 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:56:47.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:56:54.007 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:57:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38389330997284864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:57:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389330997284864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:57:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389330997284864 [0;39m ==> Parameters: 
2023-05-14 00:57:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389330997284864 [0;39m <==    Updates: 0
2023-05-14 00:57:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38389330997284864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:57:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38389351985582080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:57:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389351985582080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:57:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389351985582080 [0;39m ==> Parameters: 
2023-05-14 00:57:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389351985582080 [0;39m <==    Updates: 1
2023-05-14 00:57:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38389351985582080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:57:13.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:57:14.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:57:19.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:57:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38389477839867904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389477839867904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:57:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389477839867904 [0;39m ==> Parameters: 
2023-05-14 00:57:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389477839867904 [0;39m <==    Updates: 1
2023-05-14 00:57:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38389477839867904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:57:43.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:57:44.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:57:45.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:57:47.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:57:49.769 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:58:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38389582655524864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389582655524864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389582655524864 [0;39m ==> Parameters: 
2023-05-14 00:58:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389582655524864 [0;39m <==    Updates: 0
2023-05-14 00:58:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38389582655524864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 00:58:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38389603660599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:58:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389603660599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:58:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389603660599296 [0;39m ==> Parameters: 
2023-05-14 00:58:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389603660599296 [0;39m <==    Updates: 1
2023-05-14 00:58:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38389603660599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:58:08.024 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:58:14.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:58:15.238 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:58:17.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:58:32.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:58:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38389729481330688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:58:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389729481330688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:58:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389729481330688 [0;39m ==> Parameters: 
2023-05-14 00:58:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389729481330688 [0;39m <==    Updates: 1
2023-05-14 00:58:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38389729481330688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:58:44.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:58:47.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:58:56.469 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:59:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38389834338930688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 00:59:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389834338930688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 00:59:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389834338930688 [0;39m ==> Parameters: 
2023-05-14 00:59:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38389834338930688 [0;39m <==    Updates: 0
2023-05-14 00:59:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38389834338930688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 00:59:05.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38389855352393728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:59:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389855352393728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:59:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389855352393728 [0;39m ==> Parameters: 
2023-05-14 00:59:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389855352393728 [0;39m <==    Updates: 1
2023-05-14 00:59:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38389855352393728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:59:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:59:21.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:59:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38389981139570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 00:59:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389981139570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 00:59:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389981139570688 [0;39m ==> Parameters: 
2023-05-14 00:59:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38389981139570688 [0;39m <==    Updates: 1
2023-05-14 00:59:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38389981139570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 00:59:44.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:59:50.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 00:59:52.263 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390053495508992 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:59:52.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390053495508992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 00:59:52.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390053495508992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 00:59:52.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390053495508992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:59:52.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390053495508992 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:59:52.268 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390053495508992 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 00:59:52.268 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390053495508992 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:59:52.269 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390053495508992 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 00:59:52.269 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390053495508992 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 191, 7
2023-05-14 00:59:52.269 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390053495508992 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 00:59:52.269 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390053495508992 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 00:59:52.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390053495508992 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 00:59:52.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390053495508992 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 00:59:52.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390053495508992 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 00:59:52.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390053495508992 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 00:59:52.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390053495508992 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 00:59:52.271 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390053495508992 [0;39m <==      Total: 8
2023-05-14 00:59:52.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390053495508992 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":191,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 00:59:52.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390053495508992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 00:59:52.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390053680058368 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:59:52.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390053680058368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 00:59:52.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390053680058368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 00:59:52.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390053680058368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:59:52.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390053680058368 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:59:52.316 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390053680058368 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 00:59:52.317 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390053680058368 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:59:52.318 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390053680058368 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 00:59:52.318 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390053680058368 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 00:59:52.319 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390053680058368 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 00:59:52.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390053680058368 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 00:59:52.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390053680058368 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 00:59:52.320 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390053680058368 [0;39m <==      Total: 4
2023-05-14 00:59:52.320 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390053680058368 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 00:59:52.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390053680058368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-14 00:59:52.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390053990436864 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 00:59:52.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390053990436864 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 00:59:52.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390053990436864 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 00:59:52.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390053990436864 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 00:59:52.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390053990436864 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 00:59:52.384 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390053990436864 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 00:59:52.385 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390053990436864 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:59:52.386 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390053990436864 [0;39m <==    Columns: id, content
2023-05-14 00:59:52.386 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390053990436864 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 00:59:52.386 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390053990436864 [0;39m <==      Total: 1
2023-05-14 00:59:52.386 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390053990436864 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 00:59:52.387 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390053990436864 [0;39m ==> Parameters: 1(Long)
2023-05-14 00:59:52.393 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390053990436864 [0;39m <==    Updates: 1
2023-05-14 00:59:52.394 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390053990436864 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 00:59:52.394 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390053990436864 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-14 01:00:00.032 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38390086081056768 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:00:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390086081056768 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:00:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390086081056768 [0;39m ==> Parameters: 
2023-05-14 01:00:00.073 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390086081056768 [0;39m <==    Updates: 0
2023-05-14 01:00:00.073 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38390086081056768 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š41æ¯«ç§’
2023-05-14 01:00:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38390106943524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390106943524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:00:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390106943524864 [0;39m ==> Parameters: 
2023-05-14 01:00:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390106943524864 [0;39m <==    Updates: 1
2023-05-14 01:00:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38390106943524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 01:00:08.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390122110128128 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:08.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390122110128128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:00:08.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390122110128128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:00:08.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390122110128128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:08.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390122110128128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:08.626 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390122110128128 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:00:08.626 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390122110128128 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:08.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390122110128128 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:00:08.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390122110128128 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 192, 7
2023-05-14 01:00:08.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390122110128128 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:00:08.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390122110128128 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:00:08.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390122110128128 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:00:08.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390122110128128 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:00:08.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390122110128128 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:00:08.629 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390122110128128 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:00:08.629 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390122110128128 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:00:08.629 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390122110128128 [0;39m <==      Total: 8
2023-05-14 01:00:08.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390122110128128 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":192,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:00:08.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390122110128128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 01:00:08.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390122177236992 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:08.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390122177236992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:00:08.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390122177236992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:00:08.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390122177236992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:08.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390122177236992 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:08.641 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390122177236992 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:00:08.641 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390122177236992 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:08.642 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390122177236992 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:00:08.642 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390122177236992 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:00:08.642 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390122177236992 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:00:08.642 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390122177236992 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:00:08.643 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390122177236992 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:00:08.643 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390122177236992 [0;39m <==      Total: 4
2023-05-14 01:00:08.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390122177236992 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:00:08.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390122177236992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:00:09.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390127558529024 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:09.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390127558529024 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:00:09.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390127558529024 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:00:09.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390127558529024 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:09.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390127558529024 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:09.922 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390127558529024 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:00:09.922 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390127558529024 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:09.923 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390127558529024 [0;39m <==    Columns: id, content
2023-05-14 01:00:09.924 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390127558529024 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:00:09.924 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390127558529024 [0;39m <==      Total: 1
2023-05-14 01:00:09.924 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390127558529024 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:00:09.924 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390127558529024 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:09.932 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390127558529024 [0;39m <==    Updates: 1
2023-05-14 01:00:09.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390127558529024 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:00:09.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390127558529024 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 01:00:12.939 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:00:14.722 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:00:16.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390154913779712 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:16.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390154913779712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:00:16.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390154913779712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:00:16.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390154913779712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:16.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390154913779712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:16.446 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390154913779712 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:00:16.446 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390154913779712 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:16.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390154913779712 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:00:16.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390154913779712 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 193, 7
2023-05-14 01:00:16.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390154913779712 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:00:16.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390154913779712 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:00:16.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390154913779712 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:00:16.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390154913779712 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:00:16.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390154913779712 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:00:16.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390154913779712 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:00:16.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390154913779712 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:00:16.449 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390154913779712 [0;39m <==      Total: 8
2023-05-14 01:00:16.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390154913779712 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":193,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:00:16.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390154913779712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:00:16.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390154964111360 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:16.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390154964111360 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:00:16.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390154964111360 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:00:16.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390154964111360 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:16.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390154964111360 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:16.459 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390154964111360 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:00:16.460 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390154964111360 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:16.461 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390154964111360 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:00:16.461 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390154964111360 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:00:16.461 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390154964111360 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:00:16.462 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390154964111360 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:00:16.462 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390154964111360 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:00:16.462 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390154964111360 [0;39m <==      Total: 4
2023-05-14 01:00:16.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390154964111360 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:00:16.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390154964111360 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 01:00:16.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390155500982272 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:16.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390155500982272 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:00:16.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390155500982272 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:00:16.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390155500982272 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:16.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390155500982272 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:16.584 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390155500982272 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:00:16.585 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390155500982272 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:16.586 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390155500982272 [0;39m <==    Columns: id, content
2023-05-14 01:00:16.586 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390155500982272 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:00:16.586 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390155500982272 [0;39m <==      Total: 1
2023-05-14 01:00:16.586 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390155500982272 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:00:16.587 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390155500982272 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:16.588 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390155500982272 [0;39m <==    Updates: 1
2023-05-14 01:00:16.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390155500982272 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:00:16.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390155500982272 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:00:19.480 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:00:24.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390187214114816 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:24.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390187214114816 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:00:24.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390187214114816 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:00:24.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390187214114816 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:24.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390187214114816 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:24.146 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390187214114816 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:00:24.146 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390187214114816 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:24.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390187214114816 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:00:24.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390187214114816 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 194, 7
2023-05-14 01:00:24.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390187214114816 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:00:24.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390187214114816 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:00:24.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390187214114816 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:00:24.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390187214114816 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:00:24.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390187214114816 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:00:24.149 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390187214114816 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:00:24.149 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390187214114816 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:00:24.149 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390187214114816 [0;39m <==      Total: 8
2023-05-14 01:00:24.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390187214114816 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":194,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:00:24.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390187214114816 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:00:24.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390187360915456 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:24.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390187360915456 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:00:24.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390187360915456 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:00:24.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390187360915456 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:24.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390187360915456 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:24.181 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390187360915456 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:00:24.182 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390187360915456 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:24.183 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390187360915456 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:00:24.183 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390187360915456 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:00:24.183 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390187360915456 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:00:24.184 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390187360915456 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:00:24.184 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390187360915456 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:00:24.184 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390187360915456 [0;39m <==      Total: 4
2023-05-14 01:00:24.184 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390187360915456 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:00:24.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390187360915456 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:00:24.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390187864231936 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:24.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390187864231936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:00:24.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390187864231936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:00:24.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390187864231936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:24.301 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390187864231936 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:24.301 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390187864231936 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:00:24.301 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390187864231936 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:24.302 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390187864231936 [0;39m <==    Columns: id, content
2023-05-14 01:00:24.302 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390187864231936 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:00:24.303 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390187864231936 [0;39m <==      Total: 1
2023-05-14 01:00:24.303 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390187864231936 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:00:24.303 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390187864231936 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:24.311 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390187864231936 [0;39m <==    Updates: 1
2023-05-14 01:00:24.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390187864231936 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:00:24.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390187864231936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-14 01:00:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38390232785227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:00:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390232785227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:00:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390232785227776 [0;39m ==> Parameters: 
2023-05-14 01:00:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390232785227776 [0;39m <==    Updates: 1
2023-05-14 01:00:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38390232785227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 01:00:37.561 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:00:43.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390268197736448 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:43.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390268197736448 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:00:43.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390268197736448 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:00:43.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390268197736448 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:43.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390268197736448 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:43.453 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390268197736448 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:00:43.454 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390268197736448 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:43.454 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390268197736448 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:00:43.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390268197736448 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 195, 7
2023-05-14 01:00:43.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390268197736448 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:00:43.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390268197736448 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:00:43.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390268197736448 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:00:43.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390268197736448 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:00:43.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390268197736448 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:00:43.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390268197736448 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:00:43.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390268197736448 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:00:43.456 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390268197736448 [0;39m <==      Total: 8
2023-05-14 01:00:43.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390268197736448 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":195,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:00:43.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390268197736448 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:00:43.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390268390674432 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:43.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390268390674432 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:00:43.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390268390674432 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:00:43.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390268390674432 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:43.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390268390674432 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:43.500 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390268390674432 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:00:43.500 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390268390674432 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:43.501 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390268390674432 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:00:43.501 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390268390674432 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:00:43.502 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390268390674432 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:00:43.502 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390268390674432 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:00:43.502 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390268390674432 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:00:43.502 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390268390674432 [0;39m <==      Total: 4
2023-05-14 01:00:43.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390268390674432 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:00:43.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390268390674432 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 01:00:43.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390268558446592 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:00:43.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390268558446592 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:00:43.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390268558446592 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:00:43.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390268558446592 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:00:43.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390268558446592 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:00:43.540 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390268558446592 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:00:43.541 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390268558446592 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:43.542 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390268558446592 [0;39m <==    Columns: id, content
2023-05-14 01:00:43.542 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390268558446592 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:00:43.542 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390268558446592 [0;39m <==      Total: 1
2023-05-14 01:00:43.542 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390268558446592 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:00:43.544 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390268558446592 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:00:43.551 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390268558446592 [0;39m <==    Updates: 1
2023-05-14 01:00:43.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390268558446592 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:00:43.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390268558446592 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-14 01:00:44.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:00:45.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:00:47.447 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:01:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38390337617661952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:01:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390337617661952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:01:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390337617661952 [0;39m ==> Parameters: 
2023-05-14 01:01:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390337617661952 [0;39m <==    Updates: 0
2023-05-14 01:01:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38390337617661952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 01:01:01.505 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:01:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38390358614347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:01:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390358614347776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:01:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390358614347776 [0;39m ==> Parameters: 
2023-05-14 01:01:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390358614347776 [0;39m <==    Updates: 1
2023-05-14 01:01:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38390358614347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 01:01:14.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:01:17.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:01:25.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:01:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38390484451856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:01:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390484451856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:01:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390484451856384 [0;39m ==> Parameters: 
2023-05-14 01:01:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390484451856384 [0;39m <==    Updates: 1
2023-05-14 01:01:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38390484451856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:01:44.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:01:45.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:01:47.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:01:52.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:02:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38390589317844992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:02:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390589317844992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:02:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390589317844992 [0;39m ==> Parameters: 
2023-05-14 01:02:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390589317844992 [0;39m <==    Updates: 0
2023-05-14 01:02:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38390589317844992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 01:02:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38390610251616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:02:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390610251616256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:02:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390610251616256 [0;39m ==> Parameters: 
2023-05-14 01:02:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390610251616256 [0;39m <==    Updates: 1
2023-05-14 01:02:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38390610251616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:02:13.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:02:14.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:02:15.165 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:02:17.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:02:19.238 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:02:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38390736110096384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:02:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390736110096384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:02:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390736110096384 [0;39m ==> Parameters: 
2023-05-14 01:02:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390736110096384 [0;39m <==    Updates: 1
2023-05-14 01:02:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38390736110096384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 01:02:41.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:02:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:02:45.598 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:02:47.641 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:02:56.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390827931799552 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:02:56.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390827931799552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:02:56.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390827931799552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:02:56.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390827931799552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:02:56.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390827931799552 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:02:56.907 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390827931799552 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:02:56.908 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390827931799552 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:02:56.909 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390827931799552 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:02:56.909 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390827931799552 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 196, 7
2023-05-14 01:02:56.909 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390827931799552 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:02:56.910 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390827931799552 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:02:56.910 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390827931799552 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:02:56.910 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390827931799552 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:02:56.910 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390827931799552 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:02:56.910 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390827931799552 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:02:56.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390827931799552 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:02:56.911 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390827931799552 [0;39m <==      Total: 8
2023-05-14 01:02:56.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390827931799552 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":196,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:02:56.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390827931799552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 01:02:57.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390829546606592 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:02:57.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390829546606592 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:02:57.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390829546606592 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:02:57.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390829546606592 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:02:57.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390829546606592 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:02:57.289 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390829546606592 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:02:57.289 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390829546606592 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:02:57.290 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390829546606592 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:02:57.290 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390829546606592 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:02:57.291 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390829546606592 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:02:57.291 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390829546606592 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:02:57.291 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390829546606592 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:02:57.291 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390829546606592 [0;39m <==      Total: 4
2023-05-14 01:02:57.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390829546606592 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:02:57.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390829546606592 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 01:02:57.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390830687457280 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:02:57.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390830687457280 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:02:57.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390830687457280 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:02:57.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390830687457280 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:02:57.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390830687457280 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:02:57.561 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390830687457280 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:02:57.562 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390830687457280 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:02:57.563 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390830687457280 [0;39m <==    Columns: id, content
2023-05-14 01:02:57.563 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390830687457280 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:02:57.563 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390830687457280 [0;39m <==      Total: 1
2023-05-14 01:02:57.564 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390830687457280 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:02:57.564 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390830687457280 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:02:57.572 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390830687457280 [0;39m <==    Updates: 1
2023-05-14 01:02:57.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390830687457280 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:02:57.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390830687457280 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-14 01:03:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38390840976084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390840976084992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390840976084992 [0;39m ==> Parameters: 
2023-05-14 01:03:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38390840976084992 [0;39m <==    Updates: 0
2023-05-14 01:03:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38390840976084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:03:05.046 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38390862086017024 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:03:05.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390862086017024 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:03:05.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390862086017024 [0;39m ==> Parameters: 
2023-05-14 01:03:05.270 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390862086017024 [0;39m <==    Updates: 1
2023-05-14 01:03:05.271 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38390862086017024 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š225æ¯«ç§’
2023-05-14 01:03:05.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:03:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:03:17.478 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:03:18.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390918608457728 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:03:18.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390918608457728 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:03:18.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390918608457728 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:03:18.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390918608457728 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:03:18.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390918608457728 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:03:18.524 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390918608457728 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:03:18.524 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390918608457728 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:03:18.525 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390918608457728 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:03:18.525 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390918608457728 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 197, 7
2023-05-14 01:03:18.525 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390918608457728 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:03:18.525 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390918608457728 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:03:18.526 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390918608457728 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:03:18.526 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390918608457728 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:03:18.526 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390918608457728 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:03:18.526 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390918608457728 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:03:18.526 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38390918608457728 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:03:18.526 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38390918608457728 [0;39m <==      Total: 8
2023-05-14 01:03:18.527 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390918608457728 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":197,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:03:18.527 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390918608457728 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:03:18.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390918683955200 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:03:18.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390918683955200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:03:18.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390918683955200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:03:18.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390918683955200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:03:18.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390918683955200 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:03:18.541 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390918683955200 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:03:18.543 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390918683955200 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:03:18.544 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390918683955200 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:03:18.545 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390918683955200 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:03:18.545 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390918683955200 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:03:18.545 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390918683955200 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:03:18.545 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38390918683955200 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:03:18.546 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38390918683955200 [0;39m <==      Total: 4
2023-05-14 01:03:18.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390918683955200 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:03:18.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390918683955200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:03:18.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38390919078219776 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:03:18.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38390919078219776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:03:18.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38390919078219776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:03:18.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38390919078219776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:03:18.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38390919078219776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:03:18.635 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390919078219776 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:03:18.635 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390919078219776 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:03:18.636 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390919078219776 [0;39m <==    Columns: id, content
2023-05-14 01:03:18.637 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38390919078219776 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:03:18.637 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38390919078219776 [0;39m <==      Total: 1
2023-05-14 01:03:18.637 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390919078219776 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:03:18.637 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390919078219776 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:03:18.644 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38390919078219776 [0;39m <==    Updates: 1
2023-05-14 01:03:18.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38390919078219776 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:03:18.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38390919078219776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-14 01:03:29.398 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:03:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38390987772530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:03:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390987772530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:03:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390987772530688 [0;39m ==> Parameters: 
2023-05-14 01:03:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38390987772530688 [0;39m <==    Updates: 1
2023-05-14 01:03:35.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38390987772530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 01:03:44.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:03:45.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:03:47.442 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:03:54.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:04:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38391092638519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:04:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391092638519296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:04:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391092638519296 [0;39m ==> Parameters: 
2023-05-14 01:04:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391092638519296 [0;39m <==    Updates: 0
2023-05-14 01:04:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38391092638519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 01:04:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38391113563901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391113563901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391113563901952 [0;39m ==> Parameters: 
2023-05-14 01:04:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391113563901952 [0;39m <==    Updates: 1
2023-05-14 01:04:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38391113563901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:04:05.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391115744940032 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:05.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391115744940032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:04:05.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391115744940032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:04:05.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391115744940032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:05.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391115744940032 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:05.525 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391115744940032 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:04:05.526 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391115744940032 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:05.526 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391115744940032 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:04:05.527 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391115744940032 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 198, 7
2023-05-14 01:04:05.527 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391115744940032 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:04:05.527 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391115744940032 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:04:05.527 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391115744940032 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:04:05.527 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391115744940032 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:04:05.528 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391115744940032 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:04:05.528 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391115744940032 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:04:05.528 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391115744940032 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:04:05.529 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391115744940032 [0;39m <==      Total: 8
2023-05-14 01:04:05.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391115744940032 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":198,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:04:05.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391115744940032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:04:05.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391115812048896 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:05.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391115812048896 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:04:05.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391115812048896 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:04:05.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391115812048896 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:05.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391115812048896 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:05.542 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391115812048896 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:04:05.543 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391115812048896 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:05.544 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391115812048896 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:04:05.544 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391115812048896 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:04:05.544 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391115812048896 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:04:05.544 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391115812048896 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:04:05.544 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391115812048896 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:04:05.545 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391115812048896 [0;39m <==      Total: 4
2023-05-14 01:04:05.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391115812048896 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:04:05.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391115812048896 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:04:05.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391116625743872 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:05.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391116625743872 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:04:05.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391116625743872 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:04:05.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391116625743872 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:05.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391116625743872 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:05.734 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391116625743872 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:04:05.735 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391116625743872 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:05.736 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38391116625743872 [0;39m <==    Columns: id, content
2023-05-14 01:04:05.736 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38391116625743872 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:04:05.737 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391116625743872 [0;39m <==      Total: 1
2023-05-14 01:04:05.737 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391116625743872 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:04:05.737 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391116625743872 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:05.744 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391116625743872 [0;39m <==    Updates: 1
2023-05-14 01:04:05.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391116625743872 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:04:05.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391116625743872 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 01:04:11.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391139925102592 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:11.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391139925102592 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:04:11.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391139925102592 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:04:11.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391139929296896 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:11.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391139925102592 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:11.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391139929296896 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:04:11.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391139925102592 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:11.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391139929296896 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:04:11.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391139929296896 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:11.290 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391139925102592 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:04:11.291 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391139925102592 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:11.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391139929296896 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:11.292 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391139925102592 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:04:11.293 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391139925102592 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 199, 7
2023-05-14 01:04:11.294 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391139925102592 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:04:11.294 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391139925102592 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:04:11.294 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391139925102592 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:04:11.294 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391139929296896 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:04:11.294 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391139925102592 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:04:11.294 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391139929296896 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:11.295 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391139925102592 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:04:11.295 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391139925102592 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:04:11.295 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391139925102592 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:04:11.295 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391139925102592 [0;39m <==      Total: 8
2023-05-14 01:04:11.295 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391139929296896 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:04:11.296 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391139929296896 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:04:11.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391139925102592 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":199,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:04:11.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391139925102592 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 01:04:11.296 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391139929296896 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:04:11.296 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391139929296896 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:04:11.296 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391139929296896 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:04:11.296 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391139929296896 [0;39m <==      Total: 4
2023-05-14 01:04:11.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391139929296896 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:04:11.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391139929296896 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 01:04:11.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391141065953280 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:11.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391141065953280 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:04:11.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391141065953280 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:04:11.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391141065953280 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:11.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391141065953280 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:11.563 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391141065953280 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:04:11.563 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391141065953280 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:11.564 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38391141065953280 [0;39m <==    Columns: id, content
2023-05-14 01:04:11.564 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38391141065953280 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:04:11.565 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391141065953280 [0;39m <==      Total: 1
2023-05-14 01:04:11.565 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391141065953280 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:04:11.565 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391141065953280 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:11.573 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391141065953280 [0;39m <==    Updates: 1
2023-05-14 01:04:11.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391141065953280 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:04:11.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391141065953280 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-14 01:04:13.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:04:14.462 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:04:17.600 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:04:19.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:04:25.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391198439837696 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:25.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391198439837696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:04:25.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391198439837696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:04:25.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391198439837696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:25.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391198439837696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:25.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391198439837696 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:04:25.242 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391198439837696 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:25.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391198439837696 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:04:25.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391198439837696 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:04:25.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391198439837696 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:04:25.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391198439837696 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:04:25.244 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391198439837696 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:04:25.244 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391198439837696 [0;39m <==      Total: 4
2023-05-14 01:04:25.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391198439837696 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:04:25.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391198439837696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:04:26.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391203024211968 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:26.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391203024211968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:04:26.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391203024211968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:04:26.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391203024211968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:26.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391203024211968 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:26.334 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391203024211968 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:04:26.334 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391203024211968 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:26.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391203024211968 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:04:26.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391203024211968 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 200, 7
2023-05-14 01:04:26.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391203024211968 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:04:26.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391203024211968 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:04:26.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391203024211968 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:04:26.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391203024211968 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:04:26.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391203024211968 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:04:26.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391203024211968 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:04:26.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391203040989184 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:26.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391203024211968 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:04:26.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391203040989184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:04:26.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391203040989184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:04:26.337 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391203024211968 [0;39m <==      Total: 8
2023-05-14 01:04:26.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391203040989184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:26.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391203040989184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:26.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391203024211968 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":200,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:04:26.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391203024211968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:04:26.337 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391203040989184 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:04:26.338 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391203040989184 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:26.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391203040989184 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:04:26.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391203040989184 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:04:26.340 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391203040989184 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:04:26.340 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391203040989184 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:04:26.340 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391203040989184 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:04:26.341 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391203040989184 [0;39m <==      Total: 4
2023-05-14 01:04:26.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391203040989184 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:04:26.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391203040989184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:04:26.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391203573665792 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:26.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391203573665792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:04:26.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391203573665792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:04:26.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391203573665792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:26.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391203573665792 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:26.464 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391203573665792 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:04:26.465 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391203573665792 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:26.466 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38391203573665792 [0;39m <==    Columns: id, content
2023-05-14 01:04:26.466 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38391203573665792 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:04:26.466 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391203573665792 [0;39m <==      Total: 1
2023-05-14 01:04:26.466 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391203573665792 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:04:26.467 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391203573665792 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:26.468 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391203573665792 [0;39m <==    Updates: 1
2023-05-14 01:04:26.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391203573665792 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:04:26.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391203573665792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:04:27.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391208904626176 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:27.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391208904626176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:04:27.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391208904626176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:04:27.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391208904626176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:27.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391208904626176 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:27.736 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391208904626176 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:04:27.736 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391208904626176 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:27.737 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391208904626176 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:04:27.737 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391208904626176 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:04:27.737 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391208904626176 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:04:27.738 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391208904626176 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:04:27.738 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391208904626176 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:04:27.738 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391208904626176 [0;39m <==      Total: 4
2023-05-14 01:04:27.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391208904626176 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:04:27.739 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391208904626176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:04:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38391239409799168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:04:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391239409799168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:04:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391239409799168 [0;39m ==> Parameters: 
2023-05-14 01:04:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391239409799168 [0;39m <==    Updates: 1
2023-05-14 01:04:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38391239409799168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 01:04:41.757 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38391115812048896 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šQs8hqESWIAï¼Œsession idï¼š1fï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 01:04:43.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:04:44.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:04:47.993 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:04:48.873 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38391116625743872 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šGzU9lnrP8Mï¼Œsession idï¼š20ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 01:04:49.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391299916828672 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:49.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391299916828673 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:49.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391299916828672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:04:49.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391299916828673 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:04:49.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391299916828672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:04:49.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391299916828673 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:04:49.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391299916828672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:49.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391299916828673 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:49.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391299916828672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:49.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391299916828673 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:49.435 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391299916828672 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:04:49.435 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391299916828673 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:04:49.435 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391299916828673 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:49.435 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391299916828672 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:49.436 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391299916828672 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:04:49.436 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391299916828673 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:04:49.436 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391299916828672 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 201, 7
2023-05-14 01:04:49.436 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391299916828673 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:04:49.436 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391299916828672 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:04:49.436 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391299916828672 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:04:49.436 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391299916828673 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:04:49.437 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391299916828672 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:04:49.437 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391299916828672 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:04:49.437 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391299916828673 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:04:49.437 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391299916828672 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:04:49.437 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391299916828673 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:04:49.437 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391299916828672 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:04:49.437 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391299916828673 [0;39m <==      Total: 4
2023-05-14 01:04:49.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391299916828673 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:04:49.438 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391299916828672 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:04:49.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391299916828673 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:04:49.438 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391299916828672 [0;39m <==      Total: 8
2023-05-14 01:04:49.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391299916828672 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":201,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:04:49.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391299916828672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:04:49.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391301003153408 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:04:49.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391301003153408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:04:49.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391301003153408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:04:49.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391301003153408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:04:49.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391301003153408 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:04:49.693 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391301003153408 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:04:49.694 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391301003153408 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:49.695 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38391301003153408 [0;39m <==    Columns: id, content
2023-05-14 01:04:49.695 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38391301003153408 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:04:49.696 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391301003153408 [0;39m <==      Total: 1
2023-05-14 01:04:49.696 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391301003153408 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:04:49.697 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391301003153408 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:04:49.698 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391301003153408 [0;39m <==    Updates: 1
2023-05-14 01:04:49.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391301003153408 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:04:49.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391301003153408 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 01:04:50.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:05:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38391344263204864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:05:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391344263204864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:05:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391344263204864 [0;39m ==> Parameters: 
2023-05-14 01:05:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391344263204864 [0;39m <==    Updates: 0
2023-05-14 01:05:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38391344263204864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 01:05:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38391365289250816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:05:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391365289250816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:05:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391365289250816 [0;39m ==> Parameters: 
2023-05-14 01:05:05.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391365289250816 [0;39m <==    Updates: 1
2023-05-14 01:05:05.052 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38391365289250816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2023-05-14 01:05:07.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391375061979136 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:05:07.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391375061979136 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:05:07.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391375061979136 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:05:07.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391375061979136 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:05:07.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391375061979136 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:05:07.350 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391375061979136 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:05:07.351 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391375061979136 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:05:07.351 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391375061979136 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:05:07.352 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391375061979136 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:05:07.352 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391375061979136 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:05:07.352 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391375061979136 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:05:07.352 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391375061979136 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:05:07.353 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391375061979136 [0;39m <==      Total: 4
2023-05-14 01:05:07.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391375061979136 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:05:07.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391375061979136 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 01:05:07.798 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:05:09.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391384113287168 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:05:09.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391384113287169 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:05:09.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391384113287168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:05:09.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391384113287169 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:05:09.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391384113287168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:05:09.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391384113287168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:05:09.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391384113287169 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:05:09.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391384113287168 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:05:09.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391384113287169 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:05:09.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391384113287169 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:05:09.509 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391384113287169 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:05:09.509 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391384113287169 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:05:09.510 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391384113287169 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:05:09.510 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391384113287168 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:05:09.510 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391384113287169 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:05:09.510 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391384113287168 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:05:09.511 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391384113287169 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:05:09.511 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391384113287169 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:05:09.511 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391384113287169 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:05:09.511 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391384113287168 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:05:09.511 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391384113287168 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 202, 7
2023-05-14 01:05:09.511 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391384113287169 [0;39m <==      Total: 4
2023-05-14 01:05:09.512 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391384113287168 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:05:09.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391384113287169 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:05:09.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391384113287169 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:05:09.512 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391384113287168 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:05:09.512 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391384113287168 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:05:09.512 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391384113287168 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:05:09.513 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391384113287168 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:05:09.513 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391384113287168 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:05:09.513 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38391384113287168 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:05:09.513 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38391384113287168 [0;39m <==      Total: 8
2023-05-14 01:05:09.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391384113287168 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":202,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:05:09.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391384113287168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 01:05:10.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391386843779072 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:05:10.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391386843779072 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:05:10.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391386843779072 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:05:10.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391386843779072 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:05:10.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391386843779072 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:05:10.159 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391386843779072 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:05:10.159 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391386843779072 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:05:10.160 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38391386843779072 [0;39m <==    Columns: id, content
2023-05-14 01:05:10.160 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38391386843779072 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:05:10.161 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38391386843779072 [0;39m <==      Total: 1
2023-05-14 01:05:10.161 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391386843779072 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:05:10.161 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391386843779072 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:05:10.337 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38391386843779072 [0;39m <==    Updates: 1
2023-05-14 01:05:10.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391386843779072 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:05:10.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391386843779072 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š180 ms -------------
2023-05-14 01:05:13.307 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:05:14.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38391403004432384 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:05:14.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38391403004432384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:05:14.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38391403004432384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:05:14.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38391403004432384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:05:14.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38391403004432384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:05:14.013 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391403004432384 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:05:14.013 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391403004432384 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:05:14.014 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391403004432384 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:05:14.014 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391403004432384 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:05:14.015 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391403004432384 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:05:14.015 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391403004432384 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:05:14.015 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38391403004432384 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:05:14.016 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38391403004432384 [0;39m <==      Total: 4
2023-05-14 01:05:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38391403004432384 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:05:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38391403004432384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:05:14.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:05:17.368 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:05:31.869 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:05:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38391491063844864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:05:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391491063844864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:05:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391491063844864 [0;39m ==> Parameters: 
2023-05-14 01:05:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391491063844864 [0;39m <==    Updates: 1
2023-05-14 01:05:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38391491063844864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 01:05:43.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:05:44.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:05:45.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:05:47.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:05:55.946 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:06:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38391595900473344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:06:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391595900473344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:06:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391595900473344 [0;39m ==> Parameters: 
2023-05-14 01:06:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391595900473344 [0;39m <==    Updates: 0
2023-05-14 01:06:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38391595900473344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-14 01:06:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38391616897159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:06:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391616897159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:06:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391616897159168 [0;39m ==> Parameters: 
2023-05-14 01:06:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391616897159168 [0;39m <==    Updates: 1
2023-05-14 01:06:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38391616897159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:06:13.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:06:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:06:15.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:06:21.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:06:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38391742743056384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391742743056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391742743056384 [0;39m ==> Parameters: 
2023-05-14 01:06:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391742743056384 [0;39m <==    Updates: 1
2023-05-14 01:06:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38391742743056384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:06:43.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:06:44.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:06:45.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:06:47.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:06:49.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:07:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38391847596462080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391847596462080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391847596462080 [0;39m ==> Parameters: 
2023-05-14 01:07:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38391847596462080 [0;39m <==    Updates: 0
2023-05-14 01:07:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38391847596462080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:07:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38391868580564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:07:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391868580564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:07:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391868580564992 [0;39m ==> Parameters: 
2023-05-14 01:07:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391868580564992 [0;39m <==    Updates: 1
2023-05-14 01:07:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38391868580564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:07:13.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:07:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:07:15.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:07:19.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:07:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38391994409684992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:07:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391994409684992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:07:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391994409684992 [0;39m ==> Parameters: 
2023-05-14 01:07:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38391994409684992 [0;39m <==    Updates: 1
2023-05-14 01:07:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38391994409684992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:07:37.467 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:07:44.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:07:47.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:08:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38392099254702080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:08:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392099254702080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:08:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392099254702080 [0;39m ==> Parameters: 
2023-05-14 01:08:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392099254702080 [0;39m <==    Updates: 0
2023-05-14 01:08:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38392099254702080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:08:01.578 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:08:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38392120247193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:08:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392120247193600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:08:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392120247193600 [0;39m ==> Parameters: 
2023-05-14 01:08:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392120247193600 [0;39m <==    Updates: 1
2023-05-14 01:08:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38392120247193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:08:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:08:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:08:17.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:08:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:08:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38392246072119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:08:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392246072119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:08:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392246072119296 [0;39m ==> Parameters: 
2023-05-14 01:08:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392246072119296 [0;39m <==    Updates: 1
2023-05-14 01:08:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38392246072119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:08:43.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:08:44.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:08:45.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:08:47.186 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:08:51.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:09:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38392350921330688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:09:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392350921330688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:09:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392350921330688 [0;39m ==> Parameters: 
2023-05-14 01:09:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392350921330688 [0;39m <==    Updates: 0
2023-05-14 01:09:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38392350921330688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:09:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38392371897044992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:09:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392371897044992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:09:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392371897044992 [0;39m ==> Parameters: 
2023-05-14 01:09:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392371897044992 [0;39m <==    Updates: 1
2023-05-14 01:09:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38392371897044992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:09:13.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:09:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:09:15.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:09:17.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:09:19.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:09:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38392497713582080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:09:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392497713582080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:09:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392497713582080 [0;39m ==> Parameters: 
2023-05-14 01:09:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392497713582080 [0;39m <==    Updates: 1
2023-05-14 01:09:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38392497713582080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:09:41.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:09:44.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:09:47.493 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:10:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38392602592153600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:10:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392602592153600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:10:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392602592153600 [0;39m ==> Parameters: 
2023-05-14 01:10:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392602592153600 [0;39m <==    Updates: 0
2023-05-14 01:10:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38392602592153600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:10:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38392623525924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:10:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392623525924864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:10:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392623525924864 [0;39m ==> Parameters: 
2023-05-14 01:10:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392623525924864 [0;39m <==    Updates: 1
2023-05-14 01:10:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38392623525924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:10:05.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:10:14.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:10:17.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:10:29.508 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:10:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38392749342461952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:10:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392749342461952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:10:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392749342461952 [0;39m ==> Parameters: 
2023-05-14 01:10:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392749342461952 [0;39m <==    Updates: 1
2023-05-14 01:10:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38392749342461952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:10:43.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:10:44.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:10:47.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:10:53.609 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:11:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38392854229422080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392854229422080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392854229422080 [0;39m ==> Parameters: 
2023-05-14 01:11:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38392854229422080 [0;39m <==    Updates: 0
2023-05-14 01:11:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38392854229422080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:11:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38392875205136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:11:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392875205136384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:11:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392875205136384 [0;39m ==> Parameters: 
2023-05-14 01:11:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38392875205136384 [0;39m <==    Updates: 1
2023-05-14 01:11:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38392875205136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:11:14.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:11:15.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:11:17.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:11:19.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:11:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38393001013284864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:11:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393001013284864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:11:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393001013284864 [0;39m ==> Parameters: 
2023-05-14 01:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393001013284864 [0;39m <==    Updates: 1
2023-05-14 01:11:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38393001013284864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:11:43.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:11:44.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:11:45.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:11:47.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:11:49.435 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38393105896050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:12:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393105896050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:12:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393105896050688 [0;39m ==> Parameters: 
2023-05-14 01:12:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393105896050688 [0;39m <==    Updates: 0
2023-05-14 01:12:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38393105896050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:12:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38393126825627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:12:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393126825627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:12:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393126825627648 [0;39m ==> Parameters: 
2023-05-14 01:12:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393126825627648 [0;39m <==    Updates: 1
2023-05-14 01:12:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38393126825627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:12:07.421 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:13.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:14.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:17.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:26.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393216399183872 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:12:26.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393216399183872 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:12:26.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393216399183872 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:12:26.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393216399183872 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:12:26.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393216399183872 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:12:26.360 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393216399183872 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:12:26.361 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393216399183872 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:12:26.362 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393216399183872 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:12:26.362 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393216399183872 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:12:26.362 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393216399183872 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:12:26.363 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393216399183872 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:12:26.363 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393216399183872 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:12:26.363 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393216399183872 [0;39m <==      Total: 4
2023-05-14 01:12:26.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393216399183872 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:12:26.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393216399183872 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:12:29.460 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:31.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38393252658941952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:12:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393252658941952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:12:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393252658941952 [0;39m ==> Parameters: 
2023-05-14 01:12:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393252658941952 [0;39m <==    Updates: 1
2023-05-14 01:12:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38393252658941952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:12:43.119 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:44.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:45.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:47.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:12:55.613 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:13:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38393357512347648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:13:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393357512347648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:13:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393357512347648 [0;39m ==> Parameters: 
2023-05-14 01:13:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393357512347648 [0;39m <==    Updates: 0
2023-05-14 01:13:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38393357512347648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:13:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38393378483867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:13:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393378483867648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:13:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393378483867648 [0;39m ==> Parameters: 
2023-05-14 01:13:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393378483867648 [0;39m <==    Updates: 1
2023-05-14 01:13:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38393378483867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:13:13.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:13:14.723 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:13:17.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:13:19.663 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:13:21.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:13:34.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393503205691393 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:13:34.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393503205691392 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:13:34.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393503205691393 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:13:34.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393503205691392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:13:34.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393503205691393 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:13:34.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393503205691392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:13:34.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393503205691393 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:13:34.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393503205691392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:13:34.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393503205691393 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:13:34.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393503205691392 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:13:34.739 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393503205691392 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:13:34.739 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393503205691393 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:13:34.739 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393503205691392 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:13:34.739 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393503205691393 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:13:34.740 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393503205691392 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:13:34.740 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393503205691393 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:13:34.740 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393503205691392 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:13:34.740 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393503205691393 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 203, 7
2023-05-14 01:13:34.740 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393503205691392 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:13:34.741 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393503205691393 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:13:34.741 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393503205691392 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:13:34.741 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393503205691393 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:13:34.741 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393503205691392 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:13:34.741 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393503205691393 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:13:34.741 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393503205691392 [0;39m <==      Total: 4
2023-05-14 01:13:34.741 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393503205691393 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:13:34.741 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393503205691392 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:13:34.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393503205691392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 01:13:34.742 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393503205691393 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:13:34.742 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393503205691393 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:13:34.742 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393503205691393 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:13:34.742 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393503205691393 [0;39m <==      Total: 8
2023-05-14 01:13:34.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393503205691393 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":203,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:13:34.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393503205691393 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:13:34.784 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393503398629376 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:13:34.784 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393503398629376 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:13:34.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393503398629376 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:13:34.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393503398629376 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:13:34.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393503398629376 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:13:34.786 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393503398629376 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:13:34.787 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393503398629376 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:13:34.788 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38393503398629376 [0;39m <==    Columns: id, content
2023-05-14 01:13:34.788 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38393503398629376 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:13:34.789 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393503398629376 [0;39m <==      Total: 1
2023-05-14 01:13:34.789 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393503398629376 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:13:34.790 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393503398629376 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:13:34.792 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393503398629376 [0;39m <==    Updates: 1
2023-05-14 01:13:34.792 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393503398629376 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:13:34.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393503398629376 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 01:13:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38393504359124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:13:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393504359124992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:13:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393504359124992 [0;39m ==> Parameters: 
2023-05-14 01:13:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393504359124992 [0;39m <==    Updates: 1
2023-05-14 01:13:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38393504359124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:13:36.663 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393511279726592 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:13:36.663 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393511279726592 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:13:36.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393511279726592 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:13:36.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393511279726592 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:13:36.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393511279726592 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:13:36.665 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393511279726592 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:13:36.665 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393511279726592 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:13:36.666 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393511279726592 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:13:36.666 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393511279726592 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:13:36.666 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393511279726592 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:13:36.667 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393511279726592 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:13:36.667 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393511279726592 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:13:36.667 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393511279726592 [0;39m <==      Total: 4
2023-05-14 01:13:36.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393511279726592 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:13:36.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393511279726592 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:13:44.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:13:47.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:13:49.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:13:59.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393605341188096 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:13:59.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393605341188096 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:13:59.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393605341188096 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:13:59.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393605341188096 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:13:59.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393605341188096 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:13:59.094 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393605341188096 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:13:59.095 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393605341188096 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:13:59.095 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393605341188096 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:13:59.096 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393605341188096 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 204, 7
2023-05-14 01:13:59.096 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393605341188096 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:13:59.096 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393605341188096 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:13:59.096 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393605341188096 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:13:59.096 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393605341188096 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:13:59.097 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393605341188096 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:13:59.097 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393605341188096 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:13:59.097 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393605341188096 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:13:59.097 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393605341188096 [0;39m <==      Total: 8
2023-05-14 01:13:59.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393605341188096 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":204,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:13:59.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393605341188096 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 01:13:59.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393605387325440 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:13:59.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393605387325440 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:13:59.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393605387325440 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:13:59.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393605387325440 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:13:59.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393605387325440 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:13:59.118 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393605387325440 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:13:59.118 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393605387325440 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:13:59.119 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393605387325440 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:13:59.120 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393605387325440 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:13:59.120 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393605387325440 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:13:59.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393605387325440 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:13:59.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393605387325440 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:13:59.121 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393605387325440 [0;39m <==      Total: 4
2023-05-14 01:13:59.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393605387325440 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:13:59.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393605387325440 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-14 01:13:59.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393606104551424 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:13:59.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393606104551424 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:13:59.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393606104551424 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:13:59.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393606104551424 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:13:59.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393606104551424 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:13:59.273 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393606104551424 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:13:59.273 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393606104551424 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:13:59.274 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38393606104551424 [0;39m <==    Columns: id, content
2023-05-14 01:13:59.274 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38393606104551424 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:13:59.274 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393606104551424 [0;39m <==      Total: 1
2023-05-14 01:13:59.275 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393606104551424 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:13:59.275 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393606104551424 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:13:59.276 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393606104551424 [0;39m <==    Updates: 1
2023-05-14 01:13:59.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393606104551424 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:13:59.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393606104551424 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:14:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38393609195753472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:14:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393609195753472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:14:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393609195753472 [0;39m ==> Parameters: 
2023-05-14 01:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393609195753472 [0;39m <==    Updates: 0
2023-05-14 01:14:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38393609195753472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 01:14:01.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393616011497472 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:14:01.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393616011497472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:14:01.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393616011497472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:14:01.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393616011497472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:14:01.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393616011497472 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:14:01.635 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393616011497472 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:14:01.635 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393616011497472 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:14:01.637 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393616011497472 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:14:01.637 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393616011497472 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:14:01.638 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393616011497472 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:14:01.638 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393616011497472 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:14:01.638 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393616011497472 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:14:01.638 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393616011497472 [0;39m <==      Total: 4
2023-05-14 01:14:01.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393616011497472 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:14:01.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393616011497472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:14:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38393630171467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:14:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393630171467776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:14:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393630171467776 [0;39m ==> Parameters: 
2023-05-14 01:14:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393630171467776 [0;39m <==    Updates: 1
2023-05-14 01:14:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38393630171467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 01:14:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:14:17.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:14:25.078 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38393216399183872 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šGzU9lnrP8Mï¼Œsession idï¼š20ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 01:14:28.179 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38391299916828672 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šyXGf0PZpSZï¼Œsession idï¼š21ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 01:14:28.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393727835836416 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:14:28.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393727835836417 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:14:28.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393727835836416 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:14:28.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393727835836417 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:14:28.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393727835836416 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:14:28.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393727835836416 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:14:28.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393727835836417 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:14:28.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393727835836416 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:14:28.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393727835836417 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:14:28.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393727835836417 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:14:28.297 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393727835836416 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:14:28.297 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393727835836417 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:14:28.297 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393727835836417 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:14:28.297 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393727835836416 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:14:28.298 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393727835836417 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:14:28.298 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393727835836416 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:14:28.298 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393727835836416 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 205, 7
2023-05-14 01:14:28.298 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393727835836417 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:14:28.298 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393727835836416 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:14:28.298 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393727835836417 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:14:28.298 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393727835836416 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:14:28.298 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393727835836417 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:14:28.299 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393727835836416 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:14:28.299 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393727835836417 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:14:28.299 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393727835836416 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:14:28.299 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393727835836417 [0;39m <==      Total: 4
2023-05-14 01:14:28.299 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393727835836416 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:14:28.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393727835836417 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:14:28.299 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393727835836416 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:14:28.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393727835836417 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:14:28.299 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393727835836416 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:14:28.300 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393727835836416 [0;39m <==      Total: 8
2023-05-14 01:14:28.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393727835836416 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":205,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:14:28.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393727835836416 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:14:28.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393728418844672 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:14:28.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393728418844672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:14:28.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393728418844672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:14:28.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393728418844672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:14:28.435 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393728418844672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:14:28.435 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393728418844672 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:14:28.436 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393728418844672 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:14:28.437 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38393728418844672 [0;39m <==    Columns: id, content
2023-05-14 01:14:28.437 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38393728418844672 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:14:28.437 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393728418844672 [0;39m <==      Total: 1
2023-05-14 01:14:28.438 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393728418844672 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:14:28.438 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393728418844672 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:14:28.448 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393728418844672 [0;39m <==    Updates: 1
2023-05-14 01:14:28.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393728418844672 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:14:28.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393728418844672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š117 ms -------------
2023-05-14 01:14:31.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393741484101632 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:14:31.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393741484101632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:14:31.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393741484101632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:14:31.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393741484101632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:14:31.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393741484101632 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:14:31.549 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393741484101632 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:14:31.550 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393741484101632 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:14:31.550 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393741484101632 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:14:31.550 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393741484101632 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:14:31.550 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393741484101632 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:14:31.551 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393741484101632 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:14:31.551 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393741484101632 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:14:31.551 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393741484101632 [0;39m <==      Total: 4
2023-05-14 01:14:31.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393741484101632 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:14:31.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393741484101632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 01:14:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38393756004782080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:14:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393756004782080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:14:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393756004782080 [0;39m ==> Parameters: 
2023-05-14 01:14:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393756004782080 [0;39m <==    Updates: 1
2023-05-14 01:14:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38393756004782080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 01:14:38.605 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:14:44.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:14:47.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:15:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38393860883353600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:15:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393860883353600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:15:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393860883353600 [0;39m ==> Parameters: 
2023-05-14 01:15:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38393860883353600 [0;39m <==    Updates: 0
2023-05-14 01:15:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38393860883353600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 01:15:02.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:15:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38393881812930560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:15:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393881812930560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:15:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393881812930560 [0;39m ==> Parameters: 
2023-05-14 01:15:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38393881812930560 [0;39m <==    Updates: 1
2023-05-14 01:15:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38393881812930560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:15:14.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:15:17.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:15:18.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393938066935809 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:15:18.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393938066935808 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:15:18.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393938066935809 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:15:18.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393938066935809 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:15:18.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393938066935808 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:15:18.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393938066935809 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:15:18.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393938066935808 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:15:18.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393938066935809 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:15:18.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393938066935808 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:15:18.419 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393938066935809 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:15:18.419 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393938066935809 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:15:18.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393938066935808 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:15:18.420 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393938066935809 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:15:18.421 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393938066935809 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:15:18.421 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393938066935809 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:15:18.421 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393938066935809 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:15:18.421 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393938066935808 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:15:18.422 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393938066935809 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:15:18.422 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393938066935809 [0;39m <==      Total: 4
2023-05-14 01:15:18.422 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393938066935808 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:15:18.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393938066935809 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:15:18.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393938066935809 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:15:18.423 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393938066935808 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:15:18.424 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393938066935808 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 206, 7
2023-05-14 01:15:18.424 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393938066935808 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:15:18.424 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393938066935808 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:15:18.424 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393938066935808 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:15:18.425 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393938066935808 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:15:18.425 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393938066935808 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:15:18.425 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393938066935808 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:15:18.425 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38393938066935808 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:15:18.426 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38393938066935808 [0;39m <==      Total: 8
2023-05-14 01:15:18.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393938066935808 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":206,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:15:18.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393938066935808 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 01:15:18.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393938545086464 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:15:18.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393938545086464 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:15:18.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393938545086464 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:15:18.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393938545086464 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:15:18.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393938545086464 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:15:18.535 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393938545086464 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:15:18.535 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393938545086464 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:15:18.536 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38393938545086464 [0;39m <==    Columns: id, content
2023-05-14 01:15:18.536 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38393938545086464 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:15:18.536 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38393938545086464 [0;39m <==      Total: 1
2023-05-14 01:15:18.537 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393938545086464 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:15:18.537 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393938545086464 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:15:18.545 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38393938545086464 [0;39m <==    Updates: 1
2023-05-14 01:15:18.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393938545086464 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:15:18.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393938545086464 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-14 01:15:21.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38393951081861120 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:15:21.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38393951081861120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:15:21.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38393951081861120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:15:21.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38393951081861120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:15:21.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38393951081861120 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:15:21.523 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393951081861120 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:15:21.524 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393951081861120 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:15:21.524 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393951081861120 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:15:21.525 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393951081861120 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:15:21.525 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393951081861120 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:15:21.525 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393951081861120 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:15:21.525 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38393951081861120 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:15:21.525 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38393951081861120 [0;39m <==      Total: 4
2023-05-14 01:15:21.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38393951081861120 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:15:21.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38393951081861120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:15:27.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:15:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38394007646244864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394007646244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394007646244864 [0;39m ==> Parameters: 
2023-05-14 01:15:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394007646244864 [0;39m <==    Updates: 1
2023-05-14 01:15:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38394007646244864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 01:15:37.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394018043924481 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:15:37.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394018043924481 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:15:37.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394018043924480 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:15:37.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394018043924481 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:15:37.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394018043924481 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:15:37.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394018043924480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:15:37.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394018043924481 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:15:37.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394018043924480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:15:37.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394018043924480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:15:37.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394018043924480 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:15:37.489 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394018043924481 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:15:37.489 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394018043924481 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:15:37.489 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394018043924480 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:15:37.489 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394018043924480 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:15:37.489 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394018043924481 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:15:37.490 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394018043924481 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:15:37.490 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394018043924480 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:15:37.490 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394018043924481 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:15:37.490 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394018043924480 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 207, 7
2023-05-14 01:15:37.490 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394018043924481 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:15:37.490 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394018043924480 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:15:37.490 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394018043924481 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:15:37.490 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394018043924480 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:15:37.491 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394018043924481 [0;39m <==      Total: 4
2023-05-14 01:15:37.491 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394018043924480 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:15:37.491 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394018043924480 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:15:37.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394018043924481 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:15:37.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394018043924481 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:15:37.491 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394018043924480 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:15:37.491 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394018043924480 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:15:37.491 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394018043924480 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:15:37.492 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394018043924480 [0;39m <==      Total: 8
2023-05-14 01:15:37.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394018043924480 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":207,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:15:37.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394018043924480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 01:15:38.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394021923655680 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:15:38.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394021923655680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:15:38.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394021923655680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:15:38.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394021923655680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:15:38.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394021923655680 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:15:38.413 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394021923655680 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:15:38.413 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394021923655680 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:15:38.414 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394021923655680 [0;39m <==    Columns: id, content
2023-05-14 01:15:38.415 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394021923655680 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:15:38.415 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394021923655680 [0;39m <==      Total: 1
2023-05-14 01:15:38.415 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394021923655680 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:15:38.415 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394021923655680 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:15:38.422 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394021923655680 [0;39m <==    Updates: 1
2023-05-14 01:15:38.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394021923655680 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:15:38.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394021923655680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-14 01:15:44.427 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:15:47.477 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:15:49.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:15:51.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:16:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38394112508039168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:16:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394112508039168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:16:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394112508039168 [0;39m ==> Parameters: 
2023-05-14 01:16:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394112508039168 [0;39m <==    Updates: 0
2023-05-14 01:16:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38394112508039168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:16:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38394133496336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:16:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394133496336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:16:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394133496336384 [0;39m ==> Parameters: 
2023-05-14 01:16:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394133496336384 [0;39m <==    Updates: 1
2023-05-14 01:16:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38394133496336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 01:16:14.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:16:17.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:16:19.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:16:24.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394216916848640 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:16:24.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394216916848640 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:16:24.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394216916848640 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:16:24.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394216916848640 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:16:24.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394216916848640 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:16:24.902 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394216916848640 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:16:24.902 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394216916848640 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:16:24.903 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394216916848640 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:16:24.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394216916848640 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 208, 7
2023-05-14 01:16:24.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394216916848640 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:16:24.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394216916848640 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:16:24.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394216916848640 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:16:24.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394216916848640 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:16:24.905 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394216916848640 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:16:24.905 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394216916848640 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:16:24.905 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394216916848640 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:16:24.905 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394216916848640 [0;39m <==      Total: 8
2023-05-14 01:16:24.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394216916848640 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":208,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:16:24.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394216916848640 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:16:25.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394217449525248 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:16:25.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394217449525248 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:16:25.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394217449525248 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:16:25.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394217449525248 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:16:25.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394217449525248 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:16:25.029 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394217449525248 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:16:25.029 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394217449525248 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:16:25.030 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394217449525248 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:16:25.031 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394217449525248 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:16:25.031 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394217449525248 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:16:25.031 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394217449525248 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:16:25.032 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394217449525248 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:16:25.032 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394217449525248 [0;39m <==      Total: 4
2023-05-14 01:16:25.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394217449525248 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:16:25.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394217449525248 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:16:25.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394218292580352 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:16:25.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394218292580352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:16:25.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394218292580352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:16:25.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394218292580352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:16:25.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394218292580352 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:16:25.230 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394218292580352 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:16:25.230 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394218292580352 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:16:25.231 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394218292580352 [0;39m <==    Columns: id, content
2023-05-14 01:16:25.231 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394218292580352 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:16:25.232 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394218292580352 [0;39m <==      Total: 1
2023-05-14 01:16:25.232 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394218292580352 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:16:25.232 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394218292580352 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:16:25.234 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394218292580352 [0;39m <==    Updates: 1
2023-05-14 01:16:25.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394218292580352 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:16:25.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394218292580352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:16:31.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394246448943104 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:16:31.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394246448943104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:16:31.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394246448943104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:16:31.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394246448943104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:16:31.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394246448943104 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:16:31.943 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394246448943104 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:16:31.944 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394246448943104 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:16:31.944 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394246448943104 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:16:31.945 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394246448943104 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:16:31.945 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394246448943104 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:16:31.945 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394246448943104 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:16:31.946 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394246448943104 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:16:31.946 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394246448943104 [0;39m <==      Total: 4
2023-05-14 01:16:31.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394246448943104 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:16:31.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394246448943104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:16:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38394259300290560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:16:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394259300290560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:16:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394259300290560 [0;39m ==> Parameters: 
2023-05-14 01:16:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394259300290560 [0;39m <==    Updates: 1
2023-05-14 01:16:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38394259300290560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 01:16:44.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:16:47.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394310227529728 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:16:47.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394310227529728 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:16:47.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394310227529728 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:16:47.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394310227529728 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:16:47.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394310227529728 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:16:47.149 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394310227529728 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:16:47.149 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394310227529728 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:16:47.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394310227529728 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:16:47.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394310227529728 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 209, 7
2023-05-14 01:16:47.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394310227529728 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:16:47.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394310227529728 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:16:47.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394310227529728 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:16:47.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394310227529728 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:16:47.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394310227529728 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:16:47.152 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394310227529728 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:16:47.152 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394310227529728 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:16:47.152 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394310227529728 [0;39m <==      Total: 8
2023-05-14 01:16:47.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394310227529728 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":209,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:16:47.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394310227529728 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:16:47.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394310265278464 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:16:47.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394310265278464 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:16:47.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394310265278464 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:16:47.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394310265278464 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:16:47.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394310265278464 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:16:47.157 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394310265278464 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:16:47.157 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394310265278464 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:16:47.158 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394310265278464 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:16:47.159 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394310265278464 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:16:47.159 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394310265278464 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:16:47.159 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394310265278464 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:16:47.159 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394310265278464 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:16:47.160 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394310265278464 [0;39m <==      Total: 4
2023-05-14 01:16:47.160 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394310265278464 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:16:47.160 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394310265278464 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 01:16:47.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394310424662016 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:16:47.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394310424662016 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:16:47.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394310424662016 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:16:47.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394310424662016 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:16:47.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394310424662016 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:16:47.196 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394310424662016 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:16:47.196 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394310424662016 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:16:47.197 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394310424662016 [0;39m <==    Columns: id, content
2023-05-14 01:16:47.197 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394310424662016 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:16:47.197 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394310424662016 [0;39m <==      Total: 1
2023-05-14 01:16:47.198 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394310424662016 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:16:47.198 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394310424662016 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:16:47.205 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394310424662016 [0;39m <==    Updates: 1
2023-05-14 01:16:47.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394310424662016 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:16:47.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394310424662016 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-14 01:16:47.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:17:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38394364195639296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:17:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394364195639296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:17:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394364195639296 [0;39m ==> Parameters: 
2023-05-14 01:17:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394364195639296 [0;39m <==    Updates: 0
2023-05-14 01:17:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38394364195639296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-14 01:17:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38394385162964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:17:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394385162964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:17:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394385162964992 [0;39m ==> Parameters: 
2023-05-14 01:17:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394385162964992 [0;39m <==    Updates: 1
2023-05-14 01:17:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38394385162964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 01:17:08.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:17:14.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:17:17.495 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:17:27.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394480302362624 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:17:27.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394480302362625 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:17:27.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394480302362624 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:17:27.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394480302362625 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:17:27.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394480302362624 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:17:27.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394480302362625 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:17:27.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394480302362624 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:17:27.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394480302362625 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:17:27.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394480302362624 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:17:27.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394480302362625 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:17:27.697 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394480302362625 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:17:27.697 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394480302362624 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:17:27.697 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394480302362625 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:17:27.697 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394480302362624 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:17:27.699 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394480302362625 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:17:27.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394480302362624 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:17:27.699 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394480302362625 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:17:27.699 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394480302362625 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:17:27.700 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394480302362625 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:17:27.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394480302362624 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 210, 7
2023-05-14 01:17:27.700 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394480302362625 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:17:27.700 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394480302362625 [0;39m <==      Total: 4
2023-05-14 01:17:27.700 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394480302362624 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:17:27.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394480302362625 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:17:27.700 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394480302362624 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:17:27.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394480302362625 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 01:17:27.700 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394480302362624 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:17:27.701 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394480302362624 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:17:27.701 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394480302362624 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:17:27.702 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394480302362624 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:17:27.702 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394480302362624 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:17:27.702 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394480302362624 [0;39m <==      Total: 8
2023-05-14 01:17:27.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394480302362624 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":210,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:17:27.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394480302362624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 01:17:27.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394480507883520 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:17:27.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394480507883520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:17:27.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394480507883520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:17:27.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394480507883520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:17:27.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394480507883520 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:17:27.746 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394480507883520 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:17:27.747 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394480507883520 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:17:27.748 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394480507883520 [0;39m <==    Columns: id, content
2023-05-14 01:17:27.748 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394480507883520 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:17:27.749 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394480507883520 [0;39m <==      Total: 1
2023-05-14 01:17:27.750 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394480507883520 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:17:27.750 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394480507883520 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:17:27.757 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394480507883520 [0;39m <==    Updates: 1
2023-05-14 01:17:27.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394480507883520 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:17:27.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394480507883520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-14 01:17:33.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:17:34.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394506781003776 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:17:34.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394506781003776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:17:34.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394506781003776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:17:34.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394506781003776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:17:34.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394506781003776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:17:34.010 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394506781003776 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:17:34.011 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394506781003776 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:17:34.012 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394506781003776 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:17:34.012 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394506781003776 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:17:34.013 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394506781003776 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:17:34.013 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394506781003776 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:17:34.013 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394506781003776 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:17:34.014 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394506781003776 [0;39m <==      Total: 4
2023-05-14 01:17:34.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394506781003776 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:17:34.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394506781003776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:17:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38394510958530560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:17:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394510958530560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:17:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394510958530560 [0;39m ==> Parameters: 
2023-05-14 01:17:35.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394510958530560 [0;39m <==    Updates: 1
2023-05-14 01:17:35.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38394510958530560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š106æ¯«ç§’
2023-05-14 01:17:44.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:17:47.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:17:49.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394571490725888 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:17:49.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394571490725888 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:17:49.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394571490725888 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:17:49.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394571490725888 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:17:49.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394571490725888 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:17:49.438 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394571490725888 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:17:49.439 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394571490725888 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:17:49.439 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394571490725888 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:17:49.440 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394571490725888 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:17:49.440 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394571490725888 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:17:49.440 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394571490725888 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:17:49.441 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394571490725888 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:17:49.441 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394571490725888 [0;39m <==      Total: 4
2023-05-14 01:17:49.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394571490725888 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:17:49.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394571490725888 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 01:17:49.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394571650109440 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:17:49.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394571650109440 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:17:49.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394571650109440 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:17:49.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394571650109440 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:17:49.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394571650109440 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:17:49.477 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394571650109440 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:17:49.477 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394571650109440 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:17:49.478 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394571650109440 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:17:49.478 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394571650109440 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 211, 7
2023-05-14 01:17:49.478 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394571650109440 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:17:49.479 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394571650109440 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:17:49.479 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394571650109440 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:17:49.479 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394571650109440 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:17:49.479 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394571650109440 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:17:49.479 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394571650109440 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:17:49.480 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394571650109440 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:17:49.480 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394571650109440 [0;39m <==      Total: 8
2023-05-14 01:17:49.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394571650109440 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":211,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:17:49.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394571650109440 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:17:49.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394571796910080 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:17:49.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394571796910080 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:17:49.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394571796910080 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:17:49.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394571796910080 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:17:49.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394571796910080 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:17:49.512 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394571796910080 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:17:49.513 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394571796910080 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:17:49.515 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394571796910080 [0;39m <==    Columns: id, content
2023-05-14 01:17:49.515 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394571796910080 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:17:49.515 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394571796910080 [0;39m <==      Total: 1
2023-05-14 01:17:49.515 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394571796910080 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:17:49.516 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394571796910080 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:17:49.525 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394571796910080 [0;39m <==    Updates: 1
2023-05-14 01:17:49.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394571796910080 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:17:49.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394571796910080 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-14 01:17:50.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394576926543872 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:17:50.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394576926543872 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:17:50.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394576926543872 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:17:50.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394576926543872 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:17:50.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394576926543872 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:17:50.736 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394576926543872 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:17:50.736 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394576926543872 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:17:50.736 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394576926543872 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:17:50.737 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394576926543872 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:17:50.737 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394576926543872 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:17:50.737 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394576926543872 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:17:50.738 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394576926543872 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:17:50.738 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394576926543872 [0;39m <==      Total: 4
2023-05-14 01:17:50.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394576926543872 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:17:50.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394576926543872 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:17:55.414 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:17:57.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:18:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38394615811936256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:18:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394615811936256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:18:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394615811936256 [0;39m ==> Parameters: 
2023-05-14 01:18:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394615811936256 [0;39m <==    Updates: 0
2023-05-14 01:18:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38394615811936256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:18:02.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394625186205696 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:02.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394625186205696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:18:02.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394625186205696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:18:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394625186205696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394625186205696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394625190400000 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394625190400000 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:18:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394625190400000 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:18:02.240 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394625186205696 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:18:02.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394625190400000 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:02.241 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394625186205696 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:02.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394625190400000 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:02.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394625190400000 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:18:02.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394625190400000 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:02.241 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394625186205696 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:18:02.242 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394625186205696 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 212, 7
2023-05-14 01:18:02.242 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394625186205696 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:18:02.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394625190400000 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:18:02.242 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394625186205696 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:18:02.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394625190400000 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:18:02.242 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394625186205696 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:18:02.243 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394625186205696 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:18:02.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394625190400000 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:18:02.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394625190400000 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:18:02.243 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394625186205696 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:18:02.244 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394625186205696 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:18:02.244 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394625190400000 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:18:02.245 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394625186205696 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:18:02.245 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394625190400000 [0;39m <==      Total: 4
2023-05-14 01:18:02.245 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394625186205696 [0;39m <==      Total: 8
2023-05-14 01:18:02.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394625190400000 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:18:02.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394625190400000 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:18:02.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394625186205696 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":212,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:18:02.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394625186205696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:18:02.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394625345589248 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:02.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394625345589248 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:18:02.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394625345589248 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:18:02.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394625345589248 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:02.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394625345589248 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:02.278 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394625345589248 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:18:02.279 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394625345589248 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:02.280 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394625345589248 [0;39m <==    Columns: id, content
2023-05-14 01:18:02.282 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394625345589248 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:18:02.282 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394625345589248 [0;39m <==      Total: 1
2023-05-14 01:18:02.283 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394625345589248 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:18:02.283 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394625345589248 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:02.291 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394625345589248 [0;39m <==    Updates: 1
2023-05-14 01:18:02.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394625345589248 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:18:02.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394625345589248 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-14 01:18:03.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394631444107264 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:03.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394631444107264 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:18:03.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394631444107264 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:18:03.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394631444107264 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:03.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394631444107264 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:03.733 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394631444107264 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:18:03.733 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394631444107264 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:03.734 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394631444107264 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:18:03.735 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394631444107264 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:18:03.736 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394631444107264 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:18:03.736 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394631444107264 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:18:03.736 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394631444107264 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:18:03.736 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394631444107264 [0;39m <==      Total: 4
2023-05-14 01:18:03.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394631444107264 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:18:03.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394631444107264 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:18:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38394636770873344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:18:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394636770873344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:18:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394636770873344 [0;39m ==> Parameters: 
2023-05-14 01:18:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394636770873344 [0;39m <==    Updates: 1
2023-05-14 01:18:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38394636770873344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 01:18:12.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394668949573633 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:12.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394668949573632 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:12.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394668949573633 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:18:12.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394668949573633 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:18:12.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394668949573633 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:12.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394668949573632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:18:12.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394668949573633 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:12.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394668949573632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:18:12.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394668949573632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:12.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394668949573632 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:12.674 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394668949573633 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:18:12.675 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394668949573633 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:12.675 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394668949573632 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:18:12.675 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394668949573632 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:12.675 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394668949573633 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:18:12.676 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394668949573632 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:18:12.676 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394668949573632 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 213, 7
2023-05-14 01:18:12.676 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394668949573633 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:18:12.676 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394668949573632 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:18:12.676 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394668949573633 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:18:12.676 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394668949573632 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:18:12.676 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394668949573633 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:18:12.676 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394668949573632 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:18:12.677 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394668949573633 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:18:12.677 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394668949573632 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:18:12.677 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394668949573633 [0;39m <==      Total: 4
2023-05-14 01:18:12.677 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394668949573632 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:18:12.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394668949573633 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:18:12.677 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394668949573632 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:18:12.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394668949573633 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 01:18:12.677 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394668949573632 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:18:12.677 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394668949573632 [0;39m <==      Total: 8
2023-05-14 01:18:12.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394668949573632 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":213,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:18:12.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394668949573632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:18:12.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394669142511616 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:12.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394669142511616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:18:12.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394669142511616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:18:12.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394669142511616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:12.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394669142511616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:12.720 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394669142511616 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:18:12.720 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394669142511616 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:12.721 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394669142511616 [0;39m <==    Columns: id, content
2023-05-14 01:18:12.722 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394669142511616 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:18:12.722 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394669142511616 [0;39m <==      Total: 1
2023-05-14 01:18:12.723 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394669142511616 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:18:12.723 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394669142511616 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:12.730 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394669142511616 [0;39m <==    Updates: 1
2023-05-14 01:18:12.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394669142511616 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:18:12.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394669142511616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 01:18:14.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:18:14.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394675937284096 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:14.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394675937284096 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:18:14.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394675937284096 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:18:14.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394675937284096 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:14.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394675937284096 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:14.341 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394675937284096 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:18:14.342 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394675937284096 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:14.343 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394675937284096 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:18:14.343 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394675937284096 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:18:14.343 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394675937284096 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:18:14.344 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394675937284096 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:18:14.344 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394675937284096 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:18:14.344 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394675937284096 [0;39m <==      Total: 4
2023-05-14 01:18:14.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394675937284096 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:18:14.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394675937284096 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:18:17.881 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:18:19.935 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:18:21.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:18:27.290 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38394571796910080 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šyXGf0PZpSZï¼Œsession idï¼š21ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 01:18:28.765 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38394576926543872 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šZikpzRhvF2ï¼Œsession idï¼š22ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 01:18:28.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394736880521216 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:28.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394736880521217 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:28.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394736880521217 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:18:28.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394736880521216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:18:28.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394736880521217 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:18:28.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394736880521216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:18:28.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394736880521217 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:28.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394736880521216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:28.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394736880521217 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:28.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394736880521216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:28.871 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394736880521217 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:18:28.871 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394736880521216 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:18:28.871 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394736880521217 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:28.872 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394736880521216 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:28.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394736880521217 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:18:28.872 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394736880521216 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:18:28.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394736880521217 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 214, 7
2023-05-14 01:18:28.872 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394736880521216 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:18:28.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394736880521217 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:18:28.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394736880521217 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:18:28.873 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394736880521216 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:18:28.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394736880521217 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:18:28.873 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394736880521216 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:18:28.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394736880521217 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:18:28.873 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394736880521216 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:18:28.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394736880521217 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:18:28.873 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394736880521216 [0;39m <==      Total: 4
2023-05-14 01:18:28.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394736880521217 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:18:28.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394736880521216 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:18:28.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394736880521217 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:18:28.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394736880521216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:18:28.874 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394736880521217 [0;39m <==      Total: 8
2023-05-14 01:18:28.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394736880521217 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":214,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:18:28.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394736880521217 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 01:18:29.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394737849405440 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:29.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394737849405440 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:18:29.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394737849405440 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:18:29.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394737849405440 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:29.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394737849405440 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:29.101 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394737849405440 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:18:29.101 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394737849405440 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:29.103 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394737849405440 [0;39m <==    Columns: id, content
2023-05-14 01:18:29.103 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394737849405440 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:18:29.103 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394737849405440 [0;39m <==      Total: 1
2023-05-14 01:18:29.104 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394737849405440 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:18:29.104 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394737849405440 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:29.111 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394737849405440 [0;39m <==    Updates: 1
2023-05-14 01:18:29.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394737849405440 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:18:29.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394737849405440 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-14 01:18:30.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394744434462720 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:30.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394744434462720 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:18:30.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394744434462720 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:18:30.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394744434462720 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:30.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394744434462720 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:30.673 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394744434462720 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:18:30.674 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394744434462720 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:30.674 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394744434462720 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:18:30.675 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394744434462720 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:18:30.675 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394744434462720 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:18:30.675 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394744434462720 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:18:30.676 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394744434462720 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:18:30.676 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394744434462720 [0;39m <==      Total: 4
2023-05-14 01:18:30.676 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394744434462720 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:18:30.676 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394744434462720 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 01:18:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38394762658713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:18:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394762658713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:18:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394762658713600 [0;39m ==> Parameters: 
2023-05-14 01:18:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394762658713600 [0;39m <==    Updates: 1
2023-05-14 01:18:35.029 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38394762658713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-14 01:18:41.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394789519036416 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:41.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394789519036416 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 01:18:41.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394789519036416 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 01:18:41.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394789519036416 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:41.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394789519036416 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:41.422 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394789519036416 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 01:18:41.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394789519036417 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:41.423 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394789519036416 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:41.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394789519036417 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 01:18:41.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394789519036417 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 01:18:41.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394789519036417 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:41.423 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394789519036416 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 01:18:41.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394789519036417 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:41.423 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394789519036416 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 01:18:41.424 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394789519036416 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 01:18:41.424 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394789519036416 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 01:18:41.424 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38394789519036416 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 01:18:41.424 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394789519036417 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 01:18:41.424 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38394789519036416 [0;39m <==      Total: 4
2023-05-14 01:18:41.424 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394789519036417 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:41.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394789519036416 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 01:18:41.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394789519036416 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 01:18:41.425 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394789519036417 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 01:18:41.426 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394789519036417 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 215, 7
2023-05-14 01:18:41.426 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394789519036417 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 01:18:41.426 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394789519036417 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 01:18:41.428 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394789519036417 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 01:18:41.428 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394789519036417 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 01:18:41.428 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394789519036417 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 01:18:41.428 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394789519036417 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 01:18:41.429 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38394789519036417 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 01:18:41.429 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38394789519036417 [0;39m <==      Total: 8
2023-05-14 01:18:41.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394789519036417 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":215,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 01:18:41.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394789519036417 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-14 01:18:41.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38394791830097920 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 01:18:41.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38394791830097920 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 01:18:41.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38394791830097920 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 01:18:41.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38394791830097920 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 01:18:41.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38394791830097920 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 01:18:41.976 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394791830097920 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 01:18:41.976 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394791830097920 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:41.977 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394791830097920 [0;39m <==    Columns: id, content
2023-05-14 01:18:41.977 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38394791830097920 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 01:18:41.978 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38394791830097920 [0;39m <==      Total: 1
2023-05-14 01:18:41.978 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394791830097920 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 01:18:41.978 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394791830097920 [0;39m ==> Parameters: 1(Long)
2023-05-14 01:18:41.986 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38394791830097920 [0;39m <==    Updates: 1
2023-05-14 01:18:41.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38394791830097920 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 01:18:41.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38394791830097920 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-14 01:18:44.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:18:48.028 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:18:50.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:19:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38394867528896512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:19:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394867528896512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:19:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394867528896512 [0;39m ==> Parameters: 
2023-05-14 01:19:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38394867528896512 [0;39m <==    Updates: 0
2023-05-14 01:19:00.029 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38394867528896512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 01:19:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38394888450084864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:19:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394888450084864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:19:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394888450084864 [0;39m ==> Parameters: 
2023-05-14 01:19:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38394888450084864 [0;39m <==    Updates: 1
2023-05-14 01:19:05.034 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38394888450084864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2023-05-14 01:19:14.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:19:18.309 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:19:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38395014312759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:19:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395014312759296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:19:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395014312759296 [0;39m ==> Parameters: 
2023-05-14 01:19:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395014312759296 [0;39m <==    Updates: 1
2023-05-14 01:19:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38395014312759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:19:37.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:19:39.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:19:44.370 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:19:47.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:20:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38395119140999168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:20:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395119140999168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:20:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395119140999168 [0;39m ==> Parameters: 
2023-05-14 01:20:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395119140999168 [0;39m <==    Updates: 0
2023-05-14 01:20:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38395119140999168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-14 01:20:01.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:20:04.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:20:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38395140129296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:20:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395140129296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:20:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395140129296384 [0;39m ==> Parameters: 
2023-05-14 01:20:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395140129296384 [0;39m <==    Updates: 1
2023-05-14 01:20:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38395140129296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:20:14.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:20:17.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:20:28.872 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:20:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38395265924861952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:20:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395265924861952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:20:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395265924861952 [0;39m ==> Parameters: 
2023-05-14 01:20:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395265924861952 [0;39m <==    Updates: 1
2023-05-14 01:20:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38395265924861952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:20:44.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:20:47.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:20:52.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:21:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38395370803433472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:21:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395370803433472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:21:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395370803433472 [0;39m ==> Parameters: 
2023-05-14 01:21:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395370803433472 [0;39m <==    Updates: 0
2023-05-14 01:21:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38395370803433472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:21:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38395391741399040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:21:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395391741399040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:21:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395391741399040 [0;39m ==> Parameters: 
2023-05-14 01:21:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395391741399040 [0;39m <==    Updates: 1
2023-05-14 01:21:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38395391741399040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:21:14.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:21:17.312 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:21:19.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:21:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38395517591490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:21:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395517591490560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:21:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395517591490560 [0;39m ==> Parameters: 
2023-05-14 01:21:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395517591490560 [0;39m <==    Updates: 1
2023-05-14 01:21:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38395517591490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:21:44.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:21:48.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:22:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38395622461673472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:22:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395622461673472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:22:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395622461673472 [0;39m ==> Parameters: 
2023-05-14 01:22:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395622461673472 [0;39m <==    Updates: 0
2023-05-14 01:22:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38395622461673472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š18æ¯«ç§’
2023-05-14 01:22:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38395643449970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:22:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395643449970688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:22:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395643449970688 [0;39m ==> Parameters: 
2023-05-14 01:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395643449970688 [0;39m <==    Updates: 1
2023-05-14 01:22:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38395643449970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:22:06.952 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:22:08.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:22:13.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:22:14.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:22:17.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:22:31.033 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:22:33.094 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:22:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38395769228759040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:22:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395769228759040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:22:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395769228759040 [0;39m ==> Parameters: 
2023-05-14 01:22:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395769228759040 [0;39m <==    Updates: 1
2023-05-14 01:22:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38395769228759040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:22:44.860 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:22:47.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:22:57.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:23:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38395874094747648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:23:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395874094747648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:23:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395874094747648 [0;39m ==> Parameters: 
2023-05-14 01:23:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38395874094747648 [0;39m <==    Updates: 0
2023-05-14 01:23:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38395874094747648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 01:23:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38395895062073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:23:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395895062073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:23:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395895062073344 [0;39m ==> Parameters: 
2023-05-14 01:23:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38395895062073344 [0;39m <==    Updates: 1
2023-05-14 01:23:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38395895062073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:23:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:23:17.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:23:19.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:23:21.509 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:23:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38396020933136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:23:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396020933136384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:23:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396020933136384 [0;39m ==> Parameters: 
2023-05-14 01:23:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396020933136384 [0;39m <==    Updates: 1
2023-05-14 01:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38396020933136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:23:44.412 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:23:47.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:23:49.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:24:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38396125786542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:24:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396125786542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:24:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396125786542080 [0;39m ==> Parameters: 
2023-05-14 01:24:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396125786542080 [0;39m <==    Updates: 0
2023-05-14 01:24:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38396125786542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:24:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38396146724507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:24:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396146724507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:24:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396146724507648 [0;39m ==> Parameters: 
2023-05-14 01:24:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396146724507648 [0;39m <==    Updates: 1
2023-05-14 01:24:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38396146724507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:24:14.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:24:17.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:24:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38396272608153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:24:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396272608153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:24:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396272608153600 [0;39m ==> Parameters: 
2023-05-14 01:24:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396272608153600 [0;39m <==    Updates: 1
2023-05-14 01:24:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38396272608153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:24:36.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:24:38.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:24:44.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:24:47.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:25:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38396377411227648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:25:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396377411227648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:25:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396377411227648 [0;39m ==> Parameters: 
2023-05-14 01:25:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396377411227648 [0;39m <==    Updates: 0
2023-05-14 01:25:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38396377411227648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:25:00.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:25:02.491 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:25:05.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38396398466633728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:25:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396398466633728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:25:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396398466633728 [0;39m ==> Parameters: 
2023-05-14 01:25:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396398466633728 [0;39m <==    Updates: 1
2023-05-14 01:25:05.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38396398466633728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:25:14.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:25:17.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:25:26.574 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:25:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38396524207673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:25:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396524207673344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:25:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396524207673344 [0;39m ==> Parameters: 
2023-05-14 01:25:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396524207673344 [0;39m <==    Updates: 1
2023-05-14 01:25:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38396524207673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:25:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:25:51.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:26:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38396629111410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:26:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396629111410688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:26:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396629111410688 [0;39m ==> Parameters: 
2023-05-14 01:26:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396629111410688 [0;39m <==    Updates: 0
2023-05-14 01:26:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38396629111410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:26:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38396650036793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396650036793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396650036793344 [0;39m ==> Parameters: 
2023-05-14 01:26:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396650036793344 [0;39m <==    Updates: 1
2023-05-14 01:26:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38396650036793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:26:14.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:26:17.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:26:19.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:26:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38396775874301952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:26:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396775874301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:26:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396775874301952 [0;39m ==> Parameters: 
2023-05-14 01:26:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396775874301952 [0;39m <==    Updates: 1
2023-05-14 01:26:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38396775874301952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:26:41.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:26:44.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:26:47.349 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:27:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38396880731901952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:27:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396880731901952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:27:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396880731901952 [0;39m ==> Parameters: 
2023-05-14 01:27:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38396880731901952 [0;39m <==    Updates: 0
2023-05-14 01:27:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38396880731901952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:27:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38396901716004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:27:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396901716004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:27:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396901716004864 [0;39m ==> Parameters: 
2023-05-14 01:27:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38396901716004864 [0;39m <==    Updates: 1
2023-05-14 01:27:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38396901716004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:27:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:27:08.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:27:14.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:27:17.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:27:30.435 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:27:32.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:27:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38397027524153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:27:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397027524153344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:27:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397027524153344 [0;39m ==> Parameters: 
2023-05-14 01:27:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397027524153344 [0;39m <==    Updates: 1
2023-05-14 01:27:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38397027524153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:27:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:27:47.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:27:56.567 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:28:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38397132411113472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:28:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397132411113472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:28:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397132411113472 [0;39m ==> Parameters: 
2023-05-14 01:28:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397132411113472 [0;39m <==    Updates: 0
2023-05-14 01:28:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38397132411113472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:28:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38397153370050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:28:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397153370050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:28:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397153370050560 [0;39m ==> Parameters: 
2023-05-14 01:28:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397153370050560 [0;39m <==    Updates: 1
2023-05-14 01:28:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38397153370050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:28:13.119 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:28:14.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:28:15.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:28:17.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:28:19.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:28:21.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:28:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38397279236919296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:28:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397279236919296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:28:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397279236919296 [0;39m ==> Parameters: 
2023-05-14 01:28:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397279236919296 [0;39m <==    Updates: 1
2023-05-14 01:28:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38397279236919296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:28:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:28:47.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:28:49.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38397384077742080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:29:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397384077742080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397384077742080 [0;39m ==> Parameters: 
2023-05-14 01:29:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397384077742080 [0;39m <==    Updates: 0
2023-05-14 01:29:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38397384077742080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:29:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38397405040873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:29:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397405040873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:29:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397405040873472 [0;39m ==> Parameters: 
2023-05-14 01:29:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397405040873472 [0;39m <==    Updates: 1
2023-05-14 01:29:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38397405040873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:29:13.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:15.382 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:17.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:19.476 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38397530853216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:29:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397530853216256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:29:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397530853216256 [0;39m ==> Parameters: 
2023-05-14 01:29:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397530853216256 [0;39m <==    Updates: 1
2023-05-14 01:29:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38397530853216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:29:37.438 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:43.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:45.165 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:47.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:29:59.480 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:30:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38397635735982080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:30:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397635735982080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:30:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397635735982080 [0;39m ==> Parameters: 
2023-05-14 01:30:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397635735982080 [0;39m <==    Updates: 0
2023-05-14 01:30:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38397635735982080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:30:01.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:30:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38397656686530560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:30:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397656686530560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:30:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397656686530560 [0;39m ==> Parameters: 
2023-05-14 01:30:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397656686530560 [0;39m <==    Updates: 1
2023-05-14 01:30:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38397656686530560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:30:13.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:30:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:30:15.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:30:17.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:30:23.559 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:30:25.590 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:30:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38397782540816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:30:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397782540816384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:30:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397782540816384 [0;39m ==> Parameters: 
2023-05-14 01:30:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397782540816384 [0;39m <==    Updates: 1
2023-05-14 01:30:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38397782540816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:30:44.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:30:47.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:30:51.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:31:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38397887356473344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:31:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397887356473344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:31:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397887356473344 [0;39m ==> Parameters: 
2023-05-14 01:31:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38397887356473344 [0;39m <==    Updates: 0
2023-05-14 01:31:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38397887356473344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:31:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38397908348964864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:31:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397908348964864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:31:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397908348964864 [0;39m ==> Parameters: 
2023-05-14 01:31:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38397908348964864 [0;39m <==    Updates: 1
2023-05-14 01:31:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38397908348964864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:31:14.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:31:15.142 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:31:17.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:31:19.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:31:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38398034173890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:31:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398034173890560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:31:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398034173890560 [0;39m ==> Parameters: 
2023-05-14 01:31:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398034173890560 [0;39m <==    Updates: 1
2023-05-14 01:31:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38398034173890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:31:41.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:31:43.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:31:44.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:31:45.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:31:47.418 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:31:49.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38398139023101952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:32:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398139023101952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:32:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398139023101952 [0;39m ==> Parameters: 
2023-05-14 01:32:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398139023101952 [0;39m <==    Updates: 0
2023-05-14 01:32:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38398139023101952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:32:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38398159982039040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:32:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398159982039040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:32:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398159982039040 [0;39m ==> Parameters: 
2023-05-14 01:32:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398159982039040 [0;39m <==    Updates: 1
2023-05-14 01:32:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38398159982039040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:32:05.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:07.398 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:13.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:14.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:15.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:17.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:31.491 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38398285869879296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:32:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398285869879296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:32:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398285869879296 [0;39m ==> Parameters: 
2023-05-14 01:32:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398285869879296 [0;39m <==    Updates: 1
2023-05-14 01:32:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38398285869879296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:32:43.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:44.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:47.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:53.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:32:55.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:33:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38398390706507776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:33:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398390706507776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:33:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398390706507776 [0;39m ==> Parameters: 
2023-05-14 01:33:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398390706507776 [0;39m <==    Updates: 0
2023-05-14 01:33:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38398390706507776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:33:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38398411673833472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:33:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398411673833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:33:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398411673833472 [0;39m ==> Parameters: 
2023-05-14 01:33:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398411673833472 [0;39m <==    Updates: 1
2023-05-14 01:33:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38398411673833472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:33:13.099 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:33:14.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:33:17.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:33:21.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:33:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38398537498759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:33:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398537498759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:33:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398537498759168 [0;39m ==> Parameters: 
2023-05-14 01:33:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398537498759168 [0;39m <==    Updates: 1
2023-05-14 01:33:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38398537498759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:33:43.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:33:44.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:33:45.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:33:47.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:33:49.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:34:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38398642431856640 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:34:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398642431856640 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:34:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398642431856640 [0;39m ==> Parameters: 
2023-05-14 01:34:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398642431856640 [0;39m <==    Updates: 0
2023-05-14 01:34:00.029 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38398642431856640 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:34:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38398663344656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:34:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398663344656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:34:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398663344656384 [0;39m ==> Parameters: 
2023-05-14 01:34:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398663344656384 [0;39m <==    Updates: 1
2023-05-14 01:34:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38398663344656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:34:13.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:34:14.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:34:19.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:34:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38398789190553600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:34:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398789190553600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:34:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398789190553600 [0;39m ==> Parameters: 
2023-05-14 01:34:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398789190553600 [0;39m <==    Updates: 1
2023-05-14 01:34:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38398789190553600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:34:35.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:34:37.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:34:43.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:34:44.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:34:45.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:34:47.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:34:59.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:35:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38398893993627648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:35:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398893993627648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:35:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398893993627648 [0;39m ==> Parameters: 
2023-05-14 01:35:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38398893993627648 [0;39m <==    Updates: 0
2023-05-14 01:35:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38398893993627648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:35:01.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:35:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38398915002896384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:35:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398915002896384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:35:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398915002896384 [0;39m ==> Parameters: 
2023-05-14 01:35:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38398915002896384 [0;39m <==    Updates: 1
2023-05-14 01:35:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38398915002896384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:35:13.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:35:14.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:35:15.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:35:17.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:35:25.637 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:35:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38399040806850560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:35:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399040806850560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:35:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399040806850560 [0;39m ==> Parameters: 
2023-05-14 01:35:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399040806850560 [0;39m <==    Updates: 1
2023-05-14 01:35:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38399040806850560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:35:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:35:47.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:35:49.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:35:51.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:36:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38399145681227776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:36:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399145681227776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:36:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399145681227776 [0;39m ==> Parameters: 
2023-05-14 01:36:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399145681227776 [0;39m <==    Updates: 0
2023-05-14 01:36:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38399145681227776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:36:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38399166661136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:36:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399166661136384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:36:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399166661136384 [0;39m ==> Parameters: 
2023-05-14 01:36:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399166661136384 [0;39m <==    Updates: 1
2023-05-14 01:36:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38399166661136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:36:13.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:36:14.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:36:15.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:36:17.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:36:19.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:36:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38399292444119040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:36:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399292444119040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:36:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399292444119040 [0;39m ==> Parameters: 
2023-05-14 01:36:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399292444119040 [0;39m <==    Updates: 1
2023-05-14 01:36:35.001 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38399292444119040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 01:36:41.307 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:36:43.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:36:44.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:36:49.460 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:37:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38399397335273472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:37:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399397335273472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:37:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399397335273472 [0;39m ==> Parameters: 
2023-05-14 01:37:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399397335273472 [0;39m <==    Updates: 0
2023-05-14 01:37:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38399397335273472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:37:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38399418281627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:37:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399418281627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:37:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399418281627648 [0;39m ==> Parameters: 
2023-05-14 01:37:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399418281627648 [0;39m <==    Updates: 1
2023-05-14 01:37:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38399418281627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:37:05.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:37:07.748 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:37:14.520 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:37:17.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:37:31.863 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:37:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38399544131719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:37:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399544131719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:37:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399544131719168 [0;39m ==> Parameters: 
2023-05-14 01:37:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399544131719168 [0;39m <==    Updates: 1
2023-05-14 01:37:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38399544131719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:37:43.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:37:44.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:37:47.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:37:53.906 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:37:55.936 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:38:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38399649006096384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:38:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399649006096384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:38:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399649006096384 [0;39m ==> Parameters: 
2023-05-14 01:38:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399649006096384 [0;39m <==    Updates: 0
2023-05-14 01:38:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38399649006096384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 01:38:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38399669960839168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:38:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399669960839168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:38:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399669960839168 [0;39m ==> Parameters: 
2023-05-14 01:38:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399669960839168 [0;39m <==    Updates: 1
2023-05-14 01:38:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38399669960839168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:38:13.119 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:38:14.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:38:15.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:38:17.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:38:21.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:38:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38399795806736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:38:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399795806736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:38:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399795806736384 [0;39m ==> Parameters: 
2023-05-14 01:38:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399795806736384 [0;39m <==    Updates: 1
2023-05-14 01:38:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38399795806736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:38:43.136 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:38:44.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:38:45.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:38:47.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:38:49.238 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:39:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38399900660142080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:39:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399900660142080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:39:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399900660142080 [0;39m ==> Parameters: 
2023-05-14 01:39:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38399900660142080 [0;39m <==    Updates: 0
2023-05-14 01:39:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38399900660142080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:39:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38399921627467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:39:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399921627467776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:39:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399921627467776 [0;39m ==> Parameters: 
2023-05-14 01:39:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38399921627467776 [0;39m <==    Updates: 1
2023-05-14 01:39:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38399921627467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:39:13.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:39:14.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:39:15.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:39:17.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:39:19.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:39:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38400047481753600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:39:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400047481753600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:39:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400047481753600 [0;39m ==> Parameters: 
2023-05-14 01:39:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400047481753600 [0;39m <==    Updates: 1
2023-05-14 01:39:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38400047481753600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:39:37.939 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:39:43.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:39:44.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:39:47.533 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38400152289021952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:40:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400152289021952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:40:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400152289021952 [0;39m ==> Parameters: 
2023-05-14 01:40:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400152289021952 [0;39m <==    Updates: 0
2023-05-14 01:40:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38400152289021952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:40:02.730 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38400173273124864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:40:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400173273124864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:40:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400173273124864 [0;39m ==> Parameters: 
2023-05-14 01:40:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400173273124864 [0;39m <==    Updates: 1
2023-05-14 01:40:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38400173273124864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:40:13.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:14.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:15.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:17.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:26.952 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38400299098050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:40:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400299098050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:40:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400299098050560 [0;39m ==> Parameters: 
2023-05-14 01:40:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400299098050560 [0;39m <==    Updates: 1
2023-05-14 01:40:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38400299098050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:40:43.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:44.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:45.149 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:47.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:40:51.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:41:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38400403968233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:41:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400403968233472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:41:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400403968233472 [0;39m ==> Parameters: 
2023-05-14 01:41:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400403968233472 [0;39m <==    Updates: 0
2023-05-14 01:41:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38400403968233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:41:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38400424939753472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:41:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400424939753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:41:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400424939753472 [0;39m ==> Parameters: 
2023-05-14 01:41:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400424939753472 [0;39m <==    Updates: 1
2023-05-14 01:41:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38400424939753472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:41:13.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:41:14.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:41:17.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:41:19.250 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:41:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38400550773067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:41:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400550773067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:41:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400550773067776 [0;39m ==> Parameters: 
2023-05-14 01:41:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400550773067776 [0;39m <==    Updates: 1
2023-05-14 01:41:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38400550773067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:41:43.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:41:44.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:41:47.416 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:41:49.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:42:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38400655622279168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:42:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400655622279168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:42:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400655622279168 [0;39m ==> Parameters: 
2023-05-14 01:42:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400655622279168 [0;39m <==    Updates: 0
2023-05-14 01:42:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38400655622279168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:42:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38400676585410560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:42:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400676585410560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:42:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400676585410560 [0;39m ==> Parameters: 
2023-05-14 01:42:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400676585410560 [0;39m <==    Updates: 1
2023-05-14 01:42:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38400676585410560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:42:05.402 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:42:07.427 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:42:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:42:17.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:42:31.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:42:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38400802443890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:42:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400802443890688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:42:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400802443890688 [0;39m ==> Parameters: 
2023-05-14 01:42:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400802443890688 [0;39m <==    Updates: 1
2023-05-14 01:42:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38400802443890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:42:43.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:42:44.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:42:47.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:42:53.559 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:42:55.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:43:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38400907301490688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:43:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400907301490688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:43:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400907301490688 [0;39m ==> Parameters: 
2023-05-14 01:43:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38400907301490688 [0;39m <==    Updates: 0
2023-05-14 01:43:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38400907301490688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 01:43:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38400928231067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:43:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400928231067648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:43:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400928231067648 [0;39m ==> Parameters: 
2023-05-14 01:43:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38400928231067648 [0;39m <==    Updates: 1
2023-05-14 01:43:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38400928231067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:43:14.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:43:17.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:43:21.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:43:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38401054068576256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:43:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401054068576256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:43:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401054068576256 [0;39m ==> Parameters: 
2023-05-14 01:43:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401054068576256 [0;39m <==    Updates: 1
2023-05-14 01:43:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38401054068576256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:43:44.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:43:45.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:43:47.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:43:49.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:44:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38401158951342080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:44:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401158951342080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:44:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401158951342080 [0;39m ==> Parameters: 
2023-05-14 01:44:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401158951342080 [0;39m <==    Updates: 0
2023-05-14 01:44:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38401158951342080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:44:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38401179939639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:44:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401179939639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:44:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401179939639296 [0;39m ==> Parameters: 
2023-05-14 01:44:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401179939639296 [0;39m <==    Updates: 1
2023-05-14 01:44:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38401179939639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:44:13.299 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:44:14.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:44:17.370 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:44:19.418 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:44:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38401305735204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:44:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401305735204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:44:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401305735204864 [0;39m ==> Parameters: 
2023-05-14 01:44:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401305735204864 [0;39m <==    Updates: 1
2023-05-14 01:44:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38401305735204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:44:35.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:44:37.383 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:44:44.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:44:45.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:44:47.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:44:59.419 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38401410601193472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:45:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401410601193472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:45:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401410601193472 [0;39m ==> Parameters: 
2023-05-14 01:45:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401410601193472 [0;39m <==    Updates: 0
2023-05-14 01:45:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38401410601193472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:45:01.460 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38401431568519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:45:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401431568519168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:45:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401431568519168 [0;39m ==> Parameters: 
2023-05-14 01:45:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401431568519168 [0;39m <==    Updates: 1
2023-05-14 01:45:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38401431568519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:45:14.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:17.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:23.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:25.555 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38401557435387904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:45:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401557435387904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:45:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401557435387904 [0;39m ==> Parameters: 
2023-05-14 01:45:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401557435387904 [0;39m <==    Updates: 1
2023-05-14 01:45:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38401557435387904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:45:43.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:44.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:45.137 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:47.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:49.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:45:51.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:46:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38401662263627776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:46:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401662263627776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:46:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401662263627776 [0;39m ==> Parameters: 
2023-05-14 01:46:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401662263627776 [0;39m <==    Updates: 0
2023-05-14 01:46:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38401662263627776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:46:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38401683226759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:46:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401683226759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:46:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401683226759168 [0;39m ==> Parameters: 
2023-05-14 01:46:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401683226759168 [0;39m <==    Updates: 1
2023-05-14 01:46:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38401683226759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:46:14.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:46:15.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:46:17.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:46:19.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:46:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38401809097822208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:46:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401809097822208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:46:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401809097822208 [0;39m ==> Parameters: 
2023-05-14 01:46:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401809097822208 [0;39m <==    Updates: 1
2023-05-14 01:46:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38401809097822208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:46:43.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:46:44.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:46:45.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:46:49.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:47:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38401913947033600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:47:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401913947033600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:47:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401913947033600 [0;39m ==> Parameters: 
2023-05-14 01:47:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38401913947033600 [0;39m <==    Updates: 0
2023-05-14 01:47:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38401913947033600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:47:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38401934926942208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:47:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401934926942208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:47:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401934926942208 [0;39m ==> Parameters: 
2023-05-14 01:47:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38401934926942208 [0;39m <==    Updates: 1
2023-05-14 01:47:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38401934926942208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:47:07.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:47:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:47:17.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:47:29.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:47:31.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:47:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38402060697341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:47:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402060697341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:47:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402060697341952 [0;39m ==> Parameters: 
2023-05-14 01:47:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402060697341952 [0;39m <==    Updates: 1
2023-05-14 01:47:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38402060697341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:47:44.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:47:47.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:47:53.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:47:55.568 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:48:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38402165559136256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:48:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402165559136256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:48:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402165559136256 [0;39m ==> Parameters: 
2023-05-14 01:48:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402165559136256 [0;39m <==    Updates: 0
2023-05-14 01:48:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38402165559136256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:48:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38402186534850560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402186534850560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:48:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402186534850560 [0;39m ==> Parameters: 
2023-05-14 01:48:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402186534850560 [0;39m <==    Updates: 1
2023-05-14 01:48:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38402186534850560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:48:13.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:48:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:48:17.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:48:21.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:48:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38402312372359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:48:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402312372359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:48:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402312372359168 [0;39m ==> Parameters: 
2023-05-14 01:48:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402312372359168 [0;39m <==    Updates: 1
2023-05-14 01:48:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38402312372359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:48:44.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:48:47.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:48:49.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:49:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38402417242542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:49:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402417242542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:49:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402417242542080 [0;39m ==> Parameters: 
2023-05-14 01:49:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402417242542080 [0;39m <==    Updates: 0
2023-05-14 01:49:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38402417242542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 01:49:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38402438176313344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:49:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402438176313344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:49:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402438176313344 [0;39m ==> Parameters: 
2023-05-14 01:49:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402438176313344 [0;39m <==    Updates: 1
2023-05-14 01:49:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38402438176313344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:49:11.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:49:13.364 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:49:14.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:49:19.496 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:49:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38402564051570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:49:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402564051570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:49:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402564051570688 [0;39m ==> Parameters: 
2023-05-14 01:49:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402564051570688 [0;39m <==    Updates: 1
2023-05-14 01:49:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38402564051570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:49:37.463 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:49:43.141 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:49:44.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:49:47.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:50:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38402668909170688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:50:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402668909170688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:50:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402668909170688 [0;39m ==> Parameters: 
2023-05-14 01:50:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402668909170688 [0;39m <==    Updates: 0
2023-05-14 01:50:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38402668909170688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:50:01.590 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:50:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38402689884884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:50:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402689884884992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:50:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402689884884992 [0;39m ==> Parameters: 
2023-05-14 01:50:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402689884884992 [0;39m <==    Updates: 1
2023-05-14 01:50:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38402689884884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:50:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:50:15.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:50:17.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:50:23.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:50:25.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:50:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38402815709810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:50:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402815709810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:50:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402815709810688 [0;39m ==> Parameters: 
2023-05-14 01:50:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402815709810688 [0;39m <==    Updates: 1
2023-05-14 01:50:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38402815709810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:50:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:50:47.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:50:51.302 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:51:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38402920546439168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:51:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402920546439168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:51:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402920546439168 [0;39m ==> Parameters: 
2023-05-14 01:51:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38402920546439168 [0;39m <==    Updates: 0
2023-05-14 01:51:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38402920546439168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 01:51:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38402941488599040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:51:05.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402941488599040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:51:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402941488599040 [0;39m ==> Parameters: 
2023-05-14 01:51:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38402941488599040 [0;39m <==    Updates: 1
2023-05-14 01:51:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38402941488599040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:51:13.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:51:14.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:51:15.165 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:51:17.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:51:19.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:51:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38403067351273472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:51:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403067351273472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:51:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403067351273472 [0;39m ==> Parameters: 
2023-05-14 01:51:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403067351273472 [0;39m <==    Updates: 1
2023-05-14 01:51:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38403067351273472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:51:41.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:51:43.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:51:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:51:47.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38403172200484864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:52:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403172200484864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:52:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403172200484864 [0;39m ==> Parameters: 
2023-05-14 01:52:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403172200484864 [0;39m <==    Updates: 0
2023-05-14 01:52:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38403172200484864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:52:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38403193197170688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:52:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403193197170688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:52:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403193197170688 [0;39m ==> Parameters: 
2023-05-14 01:52:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403193197170688 [0;39m <==    Updates: 1
2023-05-14 01:52:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38403193197170688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:52:08.427 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:13.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:14.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:15.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:17.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:30.453 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:32.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38403319005319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:52:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403319005319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:52:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403319005319168 [0;39m ==> Parameters: 
2023-05-14 01:52:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403319005319168 [0;39m <==    Updates: 1
2023-05-14 01:52:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38403319005319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 01:52:44.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:45.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:47.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:54.561 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:52:56.589 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:53:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38403423841947648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:53:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403423841947648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:53:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403423841947648 [0;39m ==> Parameters: 
2023-05-14 01:53:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403423841947648 [0;39m <==    Updates: 0
2023-05-14 01:53:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38403423841947648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-14 01:53:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38403444834439168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:53:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403444834439168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403444834439168 [0;39m ==> Parameters: 
2023-05-14 01:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403444834439168 [0;39m <==    Updates: 1
2023-05-14 01:53:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38403444834439168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:53:13.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:53:14.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:53:17.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:53:19.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:53:21.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:53:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38403570650976256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:53:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403570650976256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:53:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403570650976256 [0;39m ==> Parameters: 
2023-05-14 01:53:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403570650976256 [0;39m <==    Updates: 1
2023-05-14 01:53:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38403570650976256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:53:44.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:53:45.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:53:47.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:53:49.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:54:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38403675550519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:54:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403675550519296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:54:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403675550519296 [0;39m ==> Parameters: 
2023-05-14 01:54:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403675550519296 [0;39m <==    Updates: 0
2023-05-14 01:54:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38403675550519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:54:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38403696505262080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:54:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403696505262080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:54:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403696505262080 [0;39m ==> Parameters: 
2023-05-14 01:54:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403696505262080 [0;39m <==    Updates: 1
2023-05-14 01:54:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38403696505262080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:54:11.311 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:54:13.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:54:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:54:15.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:54:17.440 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:54:19.501 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:54:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38403822351159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:54:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403822351159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:54:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403822351159296 [0;39m ==> Parameters: 
2023-05-14 01:54:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403822351159296 [0;39m <==    Updates: 1
2023-05-14 01:54:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38403822351159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:54:35.375 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:54:37.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:54:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:54:47.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:55:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38403927191982080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:55:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403927191982080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:55:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403927191982080 [0;39m ==> Parameters: 
2023-05-14 01:55:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38403927191982080 [0;39m <==    Updates: 0
2023-05-14 01:55:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38403927191982080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:55:01.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:55:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38403948129947648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:55:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403948129947648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:55:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403948129947648 [0;39m ==> Parameters: 
2023-05-14 01:55:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38403948129947648 [0;39m <==    Updates: 1
2023-05-14 01:55:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38403948129947648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:55:14.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:55:17.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:55:25.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:55:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38404073992622080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:55:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404073992622080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:55:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404073992622080 [0;39m ==> Parameters: 
2023-05-14 01:55:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404073992622080 [0;39m <==    Updates: 1
2023-05-14 01:55:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38404073992622080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:55:44.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:55:47.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:55:51.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:56:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38404178808279040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:56:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404178808279040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:56:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404178808279040 [0;39m ==> Parameters: 
2023-05-14 01:56:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404178808279040 [0;39m <==    Updates: 0
2023-05-14 01:56:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38404178808279040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:56:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38404199834324992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:56:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404199834324992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:56:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404199834324992 [0;39m ==> Parameters: 
2023-05-14 01:56:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404199834324992 [0;39m <==    Updates: 1
2023-05-14 01:56:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38404199834324992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:56:14.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:56:17.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:56:19.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:56:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38404325646667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:56:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404325646667776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:56:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404325646667776 [0;39m ==> Parameters: 
2023-05-14 01:56:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404325646667776 [0;39m <==    Updates: 1
2023-05-14 01:56:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38404325646667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 01:56:43.349 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:56:44.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:56:49.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38404430529433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:57:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404430529433600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:57:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404430529433600 [0;39m ==> Parameters: 
2023-05-14 01:57:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404430529433600 [0;39m <==    Updates: 0
2023-05-14 01:57:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38404430529433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:57:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38404451463204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:57:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404451463204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:57:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404451463204864 [0;39m ==> Parameters: 
2023-05-14 01:57:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404451463204864 [0;39m <==    Updates: 1
2023-05-14 01:57:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38404451463204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:57:05.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:07.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:13.089 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:14.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:15.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:17.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:31.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38404577313296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:57:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404577313296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:57:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404577313296384 [0;39m ==> Parameters: 
2023-05-14 01:57:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404577313296384 [0;39m <==    Updates: 1
2023-05-14 01:57:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38404577313296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:57:44.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:45.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:47.149 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:57:55.596 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:58:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38404682154119168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:58:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404682154119168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:58:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404682154119168 [0;39m ==> Parameters: 
2023-05-14 01:58:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404682154119168 [0;39m <==    Updates: 0
2023-05-14 01:58:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38404682154119168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:58:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38404703138222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:58:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404703138222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:58:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404703138222080 [0;39m ==> Parameters: 
2023-05-14 01:58:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404703138222080 [0;39m <==    Updates: 1
2023-05-14 01:58:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38404703138222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:58:13.136 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:58:14.576 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:58:17.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:58:19.477 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:58:21.778 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:58:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38404828967342080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:58:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404828967342080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:58:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404828967342080 [0;39m ==> Parameters: 
2023-05-14 01:58:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404828967342080 [0;39m <==    Updates: 1
2023-05-14 01:58:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38404828967342080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 01:58:43.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:58:44.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:58:45.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:58:47.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:58:49.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:59:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38404933795581952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 01:59:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404933795581952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 01:59:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404933795581952 [0;39m ==> Parameters: 
2023-05-14 01:59:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38404933795581952 [0;39m <==    Updates: 0
2023-05-14 01:59:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38404933795581952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 01:59:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38404954813239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:59:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404954813239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:59:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404954813239296 [0;39m ==> Parameters: 
2023-05-14 01:59:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38404954813239296 [0;39m <==    Updates: 1
2023-05-14 01:59:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38404954813239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:59:11.309 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:59:13.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:59:14.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:59:15.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:59:19.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:59:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38405080633970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 01:59:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405080633970688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 01:59:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405080633970688 [0;39m ==> Parameters: 
2023-05-14 01:59:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405080633970688 [0;39m <==    Updates: 1
2023-05-14 01:59:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38405080633970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 01:59:37.443 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:59:43.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:59:44.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 01:59:47.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:00:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38405185487376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:00:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405185487376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:00:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405185487376384 [0;39m ==> Parameters: 
2023-05-14 02:00:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405185487376384 [0;39m <==    Updates: 0
2023-05-14 02:00:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38405185487376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:00:01.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:00:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38405206425341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:00:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405206425341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:00:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405206425341952 [0;39m ==> Parameters: 
2023-05-14 02:00:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405206425341952 [0;39m <==    Updates: 1
2023-05-14 02:00:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38405206425341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:00:14.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:00:15.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:00:17.168 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:00:26.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:00:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38405332292210688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:00:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405332292210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:00:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405332292210688 [0;39m ==> Parameters: 
2023-05-14 02:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405332292210688 [0;39m <==    Updates: 1
2023-05-14 02:00:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38405332292210688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:00:44.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:00:47.241 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:00:51.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:01:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38405437116256256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:01:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405437116256256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:01:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405437116256256 [0;39m ==> Parameters: 
2023-05-14 02:01:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405437116256256 [0;39m <==    Updates: 0
2023-05-14 02:01:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38405437116256256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:01:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38405458104553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:01:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405458104553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:01:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405458104553472 [0;39m ==> Parameters: 
2023-05-14 02:01:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405458104553472 [0;39m <==    Updates: 1
2023-05-14 02:01:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38405458104553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:01:14.250 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:01:17.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:01:19.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:01:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38405583912701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:01:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405583912701952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:01:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405583912701952 [0;39m ==> Parameters: 
2023-05-14 02:01:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405583912701952 [0;39m <==    Updates: 1
2023-05-14 02:01:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38405583912701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:01:41.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:01:43.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:01:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:01:45.311 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:01:47.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:01:49.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38405688808050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:02:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405688808050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:02:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405688808050688 [0;39m ==> Parameters: 
2023-05-14 02:02:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405688808050688 [0;39m <==    Updates: 0
2023-05-14 02:02:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38405688808050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:02:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38405709762793472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405709762793472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405709762793472 [0;39m ==> Parameters: 
2023-05-14 02:02:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405709762793472 [0;39m <==    Updates: 1
2023-05-14 02:02:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38405709762793472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:02:05.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:07.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:13.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:14.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:15.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:17.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:29.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:31.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38405835587719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:02:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405835587719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:02:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405835587719168 [0;39m ==> Parameters: 
2023-05-14 02:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405835587719168 [0;39m <==    Updates: 1
2023-05-14 02:02:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38405835587719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:02:43.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:44.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:47.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:53.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:02:55.537 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:03:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38405940470484992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405940470484992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:03:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405940470484992 [0;39m ==> Parameters: 
2023-05-14 02:03:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38405940470484992 [0;39m <==    Updates: 0
2023-05-14 02:03:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38405940470484992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:03:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38405961450393600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:03:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405961450393600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:03:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405961450393600 [0;39m ==> Parameters: 
2023-05-14 02:03:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38405961450393600 [0;39m <==    Updates: 1
2023-05-14 02:03:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38405961450393600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:03:14.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:03:15.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:03:19.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:03:21.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:03:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38406087241764864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:03:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406087241764864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:03:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406087241764864 [0;39m ==> Parameters: 
2023-05-14 02:03:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406087241764864 [0;39m <==    Updates: 1
2023-05-14 02:03:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38406087241764864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:03:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:03:45.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:03:47.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:03:49.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38406192107753472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:04:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406192107753472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:04:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406192107753472 [0;39m ==> Parameters: 
2023-05-14 02:04:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406192107753472 [0;39m <==    Updates: 0
2023-05-14 02:04:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38406192107753472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:04:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38406213075079168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:04:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406213075079168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:04:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406213075079168 [0;39m ==> Parameters: 
2023-05-14 02:04:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406213075079168 [0;39m <==    Updates: 1
2023-05-14 02:04:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38406213075079168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 02:04:11.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:13.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:14.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:15.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:17.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:19.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38406338908393472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:04:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406338908393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:04:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406338908393472 [0;39m ==> Parameters: 
2023-05-14 02:04:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406338908393472 [0;39m <==    Updates: 1
2023-05-14 02:04:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38406338908393472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:04:35.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:37.432 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:43.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:44.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:45.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:47.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:04:59.480 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:05:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38406443736633344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:05:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406443736633344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:05:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406443736633344 [0;39m ==> Parameters: 
2023-05-14 02:05:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406443736633344 [0;39m <==    Updates: 0
2023-05-14 02:05:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38406443736633344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:05:01.491 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:05:05.024 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38406464804622336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:05:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406464804622336 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:05:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406464804622336 [0;39m ==> Parameters: 
2023-05-14 02:05:05.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406464804622336 [0;39m <==    Updates: 1
2023-05-14 02:05:05.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38406464804622336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 02:05:14.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:05:15.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:05:17.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:05:25.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:05:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38406590591799296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:05:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406590591799296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:05:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406590591799296 [0;39m ==> Parameters: 
2023-05-14 02:05:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406590591799296 [0;39m <==    Updates: 1
2023-05-14 02:05:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38406590591799296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:05:43.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:05:44.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406628558639104 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:05:44.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406628558639104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:05:44.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406628558639104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:05:44.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406628558639104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:05:44.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406628558639104 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:05:44.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406628558639105 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:05:44.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406628558639105 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:05:44.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406628558639105 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:05:44.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406628558639105 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:05:44.070 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406628558639104 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:05:44.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406628558639105 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:05:44.070 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406628558639104 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:44.070 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406628558639105 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:05:44.070 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406628558639105 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:44.072 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406628558639104 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:05:44.072 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406628558639104 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 216, 7
2023-05-14 02:05:44.072 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406628558639105 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:05:44.072 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406628558639104 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:05:44.072 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406628558639105 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:05:44.072 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406628558639104 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:05:44.073 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406628558639105 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:05:44.073 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406628558639104 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:05:44.073 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406628558639105 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:05:44.073 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406628558639104 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:05:44.073 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406628558639105 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:05:44.073 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406628558639104 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:05:44.073 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406628558639105 [0;39m <==      Total: 4
2023-05-14 02:05:44.073 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406628558639104 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:05:44.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406628558639105 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:05:44.074 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406628558639104 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:05:44.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406628558639105 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:05:44.074 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406628558639104 [0;39m <==      Total: 8
2023-05-14 02:05:44.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406628558639104 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":216,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:05:44.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406628558639104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:05:44.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406628671885312 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:05:44.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406628671885312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:05:44.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406628671885312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:05:44.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406628671885312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:05:44.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406628671885312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:05:44.094 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406628671885312 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:05:44.094 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406628671885312 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:44.095 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406628671885312 [0;39m <==    Columns: id, content
2023-05-14 02:05:44.095 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406628671885312 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:05:44.095 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406628671885312 [0;39m <==      Total: 1
2023-05-14 02:05:44.095 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406628671885312 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:05:44.095 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406628671885312 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:44.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406628671885312 [0;39m <==    Updates: 1
2023-05-14 02:05:44.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406628671885312 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:05:44.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406628671885312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:05:44.638 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:05:47.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406641909108736 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:05:47.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406641909108736 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:05:47.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406641909108736 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:05:47.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406641909108736 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:05:47.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406641909108736 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:05:47.250 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406641909108736 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:05:47.250 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406641909108736 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:47.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406641909108736 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:05:47.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406641909108736 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 217, 7
2023-05-14 02:05:47.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406641909108736 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:05:47.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406641909108736 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:05:47.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406641909108736 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:05:47.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406641909108736 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:05:47.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406641909108736 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:05:47.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406641909108736 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:05:47.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406641909108736 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:05:47.251 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406641909108736 [0;39m <==      Total: 8
2023-05-14 02:05:47.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406641909108736 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":217,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:05:47.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406641909108736 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2023-05-14 02:05:47.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406641938468864 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:05:47.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406641938468864 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:05:47.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406641938468864 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:05:47.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406641938468864 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:05:47.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406641938468864 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:05:47.256 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406641938468864 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:05:47.256 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406641938468864 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:47.256 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406641938468864 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:05:47.256 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406641938468864 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:05:47.256 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406641938468864 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:05:47.256 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406641938468864 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:05:47.256 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406641938468864 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:05:47.261 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406641938468864 [0;39m <==      Total: 4
2023-05-14 02:05:47.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406641938468864 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:05:47.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406641938468864 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:05:47.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:05:47.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406644287279104 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:05:47.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406644287279104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:05:47.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406644287279104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:05:47.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406644287279104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:05:47.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406644287279104 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:05:47.817 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406644287279104 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:05:47.817 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406644287279104 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:47.818 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406644287279104 [0;39m <==    Columns: id, content
2023-05-14 02:05:47.818 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406644287279104 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:05:47.818 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406644287279104 [0;39m <==      Total: 1
2023-05-14 02:05:47.819 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406644287279104 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:05:47.819 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406644287279104 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:47.820 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406644287279104 [0;39m <==    Updates: 1
2023-05-14 02:05:47.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406644287279104 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:05:47.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406644287279104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:05:52.002 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:05:59.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406693402578944 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:05:59.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406693402578945 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:05:59.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406693402578944 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:05:59.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406693402578944 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:05:59.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406693402578945 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:05:59.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406693402578944 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:05:59.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406693402578945 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:05:59.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406693402578944 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:05:59.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406693402578945 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:05:59.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406693402578945 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:05:59.529 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406693402578944 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:05:59.529 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406693402578944 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:59.530 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406693402578945 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:05:59.530 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406693402578945 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:59.530 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406693402578944 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:05:59.531 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406693402578944 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:05:59.531 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406693402578944 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:05:59.531 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406693402578945 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:05:59.531 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406693402578944 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:05:59.531 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406693402578945 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 218, 7
2023-05-14 02:05:59.531 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406693402578944 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:05:59.531 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406693402578945 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:05:59.531 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406693402578944 [0;39m <==      Total: 4
2023-05-14 02:05:59.531 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406693402578945 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:05:59.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406693402578944 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:05:59.532 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406693402578945 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:05:59.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406693402578944 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:05:59.532 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406693402578945 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:05:59.532 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406693402578945 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:05:59.532 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406693402578945 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:05:59.532 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406693402578945 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:05:59.536 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406693402578945 [0;39m <==      Total: 8
2023-05-14 02:05:59.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406693402578945 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":218,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:05:59.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406693402578945 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-14 02:05:59.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406693587128320 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:05:59.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406693587128320 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:05:59.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406693587128320 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:05:59.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406693587128320 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:05:59.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406693587128320 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:05:59.570 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406693587128320 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:05:59.570 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406693587128320 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:59.570 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406693587128320 [0;39m <==    Columns: id, content
2023-05-14 02:05:59.570 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406693587128320 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:05:59.570 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406693587128320 [0;39m <==      Total: 1
2023-05-14 02:05:59.570 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406693587128320 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:05:59.570 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406693587128320 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:05:59.570 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406693587128320 [0;39m <==    Updates: 1
2023-05-14 02:05:59.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406693587128320 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:05:59.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406693587128320 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-14 02:06:00.077 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38406695713640448 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:06:00.077 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406695713640448 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:06:00.077 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406695713640448 [0;39m ==> Parameters: 
2023-05-14 02:06:00.083 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406695713640448 [0;39m <==    Updates: 0
2023-05-14 02:06:00.083 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38406695713640448 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 02:06:04.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406713203888128 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:04.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406713203888128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:06:04.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406713203888128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:06:04.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406713203888128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:04.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406713203888128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:04.247 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406713203888128 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:06:04.247 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406713203888128 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:04.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406713203888128 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:06:04.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406713203888128 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 219, 7
2023-05-14 02:06:04.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406713203888128 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:06:04.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406713203888128 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:06:04.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406713203888128 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:06:04.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406713203888128 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:06:04.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406713203888128 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:06:04.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406713203888128 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:06:04.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406713203888128 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:06:04.247 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406713203888128 [0;39m <==      Total: 8
2023-05-14 02:06:04.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406713203888128 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":219,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:06:04.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406713203888128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-14 02:06:04.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406713333911552 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:04.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406713333911552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:06:04.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406713333911552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:06:04.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406713333911552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:04.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406713333911552 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:04.280 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406713333911552 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:06:04.280 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406713333911552 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:04.280 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406713333911552 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:06:04.281 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406713333911552 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:06:04.281 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406713333911552 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:06:04.281 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406713333911552 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:06:04.281 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406713333911552 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:06:04.281 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406713333911552 [0;39m <==      Total: 4
2023-05-14 02:06:04.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406713333911552 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:06:04.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406713333911552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:06:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406713694621696 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406713694621696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:06:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406713694621696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:06:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406713694621696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:04.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406713694621696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:04.365 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406713694621696 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:06:04.365 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406713694621696 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:04.366 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406713694621696 [0;39m <==    Columns: id, content
2023-05-14 02:06:04.366 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406713694621696 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:06:04.366 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406713694621696 [0;39m <==      Total: 1
2023-05-14 02:06:04.367 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406713694621696 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:06:04.367 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406713694621696 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:04.369 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406713694621696 [0;39m <==    Updates: 1
2023-05-14 02:06:04.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406713694621696 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:06:04.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406713694621696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:06:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38406716366393344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:06:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406716366393344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:06:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406716366393344 [0;39m ==> Parameters: 
2023-05-14 02:06:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406716366393344 [0;39m <==    Updates: 1
2023-05-14 02:06:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38406716366393344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:06:05.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406720522948609 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:05.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406720522948609 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:06:05.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406720522948609 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:06:05.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406720522948608 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:05.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406720522948609 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:05.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406720522948608 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:06:05.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406720522948609 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:05.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406720522948608 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:06:05.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406720522948608 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:05.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406720522948608 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:05.992 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406720522948609 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:06:05.993 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406720522948609 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:05.993 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406720522948608 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:06:05.993 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406720522948608 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:05.993 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406720522948609 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:06:05.994 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406720522948609 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:06:05.994 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406720522948608 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:06:05.994 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406720522948609 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:06:05.994 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406720522948608 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 220, 7
2023-05-14 02:06:05.994 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406720522948609 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:06:05.994 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406720522948608 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:06:05.994 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406720522948608 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:06:05.994 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406720522948609 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:06:05.994 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406720522948608 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:06:05.994 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406720522948609 [0;39m <==      Total: 4
2023-05-14 02:06:05.995 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406720522948608 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:06:05.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406720522948609 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:06:05.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406720522948609 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:06:05.995 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406720522948608 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:06:05.995 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406720522948608 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:06:05.995 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406720522948608 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:06:05.995 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406720522948608 [0;39m <==      Total: 8
2023-05-14 02:06:05.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406720522948608 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":220,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:06:05.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406720522948608 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:06:06.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406721064013824 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:06.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406721064013824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:06:06.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406721064013824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:06:06.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406721064013824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:06.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406721064013824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:06.122 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406721064013824 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:06:06.123 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406721064013824 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:06.124 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406721064013824 [0;39m <==    Columns: id, content
2023-05-14 02:06:06.124 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406721064013824 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:06:06.124 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406721064013824 [0;39m <==      Total: 1
2023-05-14 02:06:06.125 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406721064013824 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:06:06.125 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406721064013824 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:06.132 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406721064013824 [0;39m <==    Updates: 1
2023-05-14 02:06:06.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406721064013824 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:06:06.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406721064013824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 02:06:14.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:06:17.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:06:19.302 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:06:22.883 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38406644287279104 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šZikpzRhvF2ï¼Œsession idï¼š22ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 02:06:24.254 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38406693402578944 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šTUYih5JvB7ï¼Œsession idï¼š23ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 02:06:24.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406797362597888 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:24.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406797366792192 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:24.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406797362597888 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:06:24.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406797362597888 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:06:24.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406797366792192 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:06:24.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406797362597888 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:24.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406797366792192 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:06:24.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406797362597888 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:24.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406797366792192 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:24.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406797366792192 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:24.314 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406797366792192 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:06:24.314 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406797362597888 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:06:24.314 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406797366792192 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:24.314 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406797362597888 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:24.315 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406797366792192 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:06:24.315 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406797366792192 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:06:24.315 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406797362597888 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:06:24.315 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406797366792192 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:06:24.315 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406797362597888 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 221, 7
2023-05-14 02:06:24.315 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406797366792192 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:06:24.315 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406797362597888 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:06:24.316 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406797366792192 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:06:24.316 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406797362597888 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:06:24.316 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406797362597888 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:06:24.316 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406797366792192 [0;39m <==      Total: 4
2023-05-14 02:06:24.316 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406797362597888 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:06:24.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406797366792192 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:06:24.316 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406797362597888 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:06:24.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406797366792192 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:06:24.316 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406797362597888 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:06:24.316 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406797362597888 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:06:24.316 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406797362597888 [0;39m <==      Total: 8
2023-05-14 02:06:24.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406797362597888 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":221,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:06:24.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406797362597888 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:06:24.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406797517787136 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:24.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406797517787136 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:06:24.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406797517787136 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:06:24.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406797517787136 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:24.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406797517787136 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:24.350 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406797517787136 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:06:24.350 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406797517787136 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:24.351 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406797517787136 [0;39m <==    Columns: id, content
2023-05-14 02:06:24.351 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406797517787136 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:06:24.352 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406797517787136 [0;39m <==      Total: 1
2023-05-14 02:06:24.352 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406797517787136 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:06:24.352 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406797517787136 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:24.354 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406797517787136 [0;39m <==    Updates: 1
2023-05-14 02:06:24.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406797517787136 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:06:24.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406797517787136 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:06:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38406842233262080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:06:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406842233262080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:06:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406842233262080 [0;39m ==> Parameters: 
2023-05-14 02:06:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406842233262080 [0;39m <==    Updates: 1
2023-05-14 02:06:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38406842233262080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-14 02:06:36.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406848893816832 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:36.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406848893816833 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:36.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406848893816832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:06:36.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406848893816833 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:06:36.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406848893816832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:06:36.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406848893816833 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:06:36.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406848893816832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:36.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406848893816833 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:36.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406848893816832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:36.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406848893816833 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:36.599 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406848893816833 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:06:36.599 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406848893816832 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:06:36.599 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406848893816832 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:36.599 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406848893816833 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:36.600 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406848893816833 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:06:36.600 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406848893816832 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:06:36.600 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406848893816832 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 222, 7
2023-05-14 02:06:36.600 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406848893816833 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:06:36.600 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406848893816832 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:06:36.600 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406848893816833 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:06:36.600 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406848893816832 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:06:36.600 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406848893816833 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:06:36.601 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38406848893816833 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:06:36.601 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406848893816832 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:06:36.601 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38406848893816833 [0;39m <==      Total: 4
2023-05-14 02:06:36.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406848893816833 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:06:36.601 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406848893816832 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:06:36.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406848893816833 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:06:36.601 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406848893816832 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:06:36.601 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406848893816832 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:06:36.602 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38406848893816832 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:06:36.602 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38406848893816832 [0;39m <==      Total: 8
2023-05-14 02:06:36.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406848893816832 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":222,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:06:36.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406848893816832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:06:36.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38406848990285824 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:06:36.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38406848990285824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:06:36.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38406848990285824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:06:36.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38406848990285824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:06:36.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38406848990285824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:06:36.621 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406848990285824 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:06:36.626 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406848990285824 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:36.626 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406848990285824 [0;39m <==    Columns: id, content
2023-05-14 02:06:36.626 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38406848990285824 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:06:36.626 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38406848990285824 [0;39m <==      Total: 1
2023-05-14 02:06:36.626 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406848990285824 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:06:36.626 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406848990285824 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:06:36.629 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38406848990285824 [0;39m <==    Updates: 1
2023-05-14 02:06:36.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38406848990285824 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:06:36.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38406848990285824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 02:06:43.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:06:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:06:47.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:06:49.501 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:07:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38406947124416512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:07:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406947124416512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:07:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406947124416512 [0;39m ==> Parameters: 
2023-05-14 02:07:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38406947124416512 [0;39m <==    Updates: 0
2023-05-14 02:07:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38406947124416512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 02:07:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38406968079159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:07:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406968079159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:07:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406968079159296 [0;39m ==> Parameters: 
2023-05-14 02:07:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38406968079159296 [0;39m <==    Updates: 1
2023-05-14 02:07:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38406968079159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-14 02:07:05.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:07:07.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:07:14.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:07:15.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:07:17.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:07:20.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407031392178176 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:07:20.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407031392178176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:07:20.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407031392178176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:07:20.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407031392178176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:07:20.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407031392178176 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:07:20.109 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407031392178176 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:07:20.109 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407031392178176 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:07:20.109 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031392178176 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:07:20.109 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031392178176 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 223, 7
2023-05-14 02:07:20.109 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031392178176 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:07:20.114 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031392178176 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:07:20.114 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031392178176 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:07:20.114 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031392178176 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:07:20.114 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031392178176 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:07:20.114 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031392178176 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:07:20.114 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031392178176 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:07:20.114 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407031392178176 [0;39m <==      Total: 8
2023-05-14 02:07:20.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407031392178176 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":223,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:07:20.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407031392178176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:07:20.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407031434121216 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:07:20.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407031434121216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:07:20.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407031434121216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:07:20.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407031434121216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:07:20.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407031434121216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:07:20.119 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407031434121216 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:07:20.119 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407031434121216 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:07:20.119 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407031434121216 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:07:20.119 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407031434121216 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:07:20.119 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407031434121216 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:07:20.119 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407031434121216 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:07:20.119 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407031434121216 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:07:20.119 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407031434121216 [0;39m <==      Total: 4
2023-05-14 02:07:20.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407031434121216 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:07:20.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407031434121216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-14 02:07:20.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407031568338944 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:07:20.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407031568338944 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:07:20.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407031568338944 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:07:20.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407031568338944 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:07:20.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407031568338944 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:07:20.152 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407031568338944 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:07:20.153 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407031568338944 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:07:20.153 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407031568338944 [0;39m <==    Columns: id, content
2023-05-14 02:07:20.154 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407031568338944 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:07:20.154 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407031568338944 [0;39m <==      Total: 1
2023-05-14 02:07:20.154 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407031568338944 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:07:20.154 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407031568338944 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:07:20.161 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407031568338944 [0;39m <==    Updates: 1
2023-05-14 02:07:20.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407031568338944 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:07:20.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407031568338944 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-14 02:07:20.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407031744499712 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:07:20.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407031744499712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:07:20.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407031744499712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:07:20.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407031744499712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:07:20.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407031744499712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:07:20.193 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407031744499712 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:07:20.200 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407031744499712 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:07:20.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031744499712 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:07:20.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031744499712 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 224, 7
2023-05-14 02:07:20.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031744499712 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:07:20.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031744499712 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:07:20.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031744499712 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:07:20.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031744499712 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:07:20.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031744499712 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:07:20.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031744499712 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:07:20.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407031744499712 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:07:20.200 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407031744499712 [0;39m <==      Total: 8
2023-05-14 02:07:20.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407031744499712 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":224,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:07:20.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407031744499712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 02:07:20.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407031794831360 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:07:20.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407031794831360 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:07:20.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407031794831360 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:07:20.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407031794831360 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:07:20.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407031794831360 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:07:20.205 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407031794831360 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:07:20.205 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407031794831360 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:07:20.205 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407031794831360 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:07:20.205 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407031794831360 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:07:20.205 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407031794831360 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:07:20.205 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407031794831360 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:07:20.205 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407031794831360 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:07:20.205 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407031794831360 [0;39m <==      Total: 4
2023-05-14 02:07:20.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407031794831360 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:07:20.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407031794831360 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:07:20.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407032285564928 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:07:20.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407032285564928 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:07:20.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407032285564928 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:07:20.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407032285564928 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:07:20.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407032285564928 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:07:20.322 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407032285564928 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:07:20.322 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407032285564928 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:07:20.322 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407032285564928 [0;39m <==    Columns: id, content
2023-05-14 02:07:20.322 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407032285564928 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:07:20.322 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407032285564928 [0;39m <==      Total: 1
2023-05-14 02:07:20.322 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407032285564928 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:07:20.322 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407032285564928 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:07:20.328 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407032285564928 [0;39m <==    Updates: 1
2023-05-14 02:07:20.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407032285564928 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:07:20.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407032285564928 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:07:31.538 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:07:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38407093878919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407093878919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407093878919168 [0;39m ==> Parameters: 
2023-05-14 02:07:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407093878919168 [0;39m <==    Updates: 1
2023-05-14 02:07:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38407093878919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-14 02:07:44.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:07:45.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:07:47.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:07:55.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:08:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38407198728130560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:08:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407198728130560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:08:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407198728130560 [0;39m ==> Parameters: 
2023-05-14 02:08:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407198728130560 [0;39m <==    Updates: 0
2023-05-14 02:08:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38407198728130560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-14 02:08:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38407219716427776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:08:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407219716427776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:08:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407219716427776 [0;39m ==> Parameters: 
2023-05-14 02:08:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407219716427776 [0;39m <==    Updates: 1
2023-05-14 02:08:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38407219716427776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:08:14.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:08:17.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:08:21.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:08:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38407345516187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:08:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407345516187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:08:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407345516187648 [0;39m ==> Parameters: 
2023-05-14 02:08:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407345516187648 [0;39m <==    Updates: 1
2023-05-14 02:08:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38407345516187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:08:44.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:08:47.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:08:49.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:09:00.029 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38407450487033856 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:09:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407450487033856 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:09:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407450487033856 [0;39m ==> Parameters: 
2023-05-14 02:09:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407450487033856 [0;39m <==    Updates: 0
2023-05-14 02:09:00.037 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38407450487033856 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:09:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38407471387250688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:09:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407471387250688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:09:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407471387250688 [0;39m ==> Parameters: 
2023-05-14 02:09:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407471387250688 [0;39m <==    Updates: 1
2023-05-14 02:09:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38407471387250688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:09:08.699 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38406848893816832 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šTUYih5JvB7ï¼Œsession idï¼š23ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 02:09:09.756 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38406848990285824 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šyC0Mrsvebnï¼Œsession idï¼š24ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 02:09:09.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407491490549761 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:09.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407491490549760 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:09.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407491490549761 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:09:09.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407491490549760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:09:09.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407491490549761 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:09:09.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407491490549760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:09:09.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407491490549761 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:09.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407491490549760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:09.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407491490549760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:09.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407491490549761 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:09.806 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407491490549760 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:09:09.807 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407491490549760 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:09.807 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407491490549761 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:09:09.807 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407491490549761 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:09.807 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407491490549760 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:09:09.808 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407491490549760 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:09:09.808 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407491490549760 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:09:09.808 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407491490549761 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:09:09.808 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407491490549760 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:09:09.808 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407491490549761 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 225, 7
2023-05-14 02:09:09.808 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407491490549760 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:09:09.808 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407491490549760 [0;39m <==      Total: 4
2023-05-14 02:09:09.808 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407491490549761 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:09:09.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407491490549760 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:09:09.808 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407491490549761 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:09:09.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407491490549760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:09:09.808 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407491490549761 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:09:09.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407491490549761 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:09:09.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407491490549761 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:09:09.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407491490549761 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:09:09.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407491490549761 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:09:09.810 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407491490549761 [0;39m <==      Total: 8
2023-05-14 02:09:09.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407491490549761 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":225,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:09:09.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407491490549761 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:09:09.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407491607990272 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:09.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407491607990272 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:09:09.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407491607990272 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:09:09.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407491607990272 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:09.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407491607990272 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:09.835 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407491607990272 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:09:09.835 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407491607990272 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:09.836 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407491607990272 [0;39m <==    Columns: id, content
2023-05-14 02:09:09.836 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407491607990272 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:09:09.836 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407491607990272 [0;39m <==      Total: 1
2023-05-14 02:09:09.837 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407491607990272 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:09:09.837 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407491607990272 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:09.839 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407491607990272 [0;39m <==    Updates: 1
2023-05-14 02:09:09.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407491607990272 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:09:09.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407491607990272 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:09:11.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:09:13.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:09:14.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:09:19.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:09:20.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407537644670976 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:20.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407537644670976 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:09:20.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407537644670976 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:09:20.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407537644670976 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:20.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407537644670976 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:20.810 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407537644670976 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:09:20.810 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407537644670976 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:20.811 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407537644670976 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:09:20.811 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407537644670976 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:09:20.811 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407537644670976 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:09:20.811 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407537644670976 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:09:20.812 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407537644670976 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:09:20.812 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407537644670976 [0;39m <==      Total: 4
2023-05-14 02:09:20.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407537644670976 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:09:20.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407537644670976 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:09:34.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407595760947200 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:34.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407595760947200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:09:34.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407595760947200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:09:34.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407595760947200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:34.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407595760947200 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:34.666 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407595760947200 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:09:34.666 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407595760947200 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:34.667 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407595760947200 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:09:34.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407595773530112 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:34.668 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407595760947200 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 226, 7
2023-05-14 02:09:34.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407595773530112 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:09:34.668 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407595760947200 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:09:34.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407595773530112 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:09:34.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407595773530112 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:34.668 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407595760947200 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:09:34.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407595773530112 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:34.668 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407595760947200 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:09:34.668 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407595760947200 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:09:34.669 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407595760947200 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:09:34.669 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407595773530112 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:09:34.669 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407595760947200 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:09:34.669 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407595773530112 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:34.669 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407595760947200 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:09:34.669 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407595760947200 [0;39m <==      Total: 8
2023-05-14 02:09:34.669 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407595773530112 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:09:34.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407595760947200 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":226,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:09:34.670 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407595773530112 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:09:34.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407595760947200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:09:34.670 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407595773530112 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:09:34.670 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407595773530112 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:09:34.670 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407595773530112 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:09:34.670 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407595773530112 [0;39m <==      Total: 4
2023-05-14 02:09:34.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407595773530112 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:09:34.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407595773530112 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:09:34.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407596146823168 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:34.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407596146823168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:09:34.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407596146823168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:09:34.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407596146823168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:34.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407596146823168 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:34.758 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407596146823168 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:09:34.758 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407596146823168 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:34.759 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407596146823168 [0;39m <==    Columns: id, content
2023-05-14 02:09:34.759 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407596146823168 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:09:34.760 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407596146823168 [0;39m <==      Total: 1
2023-05-14 02:09:34.760 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407596146823168 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:09:34.760 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407596146823168 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:34.767 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407596146823168 [0;39m <==    Updates: 1
2023-05-14 02:09:34.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407596146823168 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:09:34.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407596146823168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 02:09:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38407597203787776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:09:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407597203787776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:09:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407597203787776 [0;39m ==> Parameters: 
2023-05-14 02:09:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407597203787776 [0;39m <==    Updates: 1
2023-05-14 02:09:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38407597203787776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-14 02:09:35.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:09:37.650 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:09:38.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407612257144832 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:38.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407612257144832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:09:38.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407612257144832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:09:38.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407612257144832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:38.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407612257144832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:38.599 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407612257144832 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:09:38.599 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407612257144832 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:38.600 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407612257144832 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:09:38.601 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407612257144832 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:09:38.601 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407612257144832 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:09:38.601 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407612257144832 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:09:38.601 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407612257144832 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:09:38.602 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407612257144832 [0;39m <==      Total: 4
2023-05-14 02:09:38.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407612257144832 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:09:38.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407612257144832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:09:39.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407614954082305 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:39.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407614954082305 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:09:39.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407614954082305 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:09:39.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407614954082304 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:39.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407614954082305 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:39.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407614954082305 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:39.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407614954082304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:09:39.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407614954082304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:09:39.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407614954082304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:39.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407614954082304 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:39.243 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407614954082305 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:09:39.243 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407614954082304 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:09:39.243 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407614954082305 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:39.243 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407614954082304 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:39.244 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407614954082304 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:09:39.244 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407614954082305 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:09:39.244 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407614954082304 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:09:39.244 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407614954082305 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 227, 7
2023-05-14 02:09:39.244 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407614954082305 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:09:39.244 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407614954082304 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:09:39.244 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407614954082305 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:09:39.244 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407614954082304 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:09:39.245 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407614954082305 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:09:39.245 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407614954082304 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:09:39.245 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407614954082304 [0;39m <==      Total: 4
2023-05-14 02:09:39.245 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407614954082305 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:09:39.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407614954082304 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:09:39.245 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407614954082305 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:09:39.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407614954082304 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:09:39.245 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407614954082305 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:09:39.245 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407614954082305 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:09:39.246 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407614954082305 [0;39m <==      Total: 8
2023-05-14 02:09:39.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407614954082305 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":227,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:09:39.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407614954082305 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:09:39.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407615126048768 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:39.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407615126048768 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:09:39.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407615126048768 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:09:39.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407615126048768 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:39.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407615126048768 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:39.282 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407615126048768 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:09:39.284 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407615126048768 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:39.284 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407615126048768 [0;39m <==    Columns: id, content
2023-05-14 02:09:39.285 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407615126048768 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:09:39.286 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407615126048768 [0;39m <==      Total: 1
2023-05-14 02:09:39.286 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407615126048768 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:09:39.286 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407615126048768 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:39.291 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407615126048768 [0;39m <==    Updates: 1
2023-05-14 02:09:39.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407615126048768 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:09:39.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407615126048768 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-14 02:09:40.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407620394094592 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:09:40.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407620394094592 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:09:40.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407620394094592 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:09:40.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407620394094592 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:09:40.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407620394094592 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:09:40.540 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407620394094592 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:09:40.541 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407620394094592 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:09:40.541 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407620394094592 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:09:40.541 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407620394094592 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:09:40.541 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407620394094592 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:09:40.543 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407620394094592 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:09:40.543 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407620394094592 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:09:40.543 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407620394094592 [0;39m <==      Total: 4
2023-05-14 02:09:40.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407620394094592 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:09:40.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407620394094592 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:09:44.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:09:45.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:09:47.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:10:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38407702073970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407702073970688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:10:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407702073970688 [0;39m ==> Parameters: 
2023-05-14 02:10:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407702073970688 [0;39m <==    Updates: 0
2023-05-14 02:10:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38407702073970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-14 02:10:01.714 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:10:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38407723011936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407723011936256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407723011936256 [0;39m ==> Parameters: 
2023-05-14 02:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407723011936256 [0;39m <==    Updates: 1
2023-05-14 02:10:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38407723011936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 02:10:14.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:10:15.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:10:17.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:10:25.773 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:10:27.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407816867876864 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:10:27.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407816867876865 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:10:27.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407816867876864 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:10:27.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407816867876865 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:10:27.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407816867876864 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:10:27.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407816867876865 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:10:27.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407816867876864 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:10:27.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407816867876865 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:10:27.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407816867876864 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:10:27.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407816867876865 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:10:27.382 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407816867876864 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:10:27.382 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407816867876865 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:10:27.382 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407816867876864 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:10:27.382 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407816867876865 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:10:27.382 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407816867876864 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:10:27.383 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407816867876865 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:10:27.383 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407816867876865 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 228, 7
2023-05-14 02:10:27.383 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407816867876864 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:10:27.383 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407816867876865 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:10:27.383 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407816867876864 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:10:27.383 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407816867876865 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:10:27.383 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407816867876865 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:10:27.383 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407816867876864 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:10:27.383 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407816867876865 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:10:27.383 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407816867876864 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:10:27.383 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407816867876864 [0;39m <==      Total: 4
2023-05-14 02:10:27.383 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407816867876865 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:10:27.383 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407816867876865 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:10:27.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407816867876864 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:10:27.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407816867876864 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2023-05-14 02:10:27.383 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407816867876865 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:10:27.384 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407816867876865 [0;39m <==      Total: 8
2023-05-14 02:10:27.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407816867876865 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":228,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:10:27.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407816867876865 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:10:27.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407816926597120 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:10:27.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407816926597120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:10:27.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407816926597120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:10:27.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407816926597120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:10:27.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407816926597120 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:10:27.395 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407816926597120 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:10:27.396 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407816926597120 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:10:27.396 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407816926597120 [0;39m <==    Columns: id, content
2023-05-14 02:10:27.396 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407816926597120 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:10:27.396 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407816926597120 [0;39m <==      Total: 1
2023-05-14 02:10:27.397 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407816926597120 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:10:27.397 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407816926597120 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:10:27.398 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407816926597120 [0;39m <==    Updates: 1
2023-05-14 02:10:27.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407816926597120 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:10:27.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407816926597120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:10:33.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407843803697152 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:10:33.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407843803697152 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:10:33.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407843803697152 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:10:33.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407843803697152 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:10:33.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407843803697152 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:10:33.805 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407843803697152 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:10:33.805 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407843803697152 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:10:33.806 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407843803697152 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:10:33.806 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407843803697152 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:10:33.807 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407843803697152 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:10:33.807 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407843803697152 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:10:33.807 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407843803697152 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:10:33.807 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407843803697152 [0;39m <==      Total: 4
2023-05-14 02:10:33.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407843803697152 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:10:33.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407843803697152 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:10:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38407848849444864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:10:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407848849444864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:10:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407848849444864 [0;39m ==> Parameters: 
2023-05-14 02:10:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407848849444864 [0;39m <==    Updates: 1
2023-05-14 02:10:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38407848849444864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 02:10:44.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:10:46.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407897503371264 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:10:46.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407897503371265 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:10:46.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407897503371264 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:10:46.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407897503371265 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:10:46.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407897503371264 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:10:46.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407897503371265 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:10:46.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407897503371264 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:10:46.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407897503371264 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:10:46.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407897503371265 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:10:46.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407897503371265 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:10:46.607 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407897503371265 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:10:46.607 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407897503371264 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:10:46.607 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407897503371264 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:10:46.607 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407897503371265 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:10:46.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407897503371264 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:10:46.608 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407897503371265 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:10:46.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407897503371264 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 229, 7
2023-05-14 02:10:46.608 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407897503371265 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:10:46.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407897503371264 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:10:46.608 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407897503371265 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:10:46.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407897503371264 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:10:46.609 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407897503371265 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:10:46.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407897503371264 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:10:46.609 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407897503371265 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:10:46.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407897503371264 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:10:46.609 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407897503371265 [0;39m <==      Total: 4
2023-05-14 02:10:46.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407897503371264 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:10:46.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407897503371265 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:10:46.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407897503371264 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:10:46.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407897503371265 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:10:46.610 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38407897503371264 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:10:46.610 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38407897503371264 [0;39m <==      Total: 8
2023-05-14 02:10:46.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407897503371264 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":229,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:10:46.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407897503371264 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:10:46.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407897662754816 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:10:46.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407897662754816 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:10:46.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407897662754816 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:10:46.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407897662754816 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:10:46.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407897662754816 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:10:46.646 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407897662754816 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:10:46.647 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407897662754816 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:10:46.648 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407897662754816 [0;39m <==    Columns: id, content
2023-05-14 02:10:46.648 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38407897662754816 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:10:46.648 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38407897662754816 [0;39m <==      Total: 1
2023-05-14 02:10:46.649 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407897662754816 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:10:46.649 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407897662754816 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:10:46.651 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38407897662754816 [0;39m <==    Updates: 1
2023-05-14 02:10:46.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407897662754816 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:10:46.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407897662754816 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 02:10:47.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:10:48.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38407904377835520 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:10:48.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38407904377835520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:10:48.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38407904377835520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:10:48.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38407904377835520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:10:48.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38407904377835520 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:10:48.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407904377835520 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:10:48.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407904377835520 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:10:48.246 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407904377835520 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:10:48.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407904377835520 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:10:48.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407904377835520 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:10:48.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407904377835520 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:10:48.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38407904377835520 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:10:48.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38407904377835520 [0;39m <==      Total: 4
2023-05-14 02:10:48.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38407904377835520 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:10:48.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38407904377835520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:10:49.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:10:51.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:11:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38407953736404992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:11:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407953736404992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:11:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407953736404992 [0;39m ==> Parameters: 
2023-05-14 02:11:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38407953736404992 [0;39m <==    Updates: 0
2023-05-14 02:11:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38407953736404992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:11:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38407974703730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:11:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407974703730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:11:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407974703730688 [0;39m ==> Parameters: 
2023-05-14 02:11:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38407974703730688 [0;39m <==    Updates: 1
2023-05-14 02:11:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38407974703730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 02:11:13.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:11:14.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:11:15.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:11:17.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:11:19.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:11:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38408100532850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:11:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408100532850688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:11:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408100532850688 [0;39m ==> Parameters: 
2023-05-14 02:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408100532850688 [0;39m <==    Updates: 1
2023-05-14 02:11:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38408100532850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:11:41.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:11:43.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:11:44.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:11:49.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:11:52.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408175363428352 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:11:52.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408175363428352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:11:52.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408175363428352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:11:52.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408175363428352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:11:52.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408175363428352 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:11:52.854 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408175363428352 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:11:52.855 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408175363428352 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:11:52.855 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408175363428352 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:11:52.855 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408175363428352 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:11:52.856 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408175363428352 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:11:52.856 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408175363428352 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:11:52.856 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408175363428352 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:11:52.856 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408175363428352 [0;39m <==      Total: 4
2023-05-14 02:11:52.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408175363428352 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:11:52.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408175363428352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:12:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38408205369479168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:12:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408205369479168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:12:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408205369479168 [0;39m ==> Parameters: 
2023-05-14 02:12:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408205369479168 [0;39m <==    Updates: 0
2023-05-14 02:12:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38408205369479168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 02:12:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38408226332610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:12:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408226332610560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:12:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408226332610560 [0;39m ==> Parameters: 
2023-05-14 02:12:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408226332610560 [0;39m <==    Updates: 1
2023-05-14 02:12:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38408226332610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:12:07.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:12:14.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:12:17.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:12:29.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:12:31.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:12:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38408352170119168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:12:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408352170119168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:12:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408352170119168 [0;39m ==> Parameters: 
2023-05-14 02:12:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408352170119168 [0;39m <==    Updates: 1
2023-05-14 02:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38408352170119168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:12:43.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:12:44.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:12:45.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:12:47.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:12:53.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:12:55.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:13:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38408457027719168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:13:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408457027719168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:13:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408457027719168 [0;39m ==> Parameters: 
2023-05-14 02:13:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408457027719168 [0;39m <==    Updates: 0
2023-05-14 02:13:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38408457027719168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 02:13:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38408477995044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408477995044864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:13:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408477995044864 [0;39m ==> Parameters: 
2023-05-14 02:13:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408477995044864 [0;39m <==    Updates: 1
2023-05-14 02:13:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38408477995044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 02:13:14.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:13:15.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:13:17.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:13:19.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:13:21.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:13:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38408603828359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:13:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408603828359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:13:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408603828359168 [0;39m ==> Parameters: 
2023-05-14 02:13:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408603828359168 [0;39m <==    Updates: 1
2023-05-14 02:13:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38408603828359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:13:43.077 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:13:44.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:13:47.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:13:49.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:14:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38408708706930688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:14:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408708706930688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:14:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408708706930688 [0;39m ==> Parameters: 
2023-05-14 02:14:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408708706930688 [0;39m <==    Updates: 0
2023-05-14 02:14:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38408708706930688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 02:14:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38408729636507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:14:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408729636507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:14:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408729636507648 [0;39m ==> Parameters: 
2023-05-14 02:14:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408729636507648 [0;39m <==    Updates: 1
2023-05-14 02:14:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38408729636507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:14:13.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408763870416896 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:14:13.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408763870416897 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:14:13.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408763870416896 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:14:13.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408763870416896 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:14:13.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408763870416896 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:14:13.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408763870416896 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:14:13.167 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38408763870416896 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:14:13.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408763870416897 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:14:13.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408763870416897 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:14:13.167 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38408763870416896 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:14:13.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408763870416897 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:14:13.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408763870416897 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:14:13.170 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408763870416896 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:14:13.170 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408763870416897 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:14:13.170 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408763870416896 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 230, 7
2023-05-14 02:14:13.170 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408763870416897 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:14:13.170 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408763870416896 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:14:13.170 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408763870416896 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:14:13.171 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408763870416897 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:14:13.171 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408763870416896 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:14:13.171 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408763870416897 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:14:13.171 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408763870416896 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:14:13.171 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408763870416896 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:14:13.171 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408763870416897 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:14:13.171 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408763870416896 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:14:13.171 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408763870416897 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:14:13.171 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408763870416896 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:14:13.172 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38408763870416896 [0;39m <==      Total: 8
2023-05-14 02:14:13.172 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408763870416897 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:14:13.172 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408763870416897 [0;39m <==      Total: 4
2023-05-14 02:14:13.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408763870416897 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:14:13.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408763870416896 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":230,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:14:13.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408763870416897 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:14:13.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408763870416896 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:14:13.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408763992051712 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:14:13.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408763992051712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:14:13.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408763992051712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:14:13.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408763992051712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:14:13.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408763992051712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:14:13.194 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38408763992051712 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:14:13.194 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38408763992051712 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:14:13.195 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38408763992051712 [0;39m <==    Columns: id, content
2023-05-14 02:14:13.195 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38408763992051712 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:14:13.195 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38408763992051712 [0;39m <==      Total: 1
2023-05-14 02:14:13.195 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38408763992051712 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:14:13.195 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38408763992051712 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:14:13.197 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38408763992051712 [0;39m <==    Updates: 1
2023-05-14 02:14:13.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408763992051712 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:14:13.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408763992051712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:14:13.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:14:14.569 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:14:17.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:14:19.555 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:14:28.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408826889834496 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:14:28.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408826889834496 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:14:28.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408826889834496 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:14:28.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408826889834496 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:14:28.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408826889834496 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:14:28.190 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408826889834496 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:14:28.191 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408826889834496 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:14:28.191 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408826889834496 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:14:28.192 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408826889834496 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:14:28.192 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408826889834496 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:14:28.192 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408826889834496 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:14:28.192 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408826889834496 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:14:28.192 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408826889834496 [0;39m <==      Total: 4
2023-05-14 02:14:28.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408826889834496 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:14:28.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408826889834496 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:14:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38408855465627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:14:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408855465627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:14:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408855465627648 [0;39m ==> Parameters: 
2023-05-14 02:14:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408855465627648 [0;39m <==    Updates: 1
2023-05-14 02:14:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38408855465627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:14:35.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:14:37.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:14:44.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:14:45.162 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:14:47.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:14:59.362 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38408960323227648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:15:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408960323227648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:15:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408960323227648 [0;39m ==> Parameters: 
2023-05-14 02:15:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38408960323227648 [0;39m <==    Updates: 0
2023-05-14 02:15:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38408960323227648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š19æ¯«ç§’
2023-05-14 02:15:01.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408965545136128 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:01.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408965545136128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:15:01.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408965545136128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:15:01.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408965545136128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:01.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408965545136128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:01.248 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38408965545136128 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:15:01.248 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38408965545136128 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:01.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408965545136128 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:15:01.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408965545136128 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 231, 7
2023-05-14 02:15:01.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408965545136128 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:15:01.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408965545136128 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:15:01.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408965545136128 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:15:01.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408965545136128 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:15:01.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408965545136128 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:15:01.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408965545136128 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:15:01.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408965545136128 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:15:01.251 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38408965545136128 [0;39m <==      Total: 8
2023-05-14 02:15:01.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408965545136128 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":231,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:15:01.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408965545136128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:15:01.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408965633216512 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:01.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408965633216512 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:15:01.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408965633216512 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:15:01.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408965633216512 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:01.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408965633216512 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:01.270 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408965633216512 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:15:01.270 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408965633216512 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:01.270 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408965633216512 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:15:01.271 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408965633216512 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:15:01.271 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408965633216512 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:15:01.271 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408965633216512 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:15:01.271 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408965633216512 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:15:01.271 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408965633216512 [0;39m <==      Total: 4
2023-05-14 02:15:01.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408965633216512 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:15:01.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408965633216512 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:15:01.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408965788405760 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:01.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408965788405760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:15:01.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408965788405760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:15:01.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408965788405760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:01.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408965788405760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:01.310 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38408965788405760 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:15:01.310 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38408965788405760 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:01.311 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38408965788405760 [0;39m <==    Columns: id, content
2023-05-14 02:15:01.311 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38408965788405760 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:15:01.311 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38408965788405760 [0;39m <==      Total: 1
2023-05-14 02:15:01.312 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38408965788405760 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:15:01.312 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38408965788405760 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:01.313 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38408965788405760 [0;39m <==    Updates: 1
2023-05-14 02:15:01.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408965788405760 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:15:01.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408965788405760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 02:15:01.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:03.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408975636631552 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:03.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408975636631552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:15:03.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408975636631552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:15:03.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408975636631552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:03.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408975636631552 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:03.654 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408975636631552 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:15:03.655 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408975636631552 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:03.655 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408975636631552 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:15:03.655 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408975636631552 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:15:03.656 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408975636631552 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:15:03.656 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408975636631552 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:15:03.656 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408975636631552 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:15:03.657 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408975636631552 [0;39m <==      Total: 4
2023-05-14 02:15:03.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408975636631552 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:15:03.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408975636631552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:15:03.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408976685207552 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:03.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408976685207552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:15:03.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408976685207552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:15:03.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408976685207552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:03.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408976685207552 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:04.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408977335324672 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:04.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408977335324672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:15:04.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408977335324672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:15:04.059 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38408976685207552 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:15:04.060 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38408976685207552 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:04.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408977335324672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:04.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408977335324672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:04.061 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408976685207552 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:15:04.060 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408977335324672 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:15:04.061 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408976685207552 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 232, 7
2023-05-14 02:15:04.061 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408977335324672 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:04.061 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408976685207552 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:15:04.061 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408976685207552 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:15:04.062 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408976685207552 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:15:04.062 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408977335324672 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:15:04.062 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408976685207552 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:15:04.062 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408977335324672 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:15:04.062 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408976685207552 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:15:04.062 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408976685207552 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:15:04.062 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408977335324672 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:15:04.062 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38408976685207552 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:15:04.062 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408977335324672 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:15:04.063 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38408976685207552 [0;39m <==      Total: 8
2023-05-14 02:15:04.063 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408977335324672 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:15:04.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408976685207552 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":232,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:15:04.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408976685207552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š160 ms -------------
2023-05-14 02:15:04.063 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408977335324672 [0;39m <==      Total: 4
2023-05-14 02:15:04.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408977335324672 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:15:04.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408977335324672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:15:04.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408977473736704 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:04.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408977473736704 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:15:04.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408977473736704 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:15:04.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408977473736704 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:04.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408977473736704 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:04.092 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38408977473736704 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:15:04.092 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38408977473736704 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:04.093 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38408977473736704 [0;39m <==    Columns: id, content
2023-05-14 02:15:04.093 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38408977473736704 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:15:04.094 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38408977473736704 [0;39m <==      Total: 1
2023-05-14 02:15:04.094 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38408977473736704 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:15:04.094 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38408977473736704 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:04.102 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38408977473736704 [0;39m <==    Updates: 1
2023-05-14 02:15:04.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408977473736704 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:15:04.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408977473736704 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-14 02:15:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38408981290553344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:15:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408981290553344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:15:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408981290553344 [0;39m ==> Parameters: 
2023-05-14 02:15:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38408981290553344 [0;39m <==    Updates: 1
2023-05-14 02:15:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38408981290553344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:15:05.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38408982540455936 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:05.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38408982540455936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:15:05.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38408982540455936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:15:05.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38408982540455936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:05.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38408982540455936 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:05.300 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408982540455936 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:15:05.301 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408982540455936 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:05.301 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408982540455936 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:15:05.302 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408982540455936 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:15:05.302 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408982540455936 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:15:05.302 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408982540455936 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:15:05.302 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38408982540455936 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:15:05.303 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38408982540455936 [0;39m <==      Total: 4
2023-05-14 02:15:05.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38408982540455936 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:15:05.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38408982540455936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:15:14.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:15.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:17.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:23.421 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:25.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:26.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38409071887519744 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:26.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38409071887519744 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:15:26.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38409071887519744 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:15:26.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38409071887519744 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:26.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38409071887519744 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:26.604 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38409071887519744 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:15:26.604 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38409071887519744 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:26.604 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409071887519744 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:15:26.604 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409071887519744 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 233, 7
2023-05-14 02:15:26.604 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409071887519744 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:15:26.604 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409071887519744 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:15:26.604 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409071887519744 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:15:26.607 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409071887519744 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:15:26.607 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409071887519744 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:15:26.607 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409071887519744 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:15:26.607 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409071887519744 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:15:26.608 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38409071887519744 [0;39m <==      Total: 8
2023-05-14 02:15:26.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38409071887519744 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":233,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:15:26.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38409071887519744 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 02:15:26.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38409071942045696 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:26.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38409071942045696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:15:26.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38409071942045696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:15:26.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38409071942045696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:26.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38409071942045696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:26.616 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409071942045696 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:15:26.616 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409071942045696 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:26.616 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409071942045696 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:15:26.616 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409071942045696 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:15:26.616 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409071942045696 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:15:26.616 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409071942045696 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:15:26.616 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409071942045696 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:15:26.616 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409071942045696 [0;39m <==      Total: 4
2023-05-14 02:15:26.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38409071942045696 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:15:26.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38409071942045696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2023-05-14 02:15:26.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38409072181121024 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:15:26.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38409072181121024 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:15:26.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38409072181121024 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:15:26.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38409072181121024 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:15:26.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38409072181121024 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:15:26.677 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38409072181121024 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:15:26.678 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38409072181121024 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:26.678 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38409072181121024 [0;39m <==    Columns: id, content
2023-05-14 02:15:26.679 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38409072181121024 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:15:26.679 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38409072181121024 [0;39m <==      Total: 1
2023-05-14 02:15:26.679 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38409072181121024 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:15:26.679 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38409072181121024 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:15:26.686 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38409072181121024 [0;39m <==    Updates: 1
2023-05-14 02:15:26.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38409072181121024 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:15:26.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38409072181121024 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-14 02:15:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38409107123867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:15:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409107123867648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:15:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409107123867648 [0;39m ==> Parameters: 
2023-05-14 02:15:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409107123867648 [0;39m <==    Updates: 1
2023-05-14 02:15:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38409107123867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:15:43.097 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:44.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:47.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:49.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:15:51.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38409212015022080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:16:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409212015022080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:16:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409212015022080 [0;39m ==> Parameters: 
2023-05-14 02:16:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409212015022080 [0;39m <==    Updates: 0
2023-05-14 02:16:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38409212015022080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 02:16:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38409232994930688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:16:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409232994930688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:16:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409232994930688 [0;39m ==> Parameters: 
2023-05-14 02:16:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409232994930688 [0;39m <==    Updates: 1
2023-05-14 02:16:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38409232994930688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:16:13.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:14.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:15.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:17.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:19.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38409358811467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:16:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409358811467776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:16:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409358811467776 [0;39m ==> Parameters: 
2023-05-14 02:16:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409358811467776 [0;39m <==    Updates: 1
2023-05-14 02:16:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38409358811467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:16:41.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:43.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:47.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:49.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:16:55.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38409446132682752 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:16:55.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38409446132682752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:16:55.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38409446132682752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:16:55.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38409446132682752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:16:55.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38409446132682752 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:16:55.829 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409446132682752 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:16:55.829 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409446132682752 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:16:55.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409446132682752 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:16:55.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409446132682752 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:16:55.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409446132682752 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:16:55.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409446132682752 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:16:55.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409446132682752 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:16:55.831 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409446132682752 [0;39m <==      Total: 4
2023-05-14 02:16:55.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38409446132682752 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:16:55.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38409446132682752 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:17:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38409463669067776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:17:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409463669067776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:17:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409463669067776 [0;39m ==> Parameters: 
2023-05-14 02:17:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409463669067776 [0;39m <==    Updates: 0
2023-05-14 02:17:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38409463669067776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:17:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38409484636393472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:17:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409484636393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:17:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409484636393472 [0;39m ==> Parameters: 
2023-05-14 02:17:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409484636393472 [0;39m <==    Updates: 1
2023-05-14 02:17:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38409484636393472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 02:17:05.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:07.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:14.250 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:15.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:17.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:29.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:31.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38409610486484992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409610486484992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409610486484992 [0;39m ==> Parameters: 
2023-05-14 02:17:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409610486484992 [0;39m <==    Updates: 1
2023-05-14 02:17:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38409610486484992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 02:17:43.092 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:44.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:45.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:47.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:53.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:17:55.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:18:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38409715310530560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:18:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409715310530560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:18:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409715310530560 [0;39m ==> Parameters: 
2023-05-14 02:18:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409715310530560 [0;39m <==    Updates: 0
2023-05-14 02:18:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38409715310530560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:18:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38409736303022080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:18:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409736303022080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:18:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409736303022080 [0;39m ==> Parameters: 
2023-05-14 02:18:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409736303022080 [0;39m <==    Updates: 1
2023-05-14 02:18:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38409736303022080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 02:18:13.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:18:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:18:17.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:18:19.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:18:21.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:18:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38409862127947776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409862127947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409862127947776 [0;39m ==> Parameters: 
2023-05-14 02:18:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409862127947776 [0;39m <==    Updates: 1
2023-05-14 02:18:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38409862127947776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:18:43.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:18:44.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:18:47.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:18:49.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:18:57.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38409958139760640 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:18:57.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38409958139760640 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:18:57.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38409958139760640 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:18:57.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38409958139760640 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:18:57.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38409958139760640 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:18:57.902 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38409958139760640 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:18:57.902 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38409958139760640 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:18:57.903 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409958139760640 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:18:57.903 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409958139760640 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 234, 7
2023-05-14 02:18:57.903 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409958139760640 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:18:57.903 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409958139760640 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:18:57.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409958139760640 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:18:57.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409958139760640 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:18:57.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409958139760640 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:18:57.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409958139760640 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:18:57.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38409958139760640 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:18:57.904 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38409958139760640 [0;39m <==      Total: 8
2023-05-14 02:18:57.905 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38409958139760640 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":234,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:18:57.905 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38409958139760640 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:18:58.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38409958664048640 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:18:58.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38409958664048640 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:18:58.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38409958664048640 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:18:58.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38409958664048640 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:18:58.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38409958664048640 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:18:58.026 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409958664048640 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:18:58.026 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409958664048640 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:18:58.027 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409958664048640 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:18:58.027 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409958664048640 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:18:58.027 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409958664048640 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:18:58.028 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409958664048640 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:18:58.028 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409958664048640 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:18:58.028 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409958664048640 [0;39m <==      Total: 4
2023-05-14 02:18:58.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38409958664048640 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:18:58.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38409958664048640 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:18:58.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38409958756323328 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:18:58.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38409958756323328 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:18:58.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38409958756323328 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:18:58.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38409958756323328 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:18:58.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38409958756323328 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:18:58.048 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38409958756323328 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:18:58.048 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38409958756323328 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:18:58.050 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38409958756323328 [0;39m <==    Columns: id, content
2023-05-14 02:18:58.050 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38409958756323328 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:18:58.050 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38409958756323328 [0;39m <==      Total: 1
2023-05-14 02:18:58.051 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38409958756323328 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:18:58.051 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38409958756323328 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:18:58.058 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38409958756323328 [0;39m <==    Updates: 1
2023-05-14 02:18:58.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38409958756323328 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:18:58.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38409958756323328 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 02:19:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38409966989742080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:19:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409966989742080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:19:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409966989742080 [0;39m ==> Parameters: 
2023-05-14 02:19:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38409966989742080 [0;39m <==    Updates: 0
2023-05-14 02:19:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38409966989742080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:19:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38409987944484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:19:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409987944484864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:19:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409987944484864 [0;39m ==> Parameters: 
2023-05-14 02:19:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38409987944484864 [0;39m <==    Updates: 1
2023-05-14 02:19:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38409987944484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:19:06.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38409992537247744 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:19:06.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38409992537247744 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:19:06.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38409992537247744 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:19:06.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38409992537247744 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:19:06.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38409992537247744 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:19:06.104 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409992537247744 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:19:06.104 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409992537247744 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:19:06.104 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409992537247744 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:19:06.105 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409992537247744 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:19:06.105 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409992537247744 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:19:06.105 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409992537247744 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:19:06.105 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38409992537247744 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:19:06.105 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38409992537247744 [0;39m <==      Total: 4
2023-05-14 02:19:06.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38409992537247744 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:19:06.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38409992537247744 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:19:11.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:13.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:14.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:15.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:17.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:19.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:28.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410084593831936 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:19:28.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410084593831936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:19:28.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410084593831936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:19:28.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410084593831936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:19:28.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410084593831936 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:19:28.051 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410084593831936 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:19:28.052 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410084593831936 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:19:28.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410084593831936 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:19:28.053 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410084593831936 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 235, 7
2023-05-14 02:19:28.053 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410084593831936 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:19:28.053 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410084593831936 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:19:28.053 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410084593831936 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:19:28.053 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410084593831936 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:19:28.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410084593831936 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:19:28.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410084593831936 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:19:28.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410084593831936 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:19:28.055 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410084593831936 [0;39m <==      Total: 8
2023-05-14 02:19:28.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410084593831936 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":235,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:19:28.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410084593831936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:19:28.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410084723855360 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:19:28.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410084723855360 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:19:28.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410084723855360 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:19:28.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410084723855360 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:19:28.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410084723855360 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:19:28.083 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410084723855360 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:19:28.084 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410084723855360 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:19:28.084 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410084723855360 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:19:28.084 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410084723855360 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:19:28.085 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410084723855360 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:19:28.085 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410084723855360 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:19:28.085 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410084723855360 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:19:28.085 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410084723855360 [0;39m <==      Total: 4
2023-05-14 02:19:28.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410084723855360 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:19:28.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410084723855360 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:19:28.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410084967124992 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:19:28.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410084967124992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:19:28.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410084967124992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:19:28.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410084967124992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:19:28.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410084967124992 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:19:28.138 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410084967124992 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:19:28.140 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410084967124992 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:19:28.141 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410084967124992 [0;39m <==    Columns: id, content
2023-05-14 02:19:28.141 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410084967124992 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:19:28.141 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410084967124992 [0;39m <==      Total: 1
2023-05-14 02:19:28.142 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410084967124992 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:19:28.142 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410084967124992 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:19:28.149 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410084967124992 [0;39m <==    Updates: 1
2023-05-14 02:19:28.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410084967124992 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:19:28.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410084967124992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-14 02:19:30.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410094504972288 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:19:30.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410094504972288 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:19:30.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410094504972288 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:19:30.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410094504972288 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:19:30.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410094504972288 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:19:30.414 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410094504972288 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:19:30.414 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410094504972288 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:19:30.415 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410094504972288 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:19:30.415 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410094504972288 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:19:30.415 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410094504972288 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:19:30.415 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410094504972288 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:19:30.416 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410094504972288 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:19:30.416 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410094504972288 [0;39m <==      Total: 4
2023-05-14 02:19:30.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410094504972288 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:19:30.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410094504972288 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:19:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38410113786187776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:19:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410113786187776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:19:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410113786187776 [0;39m ==> Parameters: 
2023-05-14 02:19:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410113786187776 [0;39m <==    Updates: 1
2023-05-14 02:19:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38410113786187776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:19:35.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:37.303 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:43.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:45.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:47.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:19:59.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:20:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38410218656370688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:20:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410218656370688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:20:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410218656370688 [0;39m ==> Parameters: 
2023-05-14 02:20:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410218656370688 [0;39m <==    Updates: 0
2023-05-14 02:20:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38410218656370688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 02:20:01.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:20:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38410239627890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:20:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410239627890688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:20:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410239627890688 [0;39m ==> Parameters: 
2023-05-14 02:20:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410239627890688 [0;39m <==    Updates: 1
2023-05-14 02:20:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38410239627890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:20:13.132 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:20:14.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:20:16.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410286478266369 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:20:16.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410286478266368 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:20:16.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410286478266369 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:20:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410286478266368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:20:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410286478266368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:20:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410286478266368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:20:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410286478266368 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:20:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410286478266369 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:20:16.184 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410286478266368 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:20:16.184 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410286478266368 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:20:16.185 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410286478266368 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:20:16.185 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410286478266368 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:20:16.185 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410286478266368 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:20:16.185 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410286478266368 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:20:16.186 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410286478266368 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:20:16.186 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410286478266368 [0;39m <==      Total: 4
2023-05-14 02:20:16.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410286478266368 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:20:16.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410286478266368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:20:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410286478266369 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:20:16.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410286478266369 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:20:16.187 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410286478266369 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:20:16.188 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410286478266369 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:20:16.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410286478266369 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:20:16.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410286478266369 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 236, 7
2023-05-14 02:20:16.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410286478266369 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:20:16.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410286478266369 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:20:16.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410286478266369 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:20:16.190 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410286478266369 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:20:16.190 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410286478266369 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:20:16.190 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410286478266369 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:20:16.190 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410286478266369 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:20:16.191 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410286478266369 [0;39m <==      Total: 8
2023-05-14 02:20:16.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410286478266369 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":236,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:20:16.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410286478266369 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 02:20:16.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410286616678400 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:20:16.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410286616678400 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:20:16.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410286616678400 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:20:16.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410286616678400 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:20:16.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410286616678400 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:20:16.217 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410286616678400 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:20:16.217 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410286616678400 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:20:16.218 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410286616678400 [0;39m <==    Columns: id, content
2023-05-14 02:20:16.218 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410286616678400 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:20:16.219 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410286616678400 [0;39m <==      Total: 1
2023-05-14 02:20:16.219 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410286616678400 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:20:16.219 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410286616678400 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:20:16.222 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410286616678400 [0;39m <==    Updates: 1
2023-05-14 02:20:16.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410286616678400 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:20:16.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410286616678400 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 02:20:17.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:20:18.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410294539718656 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:20:18.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410294539718656 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:20:18.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410294539718656 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:20:18.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410294539718656 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:20:18.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410294539718656 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:20:18.105 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410294539718656 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:20:18.105 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410294539718656 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:20:18.106 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410294539718656 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:20:18.106 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410294539718656 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:20:18.106 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410294539718656 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:20:18.106 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410294539718656 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:20:18.106 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410294539718656 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:20:18.106 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410294539718656 [0;39m <==      Total: 4
2023-05-14 02:20:18.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410294539718656 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:20:18.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410294539718656 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:20:25.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:20:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38410365436039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:20:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410365436039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:20:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410365436039168 [0;39m ==> Parameters: 
2023-05-14 02:20:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410365436039168 [0;39m <==    Updates: 1
2023-05-14 02:20:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38410365436039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:20:44.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:20:45.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:20:47.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:20:51.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:21:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38410470289444864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:21:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410470289444864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:21:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410470289444864 [0;39m ==> Parameters: 
2023-05-14 02:21:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410470289444864 [0;39m <==    Updates: 0
2023-05-14 02:21:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38410470289444864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-14 02:21:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38410491244187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:21:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410491244187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:21:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410491244187648 [0;39m ==> Parameters: 
2023-05-14 02:21:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410491244187648 [0;39m <==    Updates: 1
2023-05-14 02:21:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38410491244187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:21:13.132 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:21:14.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:21:15.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:21:17.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:21:19.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:21:23.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410566762631168 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:21:23.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410566762631168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:21:23.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410566762631168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:21:23.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410566762631168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:21:23.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410566762631168 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:21:23.012 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410566762631168 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:21:23.012 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410566762631168 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:21:23.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410566762631168 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:21:23.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410566762631168 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 237, 7
2023-05-14 02:21:23.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410566762631168 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:21:23.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410566762631168 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:21:23.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410566791991296 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:21:23.014 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410566762631168 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:21:23.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410566791991296 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:21:23.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410566791991296 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:21:23.014 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410566762631168 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:21:23.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410566791991296 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:21:23.014 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410566762631168 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:21:23.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410566791991296 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:21:23.014 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410566762631168 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:21:23.015 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410566762631168 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:21:23.015 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410566762631168 [0;39m <==      Total: 8
2023-05-14 02:21:23.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410566762631168 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":237,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:21:23.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410566762631168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 02:21:23.016 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410566791991296 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:21:23.016 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410566791991296 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:21:23.017 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410566791991296 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:21:23.018 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410566791991296 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:21:23.018 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410566791991296 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:21:23.018 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410566791991296 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:21:23.018 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410566791991296 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:21:23.018 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410566791991296 [0;39m <==      Total: 4
2023-05-14 02:21:23.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410566791991296 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:21:23.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410566791991296 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:21:23.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410566909431808 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:21:23.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410566909431808 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:21:23.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410566909431808 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:21:23.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410566909431808 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:21:23.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410566909431808 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:21:23.043 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410566909431808 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:21:23.043 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410566909431808 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:21:23.045 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410566909431808 [0;39m <==    Columns: id, content
2023-05-14 02:21:23.046 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410566909431808 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:21:23.046 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410566909431808 [0;39m <==      Total: 1
2023-05-14 02:21:23.046 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410566909431808 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:21:23.046 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410566909431808 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:21:23.048 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410566909431808 [0;39m <==    Updates: 1
2023-05-14 02:21:23.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410566909431808 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:21:23.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410566909431808 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:21:24.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410573825839104 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:21:24.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410573825839104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:21:24.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410573825839104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:21:24.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410573825839104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:21:24.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410573825839104 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:21:24.692 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410573825839104 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:21:24.693 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410573825839104 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:21:24.693 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410573825839104 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:21:24.693 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410573825839104 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:21:24.694 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410573825839104 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:21:24.694 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410573825839104 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:21:24.695 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410573825839104 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:21:24.695 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410573825839104 [0;39m <==      Total: 4
2023-05-14 02:21:24.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410573825839104 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:21:24.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410573825839104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:21:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38410617123639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:21:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410617123639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:21:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410617123639296 [0;39m ==> Parameters: 
2023-05-14 02:21:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410617123639296 [0;39m <==    Updates: 1
2023-05-14 02:21:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38410617123639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-14 02:21:41.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:21:43.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:21:43.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410653412757505 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:21:43.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410653412757504 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:21:43.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410653412757505 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:21:43.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410653412757504 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:21:43.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410653412757505 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:21:43.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410653412757504 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:21:43.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410653412757505 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:21:43.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410653412757504 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:21:43.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410653412757505 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:21:43.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410653412757504 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:21:43.668 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410653412757505 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:21:43.668 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410653412757504 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:21:43.669 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410653412757505 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:21:43.669 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410653412757504 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:21:43.669 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410653412757504 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:21:43.669 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410653412757505 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:21:43.669 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410653412757504 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 238, 7
2023-05-14 02:21:43.669 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410653412757505 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:21:43.669 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410653412757505 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:21:43.670 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410653412757505 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:21:43.669 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410653412757504 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:21:43.670 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410653412757505 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:21:43.670 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410653412757504 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:21:43.670 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410653412757505 [0;39m <==      Total: 4
2023-05-14 02:21:43.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410653412757505 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:21:43.670 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410653412757504 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:21:43.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410653412757505 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:21:43.670 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410653412757504 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:21:43.671 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410653412757504 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:21:43.671 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410653412757504 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:21:43.671 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410653412757504 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:21:43.671 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410653412757504 [0;39m <==      Total: 8
2023-05-14 02:21:43.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410653412757504 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":238,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:21:43.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410653412757504 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:21:43.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410653572141056 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:21:43.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410653572141056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:21:43.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410653572141056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:21:43.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410653572141056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:21:43.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410653572141056 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:21:43.707 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410653572141056 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:21:43.707 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410653572141056 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:21:43.708 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410653572141056 [0;39m <==    Columns: id, content
2023-05-14 02:21:43.708 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410653572141056 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:21:43.708 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410653572141056 [0;39m <==      Total: 1
2023-05-14 02:21:43.709 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410653572141056 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:21:43.709 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410653572141056 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:21:43.709 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410653572141056 [0;39m <==    Updates: 1
2023-05-14 02:21:43.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410653572141056 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:21:43.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410653572141056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:21:44.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:21:46.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410663567167488 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:21:46.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410663567167488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:21:46.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410663567167488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:21:46.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410663567167488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:21:46.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410663567167488 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:21:46.089 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410663567167488 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:21:46.089 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410663567167488 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:21:46.089 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410663567167488 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:21:46.090 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410663567167488 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:21:46.090 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410663567167488 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:21:46.090 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410663567167488 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:21:46.090 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410663567167488 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:21:46.090 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410663567167488 [0;39m <==      Total: 4
2023-05-14 02:21:46.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410663567167488 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:21:46.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410663567167488 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:21:47.405 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:21:49.438 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38410721943490560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:22:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410721943490560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:22:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410721943490560 [0;39m ==> Parameters: 
2023-05-14 02:22:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410721943490560 [0;39m <==    Updates: 0
2023-05-14 02:22:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38410721943490560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:22:03.347 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38409958756323328 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šyC0Mrsvebnï¼Œsession idï¼š24ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 02:22:04.286 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38409992537247744 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š5WefxMb9wuï¼Œsession idï¼š25ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 02:22:04.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410740222267393 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:04.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410740222267392 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410740222267393 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:22:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410740222267392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:22:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410740222267393 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:22:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410740222267392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:22:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410740222267393 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410740222267392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410740222267393 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:04.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410740222267392 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:04.365 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410740222267393 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:22:04.365 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410740222267393 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:04.366 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410740222267393 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:22:04.366 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410740222267392 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:22:04.368 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410740222267392 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:04.368 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410740222267393 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:22:04.368 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410740222267393 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:22:04.368 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410740222267393 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:22:04.368 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410740222267392 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:22:04.368 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410740222267393 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:22:04.368 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410740222267392 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 239, 7
2023-05-14 02:22:04.369 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410740222267393 [0;39m <==      Total: 4
2023-05-14 02:22:04.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410740222267393 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:22:04.369 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410740222267392 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:22:04.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410740222267393 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:22:04.369 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410740222267392 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:22:04.369 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410740222267392 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:22:04.369 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410740222267392 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:22:04.369 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410740222267392 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:22:04.370 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410740222267392 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:22:04.370 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410740222267392 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:22:04.370 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410740222267392 [0;39m <==      Total: 8
2023-05-14 02:22:04.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410740222267392 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":239,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:22:04.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410740222267392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 02:22:04.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410740520062976 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:04.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410740520062976 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:22:04.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410740520062976 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:22:04.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410740520062976 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:04.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410740520062976 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:04.438 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410740520062976 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:22:04.439 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410740520062976 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:04.440 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410740520062976 [0;39m <==    Columns: id, content
2023-05-14 02:22:04.440 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410740520062976 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:22:04.440 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410740520062976 [0;39m <==      Total: 1
2023-05-14 02:22:04.441 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410740520062976 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:22:04.441 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410740520062976 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:04.443 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410740520062976 [0;39m <==    Updates: 1
2023-05-14 02:22:04.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410740520062976 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:22:04.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410740520062976 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 02:22:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38410742910816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:22:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410742910816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:22:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410742910816256 [0;39m ==> Parameters: 
2023-05-14 02:22:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410742910816256 [0;39m <==    Updates: 1
2023-05-14 02:22:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38410742910816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:22:05.411 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:07.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:07.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410754973634560 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:07.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410754973634560 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:22:07.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410754973634560 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:22:07.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410754973634560 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:07.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410754973634560 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:07.881 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410754973634560 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:22:07.882 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410754973634560 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:07.882 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410754973634560 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:22:07.882 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410754973634560 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:22:07.882 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410754973634560 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:22:07.882 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410754973634560 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:22:07.883 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410754973634560 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:22:07.883 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410754973634560 [0;39m <==      Total: 4
2023-05-14 02:22:07.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410754973634560 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:22:07.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410754973634560 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:22:14.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:17.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:28.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410841858641920 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:28.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410841858641921 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:28.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410841858641920 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:22:28.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410841858641921 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:22:28.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410841858641920 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:22:28.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410841858641921 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:22:28.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410841858641920 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:28.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410841858641921 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:28.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410841858641920 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:28.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410841858641921 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:28.596 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410841858641920 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:22:28.597 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410841858641920 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:28.597 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410841858641921 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:22:28.598 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410841858641921 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:28.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410841858641920 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:22:28.599 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410841858641921 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:22:28.599 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410841858641920 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:22:28.599 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410841858641921 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 240, 7
2023-05-14 02:22:28.599 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410841858641920 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:22:28.599 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410841858641921 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:22:28.599 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410841858641920 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:22:28.599 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410841858641921 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:22:28.599 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410841858641920 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:22:28.599 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410841858641921 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:22:28.599 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410841858641920 [0;39m <==      Total: 4
2023-05-14 02:22:28.600 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410841858641921 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:22:28.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410841858641920 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:22:28.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410841858641920 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:22:28.600 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410841858641921 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:22:28.600 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410841858641921 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:22:28.600 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410841858641921 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:22:28.600 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410841858641921 [0;39m <==      Total: 8
2023-05-14 02:22:28.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410841858641921 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":240,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:22:28.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410841858641921 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:22:28.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410841997053952 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:28.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410841997053952 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:22:28.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410841997053952 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:22:28.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410841997053952 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:28.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410841997053952 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:28.629 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410841997053952 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:22:28.630 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410841997053952 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:28.631 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410841997053952 [0;39m <==    Columns: id, content
2023-05-14 02:22:28.631 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410841997053952 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:22:28.631 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410841997053952 [0;39m <==      Total: 1
2023-05-14 02:22:28.632 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410841997053952 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:22:28.632 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410841997053952 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:28.633 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410841997053952 [0;39m <==    Updates: 1
2023-05-14 02:22:28.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410841997053952 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:22:28.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410841997053952 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:22:31.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:34.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410866084941824 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:34.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410866084941825 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:34.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410866084941824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:22:34.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410866084941825 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:22:34.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410866084941824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:22:34.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410866084941825 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:22:34.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410866084941824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:34.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410866084941825 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:34.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410866084941824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:34.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410866084941825 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:34.378 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410866084941825 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:22:34.378 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410866084941824 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:22:34.378 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410866084941825 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:34.378 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410866084941824 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:34.378 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410866084941825 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:22:34.378 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410866084941824 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:22:34.378 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410866084941824 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 241, 7
2023-05-14 02:22:34.378 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410866084941825 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:22:34.380 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410866084941824 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:22:34.380 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410866084941825 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:22:34.380 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410866084941824 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:22:34.380 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410866084941825 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:22:34.380 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410866084941825 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:22:34.380 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410866084941824 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:22:34.380 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410866084941825 [0;39m <==      Total: 4
2023-05-14 02:22:34.380 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410866084941824 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:22:34.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410866084941825 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:22:34.380 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410866084941824 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:22:34.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410866084941825 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 02:22:34.380 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410866084941824 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:22:34.380 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410866084941824 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:22:34.380 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410866084941824 [0;39m <==      Total: 8
2023-05-14 02:22:34.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410866084941824 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":241,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:22:34.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410866084941824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 02:22:34.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410866244325376 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:34.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410866244325376 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:22:34.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410866244325376 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:22:34.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410866244325376 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:34.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410866244325376 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:34.409 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410866244325376 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:22:34.409 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410866244325376 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:34.411 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410866244325376 [0;39m <==    Columns: id, content
2023-05-14 02:22:34.411 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410866244325376 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:22:34.412 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410866244325376 [0;39m <==      Total: 1
2023-05-14 02:22:34.412 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410866244325376 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:22:34.412 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410866244325376 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:34.419 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410866244325376 [0;39m <==    Updates: 1
2023-05-14 02:22:34.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410866244325376 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:22:34.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410866244325376 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-14 02:22:34.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410868563775488 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:34.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410868563775488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:22:34.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410868563775488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:22:34.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410868563775488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:34.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410868563775488 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:34.963 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410868563775488 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:22:34.963 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410868563775488 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:34.964 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410868563775488 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:22:34.964 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410868563775488 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:22:34.964 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410868563775488 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:22:34.965 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410868563775488 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:22:34.965 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410868563775488 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:22:34.965 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410868563775488 [0;39m <==      Total: 4
2023-05-14 02:22:34.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410868563775488 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:22:34.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410868563775488 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:22:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38410868735741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:22:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410868735741952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:22:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410868735741952 [0;39m ==> Parameters: 
2023-05-14 02:22:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410868735741952 [0;39m <==    Updates: 1
2023-05-14 02:22:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38410868735741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-14 02:22:43.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:45.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:47.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:48.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410923609821184 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:48.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410923609821184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:22:48.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410923609821184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:22:48.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410923609821184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:48.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410923609821184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:48.089 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410923609821184 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:22:48.089 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410923609821184 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:48.089 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410923609821184 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:22:48.089 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410923609821184 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 242, 7
2023-05-14 02:22:48.089 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410923609821184 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:22:48.089 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410923609821184 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:22:48.089 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410923609821184 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:22:48.089 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410923609821184 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:22:48.089 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410923609821184 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:22:48.089 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410923609821184 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:22:48.089 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410923609821184 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:22:48.089 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410923609821184 [0;39m <==      Total: 8
2023-05-14 02:22:48.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410923609821184 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":242,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:22:48.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410923609821184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:22:48.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410923622404096 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:48.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410923622404096 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:22:48.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410923622404096 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:22:48.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410923622404096 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:48.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410923622404096 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:48.089 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410923622404096 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:22:48.089 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410923622404096 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:48.089 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410923622404096 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:22:48.089 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410923622404096 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:22:48.089 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410923622404096 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:22:48.089 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410923622404096 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:22:48.089 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410923622404096 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:22:48.089 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410923622404096 [0;39m <==      Total: 4
2023-05-14 02:22:48.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410923622404096 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:22:48.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410923622404096 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:22:48.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410923731456000 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:48.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410923731456000 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:22:48.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410923731456000 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:22:48.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410923731456000 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:48.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410923731456000 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:48.117 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410923731456000 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:22:48.117 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410923731456000 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:48.118 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410923731456000 [0;39m <==    Columns: id, content
2023-05-14 02:22:48.119 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410923731456000 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:22:48.119 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410923731456000 [0;39m <==      Total: 1
2023-05-14 02:22:48.119 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410923731456000 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:22:48.119 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410923731456000 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:48.128 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410923731456000 [0;39m <==    Updates: 1
2023-05-14 02:22:48.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410923731456000 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:22:48.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410923731456000 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š23 ms -------------
2023-05-14 02:22:50.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410933659373568 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:22:50.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410933659373568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:22:50.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410933659373568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:22:50.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410933659373568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:22:50.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410933659373568 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:22:50.483 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410933659373568 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:22:50.483 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410933659373568 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:22:50.484 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410933659373568 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:22:50.484 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410933659373568 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:22:50.484 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410933659373568 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:22:50.485 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410933659373568 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:22:50.485 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410933659373568 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:22:50.485 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410933659373568 [0;39m <==      Total: 4
2023-05-14 02:22:50.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410933659373568 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:22:50.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410933659373568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:22:54.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:22:56.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:23:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38410973652062208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410973652062208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410973652062208 [0;39m ==> Parameters: 
2023-05-14 02:23:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38410973652062208 [0;39m <==    Updates: 0
2023-05-14 02:23:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38410973652062208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 02:23:01.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410979519893505 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:01.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410979519893505 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:23:01.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410979519893505 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:23:01.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410979519893505 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:01.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410979519893505 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:01.419 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410979519893505 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:23:01.419 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410979519893505 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:01.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410979519893504 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:01.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410979519893504 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:23:01.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410979519893504 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:23:01.420 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410979519893505 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:23:01.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410979519893504 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:01.420 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410979519893505 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:23:01.420 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410979519893505 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:23:01.420 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410979519893505 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:23:01.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410979519893504 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:01.420 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410979519893505 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:23:01.420 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410979519893505 [0;39m <==      Total: 4
2023-05-14 02:23:01.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410979519893505 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:23:01.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410979519893505 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:23:01.420 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410979519893504 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:23:01.421 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410979519893504 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:01.422 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410979519893504 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:23:01.422 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410979519893504 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 243, 7
2023-05-14 02:23:01.422 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410979519893504 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:23:01.422 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410979519893504 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:23:01.422 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410979519893504 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:23:01.423 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410979519893504 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:23:01.423 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410979519893504 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:23:01.423 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410979519893504 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:23:01.423 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38410979519893504 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:23:01.423 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38410979519893504 [0;39m <==      Total: 8
2023-05-14 02:23:01.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410979519893504 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":243,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:23:01.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410979519893504 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:23:01.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410979742191616 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:01.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410979742191616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:23:01.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410979742191616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:23:01.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410979742191616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:01.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410979742191616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:01.470 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410979742191616 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:23:01.470 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410979742191616 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:01.470 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410979742191616 [0;39m <==    Columns: id, content
2023-05-14 02:23:01.473 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38410979742191616 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:23:01.473 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38410979742191616 [0;39m <==      Total: 1
2023-05-14 02:23:01.473 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410979742191616 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:23:01.474 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410979742191616 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:01.476 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38410979742191616 [0;39m <==    Updates: 1
2023-05-14 02:23:01.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410979742191616 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:23:01.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410979742191616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:23:03.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38410989544280064 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:03.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38410989544280064 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:23:03.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38410989544280064 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:23:03.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38410989544280064 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:03.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38410989544280064 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:03.807 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410989544280064 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:23:03.807 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410989544280064 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:03.807 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410989544280064 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:23:03.807 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410989544280064 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:23:03.809 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410989544280064 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:23:03.809 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410989544280064 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:23:03.809 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38410989544280064 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:23:03.809 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38410989544280064 [0;39m <==      Total: 4
2023-05-14 02:23:03.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38410989544280064 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:23:03.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38410989544280064 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:23:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38410994590027776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:23:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410994590027776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:23:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410994590027776 [0;39m ==> Parameters: 
2023-05-14 02:23:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38410994590027776 [0;39m <==    Updates: 1
2023-05-14 02:23:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38410994590027776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 02:23:13.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:23:14.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:23:15.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:23:17.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:23:19.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:23:21.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:23:34.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411116363255808 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:34.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411116363255808 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:23:34.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411116363255808 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:23:34.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411116363255808 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:34.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411116363255808 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:34.043 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411116363255808 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:23:34.044 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411116363255808 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:34.044 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411116363255808 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:23:34.044 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411116363255808 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:23:34.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411116363255808 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:23:34.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411116363255808 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:23:34.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411116363255808 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:23:34.045 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411116363255808 [0;39m <==      Total: 4
2023-05-14 02:23:34.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411116363255808 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:23:34.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411116363255808 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:23:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38411120385593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:23:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411120385593344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:23:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411120385593344 [0;39m ==> Parameters: 
2023-05-14 02:23:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411120385593344 [0;39m <==    Updates: 1
2023-05-14 02:23:35.001 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38411120385593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:23:36.715 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38410868563775488 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š5WefxMb9wuï¼Œsession idï¼š25ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 02:23:37.167 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38410923609821184 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šVIWYmzIwfMï¼Œsession idï¼š26ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 02:23:37.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411129650810881 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:37.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411129650810880 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:37.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411129650810880 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:23:37.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411129650810881 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:23:37.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411129650810880 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:23:37.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411129650810881 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:23:37.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411129650810880 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:37.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411129650810881 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:37.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411129650810880 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:37.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411129650810881 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:37.211 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411129650810880 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:23:37.212 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411129650810880 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:37.213 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411129650810881 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:23:37.213 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411129650810881 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:37.213 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411129650810880 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:23:37.213 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411129650810881 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:23:37.213 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411129650810880 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:23:37.213 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411129650810881 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 244, 7
2023-05-14 02:23:37.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411129650810881 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:23:37.214 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411129650810880 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:23:37.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411129650810881 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:23:37.214 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411129650810880 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:23:37.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411129650810881 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:23:37.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411129650810881 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:23:37.214 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411129650810880 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:23:37.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411129650810881 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:23:37.214 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411129650810880 [0;39m <==      Total: 4
2023-05-14 02:23:37.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411129650810881 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:23:37.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411129650810880 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:23:37.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411129650810880 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:23:37.215 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411129650810881 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:23:37.215 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411129650810881 [0;39m <==      Total: 8
2023-05-14 02:23:37.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411129650810881 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":244,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:23:37.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411129650810881 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:23:37.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411129831165952 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:37.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411129831165952 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:23:37.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411129831165952 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:23:37.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411129831165952 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:37.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411129831165952 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:37.253 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411129831165952 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:23:37.254 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411129831165952 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:37.255 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411129831165952 [0;39m <==    Columns: id, content
2023-05-14 02:23:37.256 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411129831165952 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:23:37.256 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411129831165952 [0;39m <==      Total: 1
2023-05-14 02:23:37.256 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411129831165952 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:23:37.256 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411129831165952 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:37.265 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411129831165952 [0;39m <==    Updates: 1
2023-05-14 02:23:37.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411129831165952 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:23:37.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411129831165952 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 02:23:39.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411139788443648 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:39.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411139788443648 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:23:39.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411139788443648 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:23:39.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411139788443648 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:39.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411139788443648 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:39.628 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411139788443648 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:23:39.629 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411139788443648 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:39.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411139788443648 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:23:39.630 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411139788443648 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:23:39.630 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411139788443648 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:23:39.630 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411139788443648 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:23:39.630 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411139788443648 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:23:39.630 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411139788443648 [0;39m <==      Total: 4
2023-05-14 02:23:39.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411139788443648 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:23:39.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411139788443648 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:23:44.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:23:46.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411170507526144 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:46.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411170507526144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:23:46.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411170507526144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:23:46.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411170507526144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:46.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411170507526144 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:46.953 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411170507526144 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:23:46.953 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411170507526144 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:46.954 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411170507526144 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:23:46.954 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411170507526144 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 245, 7
2023-05-14 02:23:46.954 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411170507526144 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:23:46.954 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411170507526144 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:23:46.954 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411170507526144 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:23:46.954 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411170507526144 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:23:46.954 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411170507526144 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:23:46.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411170507526144 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:23:46.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411170507526144 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:23:46.956 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411170507526144 [0;39m <==      Total: 8
2023-05-14 02:23:46.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411170507526144 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":245,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:23:46.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411170507526144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:23:46.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411170536886272 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:46.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411170536886272 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:23:46.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411170536886272 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:23:46.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411170536886272 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:46.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411170536886272 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:46.959 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411170536886272 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:23:46.959 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411170536886272 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:46.960 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411170536886272 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:23:46.960 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411170536886272 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:23:46.960 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411170536886272 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:23:46.961 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411170536886272 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:23:46.961 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411170536886272 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:23:46.961 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411170536886272 [0;39m <==      Total: 4
2023-05-14 02:23:46.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411170536886272 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:23:46.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411170536886272 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:23:46.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411170675298304 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:46.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411170675298304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:23:46.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411170675298304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:23:46.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411170675298304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:46.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411170675298304 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:46.993 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411170675298304 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:23:46.993 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411170675298304 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:46.994 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411170675298304 [0;39m <==    Columns: id, content
2023-05-14 02:23:46.994 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411170675298304 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:23:46.994 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411170675298304 [0;39m <==      Total: 1
2023-05-14 02:23:46.995 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411170675298304 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:23:46.995 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411170675298304 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:47.002 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411170675298304 [0;39m <==    Updates: 1
2023-05-14 02:23:47.003 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411170675298304 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:23:47.003 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411170675298304 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 02:23:47.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:23:49.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:23:49.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411181236555776 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:49.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411181236555776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:23:49.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411181236555776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:23:49.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411181236555776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:49.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411181236555776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:49.510 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411181236555776 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:23:49.511 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411181236555776 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:49.512 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411181236555776 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:23:49.512 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411181236555776 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:23:49.512 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411181236555776 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:23:49.512 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411181236555776 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:23:49.512 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411181236555776 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:23:49.513 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411181236555776 [0;39m <==      Total: 4
2023-05-14 02:23:49.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411181236555776 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:23:49.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411181236555776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:23:59.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411221933887488 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:59.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411221933887489 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:59.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411221933887488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:23:59.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411221933887489 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:23:59.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411221933887488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:23:59.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411221933887489 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:23:59.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411221933887488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:59.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411221933887489 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:59.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411221933887489 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:59.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411221933887488 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:59.213 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411221933887489 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:23:59.213 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411221933887488 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:23:59.213 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411221933887489 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:59.213 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411221933887488 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:59.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411221933887488 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:23:59.214 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411221933887489 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:23:59.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411221933887488 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 246, 7
2023-05-14 02:23:59.214 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411221933887489 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:23:59.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411221933887488 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:23:59.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411221933887488 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:23:59.214 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411221933887489 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:23:59.214 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411221933887488 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:23:59.215 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411221933887489 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:23:59.215 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411221933887488 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:23:59.215 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411221933887488 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:23:59.215 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411221933887489 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:23:59.215 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411221933887488 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:23:59.215 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411221933887489 [0;39m <==      Total: 4
2023-05-14 02:23:59.215 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411221933887488 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:23:59.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411221933887489 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:23:59.215 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411221933887488 [0;39m <==      Total: 8
2023-05-14 02:23:59.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411221933887489 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:23:59.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411221933887488 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":246,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:23:59.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411221933887488 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:23:59.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411222097465344 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:23:59.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411222097465344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:23:59.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411222097465344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:23:59.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411222097465344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:23:59.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411222097465344 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:23:59.252 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411222097465344 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:23:59.253 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411222097465344 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:59.254 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411222097465344 [0;39m <==    Columns: id, content
2023-05-14 02:23:59.255 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411222097465344 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:23:59.255 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411222097465344 [0;39m <==      Total: 1
2023-05-14 02:23:59.255 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411222097465344 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:23:59.255 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411222097465344 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:23:59.262 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411222097465344 [0;39m <==    Updates: 1
2023-05-14 02:23:59.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411222097465344 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:23:59.263 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411222097465344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 02:24:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38411225251581952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:24:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411225251581952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:24:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411225251581952 [0;39m ==> Parameters: 
2023-05-14 02:24:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411225251581952 [0;39m <==    Updates: 0
2023-05-14 02:24:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38411225251581952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-14 02:24:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38411246256656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:24:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411246256656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:24:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411246256656384 [0;39m ==> Parameters: 
2023-05-14 02:24:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411246256656384 [0;39m <==    Updates: 1
2023-05-14 02:24:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38411246256656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:24:05.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411249414967297 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:24:05.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411249414967296 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:24:05.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411249414967297 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:24:05.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411249414967297 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:24:05.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411249414967296 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:24:05.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411249414967297 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:24:05.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411249414967296 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:24:05.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411249414967297 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:24:05.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411249414967296 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:24:05.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411249414967296 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:24:05.766 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411249414967296 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:24:05.766 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411249414967297 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:24:05.766 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411249414967296 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:24:05.766 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411249414967297 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:24:05.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411249414967297 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:24:05.766 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411249414967296 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:24:05.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411249414967297 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 247, 7
2023-05-14 02:24:05.766 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411249414967296 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:24:05.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411249414967297 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:24:05.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411249414967297 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:24:05.766 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411249414967296 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:24:05.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411249414967297 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:24:05.767 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411249414967296 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:24:05.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411249414967297 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:24:05.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411249414967297 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:24:05.767 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411249414967296 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:24:05.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411249414967297 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:24:05.767 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411249414967296 [0;39m <==      Total: 4
2023-05-14 02:24:05.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411249414967297 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:24:05.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411249414967296 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:24:05.767 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411249414967297 [0;39m <==      Total: 8
2023-05-14 02:24:05.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411249414967296 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:24:05.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411249414967297 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":247,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:24:05.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411249414967297 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:24:05.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411249524019200 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:24:05.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411249524019200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:24:05.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411249524019200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:24:05.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411249524019200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:24:05.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411249524019200 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:24:05.791 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411249524019200 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:24:05.791 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411249524019200 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:24:05.792 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411249524019200 [0;39m <==    Columns: id, content
2023-05-14 02:24:05.792 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411249524019200 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:24:05.793 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411249524019200 [0;39m <==      Total: 1
2023-05-14 02:24:05.793 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411249524019200 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:24:05.793 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411249524019200 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:24:05.795 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411249524019200 [0;39m <==    Updates: 1
2023-05-14 02:24:05.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411249524019200 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:24:05.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411249524019200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:24:11.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:11.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411274614345728 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:24:11.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411274614345728 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:24:11.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411274614345728 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:24:11.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411274614345728 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:24:11.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411274614345728 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:24:11.773 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411274614345728 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:24:11.773 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411274614345728 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:24:11.774 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411274614345728 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:24:11.774 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411274614345728 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:24:11.774 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411274614345728 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:24:11.774 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411274614345728 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:24:11.774 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411274614345728 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:24:11.775 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411274614345728 [0;39m <==      Total: 4
2023-05-14 02:24:11.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411274614345728 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:24:11.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411274614345728 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:24:13.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:14.250 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:15.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:17.370 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:19.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:26.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411338191605760 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:24:26.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411338191605760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:24:26.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411338191605760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:24:26.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411338191605760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:24:26.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411338191605760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:24:26.932 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411338191605760 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:24:26.932 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411338191605760 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:24:26.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411338191605760 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:24:26.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411338191605760 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 248, 7
2023-05-14 02:24:26.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411338204188672 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:24:26.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411338191605760 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:24:26.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411338204188672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:24:26.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411338191605760 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:24:26.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411338204188672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:24:26.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411338204188672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:24:26.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411338191605760 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:24:26.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411338204188672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:24:26.934 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411338191605760 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:24:26.934 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411338191605760 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:24:26.934 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411338204188672 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:24:26.934 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411338191605760 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:24:26.934 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411338204188672 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:24:26.934 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411338191605760 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:24:26.934 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411338191605760 [0;39m <==      Total: 8
2023-05-14 02:24:26.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411338191605760 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":248,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:24:26.935 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411338204188672 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:24:26.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411338191605760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:24:26.935 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411338204188672 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:24:26.935 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411338204188672 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:24:26.935 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411338204188672 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:24:26.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411338204188672 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:24:26.936 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411338204188672 [0;39m <==      Total: 4
2023-05-14 02:24:26.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411338204188672 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:24:26.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411338204188672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:24:26.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411338321629184 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:24:26.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411338321629184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:24:26.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411338321629184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:24:26.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411338321629184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:24:26.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411338321629184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:24:26.964 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411338321629184 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:24:26.965 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411338321629184 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:24:26.965 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411338321629184 [0;39m <==    Columns: id, content
2023-05-14 02:24:26.966 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411338321629184 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:24:26.966 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411338321629184 [0;39m <==      Total: 1
2023-05-14 02:24:26.966 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411338321629184 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:24:26.967 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411338321629184 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:24:26.968 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411338321629184 [0;39m <==    Updates: 1
2023-05-14 02:24:26.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411338321629184 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:24:26.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411338321629184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:24:29.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411351047147520 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:24:29.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411351047147520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:24:29.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411351047147520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:24:29.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411351047147520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:24:29.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411351047147520 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:24:29.996 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411351047147520 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:24:29.997 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411351047147520 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:24:29.997 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411351047147520 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:24:29.997 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411351047147520 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:24:29.997 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411351047147520 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:24:29.999 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411351047147520 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:24:29.999 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411351047147520 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:24:29.999 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411351047147520 [0;39m <==      Total: 4
2023-05-14 02:24:29.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411351047147520 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:24:29.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411351047147520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:24:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38411372073193472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:24:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411372073193472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:24:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411372073193472 [0;39m ==> Parameters: 
2023-05-14 02:24:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411372073193472 [0;39m <==    Updates: 1
2023-05-14 02:24:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38411372073193472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 02:24:37.369 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:43.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:45.142 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:47.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:24:59.412 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:25:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38411476947570688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:25:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411476947570688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:25:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411476947570688 [0;39m ==> Parameters: 
2023-05-14 02:25:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411476947570688 [0;39m <==    Updates: 0
2023-05-14 02:25:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38411476947570688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:25:01.434 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:25:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38411497910702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411497910702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411497910702080 [0;39m ==> Parameters: 
2023-05-14 02:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411497910702080 [0;39m <==    Updates: 1
2023-05-14 02:25:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38411497910702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:25:14.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:25:15.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:25:17.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:25:25.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:25:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38411623718850560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:25:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411623718850560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:25:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411623718850560 [0;39m ==> Parameters: 
2023-05-14 02:25:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411623718850560 [0;39m <==    Updates: 1
2023-05-14 02:25:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38411623718850560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 02:25:43.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:25:44.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:25:46.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411673685594112 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:25:46.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411673685594112 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:25:46.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411673685594112 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:25:46.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411673685594112 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:25:46.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411673685594112 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:25:46.935 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411673685594112 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:25:46.936 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411673685594112 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:25:46.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411673685594112 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:25:46.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411673685594112 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 249, 7
2023-05-14 02:25:46.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411673685594112 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:25:46.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411673685594112 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:25:46.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411673685594112 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:25:46.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411673685594112 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:25:46.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411673685594112 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:25:46.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411673685594112 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:25:46.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411673685594112 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:25:46.938 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411673685594112 [0;39m <==      Total: 8
2023-05-14 02:25:46.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411673685594112 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":249,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:25:46.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411673685594112 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-14 02:25:46.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411673807228928 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:25:46.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411673807228928 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:25:46.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411673807228928 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:25:46.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411673807228928 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:25:46.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411673807228928 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:25:46.949 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411673807228928 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:25:46.949 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411673807228928 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:25:46.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411673807228928 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:25:46.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411673807228928 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:25:46.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411673807228928 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:25:46.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411673807228928 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:25:46.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411673807228928 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:25:46.951 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411673807228928 [0;39m <==      Total: 4
2023-05-14 02:25:46.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411673807228928 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:25:46.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411673807228928 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:25:46.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411673899503616 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:25:46.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411673899503616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:25:46.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411673899503616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:25:46.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411673899503616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:25:46.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411673899503616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:25:46.970 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411673899503616 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:25:46.970 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411673899503616 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:25:46.971 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411673899503616 [0;39m <==    Columns: id, content
2023-05-14 02:25:46.971 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411673899503616 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:25:46.972 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411673899503616 [0;39m <==      Total: 1
2023-05-14 02:25:46.972 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411673899503616 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:25:46.972 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411673899503616 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:25:46.973 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411673899503616 [0;39m <==    Updates: 1
2023-05-14 02:25:46.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411673899503616 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:25:46.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411673899503616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:25:47.595 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:25:49.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411686448861184 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:25:49.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411686448861184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:25:49.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411686448861184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:25:49.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411686448861184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:25:49.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411686448861184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:25:49.963 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411686448861184 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:25:49.963 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411686448861184 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:25:49.964 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411686448861184 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:25:49.964 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411686448861184 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:25:49.965 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411686448861184 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:25:49.965 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411686448861184 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:25:49.965 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411686448861184 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:25:49.965 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411686448861184 [0;39m <==      Total: 4
2023-05-14 02:25:49.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411686448861184 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:25:49.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411686448861184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:25:51.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:26:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38411728597422080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:26:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411728597422080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:26:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411728597422080 [0;39m ==> Parameters: 
2023-05-14 02:26:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411728597422080 [0;39m <==    Updates: 0
2023-05-14 02:26:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38411728597422080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:26:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38411749552164864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:26:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411749552164864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:26:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411749552164864 [0;39m ==> Parameters: 
2023-05-14 02:26:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411749552164864 [0;39m <==    Updates: 1
2023-05-14 02:26:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38411749552164864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:26:13.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:26:14.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:26:17.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:26:19.414 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:26:32.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411866309005312 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:32.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411866309005312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:26:32.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411866309005312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:26:32.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411866309005312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:32.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411866309005312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:32.859 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411866309005312 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:26:32.859 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411866309005312 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:32.859 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411866309005312 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:26:32.859 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411866309005312 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 250, 7
2023-05-14 02:26:32.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411866309005312 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:26:32.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411866309005312 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:26:32.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411866309005312 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:26:32.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411866309005312 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:26:32.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411866309005312 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:26:32.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411866309005312 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:26:32.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411866309005312 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:26:32.864 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411866309005312 [0;39m <==      Total: 8
2023-05-14 02:26:32.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411866309005312 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":250,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:26:32.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411866309005312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-14 02:26:32.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411866397085696 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:32.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411866397085696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:26:32.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411866397085696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:26:32.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411866397085696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:32.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411866397085696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:32.864 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411866397085696 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:26:32.868 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411866397085696 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:32.868 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411866397085696 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:26:32.868 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411866397085696 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:26:32.868 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411866397085696 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:26:32.868 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411866397085696 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:26:32.868 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411866397085696 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:26:32.868 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411866397085696 [0;39m <==      Total: 4
2023-05-14 02:26:32.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411866397085696 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:26:32.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411866397085696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:26:32.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411866871042048 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:32.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411866871042048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:26:32.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411866871042048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:26:32.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411866871042048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:32.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411866871042048 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:32.979 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411866871042048 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:26:32.979 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411866871042048 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:32.981 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411866871042048 [0;39m <==    Columns: id, content
2023-05-14 02:26:32.981 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411866871042048 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:26:32.982 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411866871042048 [0;39m <==      Total: 1
2023-05-14 02:26:32.982 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411866871042048 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:26:32.983 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411866871042048 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:33.146 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411866871042048 [0;39m <==    Updates: 1
2023-05-14 02:26:33.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411866871042048 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:26:33.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411866871042048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š170 ms -------------
2023-05-14 02:26:34.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411871283449856 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:34.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411871283449856 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:26:34.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411871283449856 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:26:34.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411871283449856 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:34.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411871283449856 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:34.031 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411871283449856 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:26:34.031 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411871283449856 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:34.031 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411871283449856 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:26:34.032 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411871283449856 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:26:34.032 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411871283449856 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:26:34.032 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411871283449856 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:26:34.032 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411871283449856 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:26:34.032 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411871283449856 [0;39m <==      Total: 4
2023-05-14 02:26:34.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411871283449856 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:26:34.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411871283449856 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:26:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38411875389673472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:26:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411875389673472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:26:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411875389673472 [0;39m ==> Parameters: 
2023-05-14 02:26:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38411875389673472 [0;39m <==    Updates: 1
2023-05-14 02:26:35.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38411875389673472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-14 02:26:41.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411901142700032 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:41.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411901146894336 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:41.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411901142700032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:26:41.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411901146894336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:26:41.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411901142700032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:26:41.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411901146894336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:26:41.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411901142700032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:41.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411901146894336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:41.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411901142700032 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:41.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411901146894336 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:41.150 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411901146894336 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:26:41.150 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411901142700032 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:26:41.150 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411901146894336 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:41.150 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411901142700032 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:41.151 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411901146894336 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:26:41.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411901142700032 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:26:41.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411901142700032 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 251, 7
2023-05-14 02:26:41.151 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411901146894336 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:26:41.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411901142700032 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:26:41.151 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411901146894336 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:26:41.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411901142700032 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:26:41.151 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411901146894336 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:26:41.151 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411901146894336 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:26:41.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411901142700032 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:26:41.151 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411901146894336 [0;39m <==      Total: 4
2023-05-14 02:26:41.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411901142700032 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:26:41.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411901146894336 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:26:41.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411901142700032 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:26:41.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411901146894336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2023-05-14 02:26:41.152 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411901142700032 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:26:41.152 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411901142700032 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:26:41.152 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411901142700032 [0;39m <==      Total: 8
2023-05-14 02:26:41.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411901142700032 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":251,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:26:41.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411901142700032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:26:41.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411901344026624 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:41.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411901344026624 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:26:41.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411901344026624 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:26:41.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411901344026624 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:41.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411901344026624 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:41.197 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411901344026624 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:26:41.197 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411901344026624 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:41.198 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411901344026624 [0;39m <==    Columns: id, content
2023-05-14 02:26:41.199 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411901344026624 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:26:41.199 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411901344026624 [0;39m <==      Total: 1
2023-05-14 02:26:41.200 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411901344026624 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:26:41.200 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411901344026624 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:41.201 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411901344026624 [0;39m <==    Updates: 1
2023-05-14 02:26:41.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411901344026624 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:26:41.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411901344026624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:26:43.583 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:26:44.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:26:45.611 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:26:47.660 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:26:49.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:26:50.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411939843543040 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:50.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411939843543041 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:50.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411939843543040 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:26:50.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411939843543041 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:26:50.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411939843543040 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:26:50.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411939843543041 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:26:50.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411939843543040 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:50.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411939843543041 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:50.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411939843543040 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:50.377 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411939843543040 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:26:50.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411939843543041 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:50.378 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411939843543040 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:50.378 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411939843543041 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:26:50.379 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411939843543040 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:26:50.379 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411939843543041 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:50.379 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411939843543040 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 252, 7
2023-05-14 02:26:50.379 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411939843543040 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:26:50.379 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411939843543041 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:26:50.379 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411939843543040 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:26:50.379 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411939843543041 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:26:50.379 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411939843543040 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:26:50.379 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411939843543040 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:26:50.379 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411939843543041 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:26:50.379 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411939843543040 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:26:50.379 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411939843543041 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:26:50.379 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411939843543040 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:26:50.379 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411939843543041 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:26:50.379 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411939843543040 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:26:50.379 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411939843543041 [0;39m <==      Total: 4
2023-05-14 02:26:50.379 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411939843543040 [0;39m <==      Total: 8
2023-05-14 02:26:50.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411939843543041 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:26:50.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411939843543041 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:26:50.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411939843543040 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":252,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:26:50.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411939843543040 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:26:50.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411940002926592 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:50.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411940002926592 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:26:50.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411940002926592 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:26:50.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411940002926592 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:50.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411940002926592 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:50.419 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411940002926592 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:26:50.420 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411940002926592 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:50.420 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411940002926592 [0;39m <==    Columns: id, content
2023-05-14 02:26:50.420 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411940002926592 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:26:50.421 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411940002926592 [0;39m <==      Total: 1
2023-05-14 02:26:50.421 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411940002926592 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:26:50.421 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411940002926592 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:50.421 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411940002926592 [0;39m <==    Updates: 1
2023-05-14 02:26:50.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411940002926592 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:26:50.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411940002926592 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:26:51.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411945849786368 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:51.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411945849786368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:26:51.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411945849786368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:26:51.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411945849786368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:51.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411945849786368 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:51.809 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411945849786368 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:26:51.809 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411945849786368 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:51.809 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411945849786368 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:26:51.809 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411945849786368 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 253, 7
2023-05-14 02:26:51.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411945849786368 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:26:51.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411945849786368 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:26:51.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411945849786368 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:26:51.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411945849786368 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:26:51.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411945849786368 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:26:51.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411945849786368 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:26:51.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38411945849786368 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:26:51.811 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38411945849786368 [0;39m <==      Total: 8
2023-05-14 02:26:51.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411945849786368 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":253,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:26:51.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411945849786368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:26:51.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411945887535104 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:51.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411945887535104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:26:51.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411945887535104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:26:51.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411945887535104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:51.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411945887535104 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:51.817 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411945887535104 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:26:51.817 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411945887535104 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:51.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411945887535104 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:26:51.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411945887535104 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:26:51.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411945887535104 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:26:51.819 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411945887535104 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:26:51.819 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411945887535104 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:26:51.819 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411945887535104 [0;39m <==      Total: 4
2023-05-14 02:26:51.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411945887535104 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:26:51.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411945887535104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:26:51.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411946487320576 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:51.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411946487320576 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:26:51.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411946487320576 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:26:51.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411946487320576 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:51.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411946487320576 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:51.960 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411946487320576 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:26:51.961 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411946487320576 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:51.961 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411946487320576 [0;39m <==    Columns: id, content
2023-05-14 02:26:51.962 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38411946487320576 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:26:51.962 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38411946487320576 [0;39m <==      Total: 1
2023-05-14 02:26:51.962 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411946487320576 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:26:51.962 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411946487320576 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:51.991 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38411946487320576 [0;39m <==    Updates: 1
2023-05-14 02:26:52.004 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411946487320576 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:26:52.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411946487320576 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š46 ms -------------
2023-05-14 02:26:57.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38411971053359104 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:26:57.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38411971053359104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:26:57.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38411971053359104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:26:57.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38411971053359104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:26:57.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38411971053359104 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:26:57.817 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411971053359104 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:26:57.817 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411971053359104 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:26:57.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411971053359104 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:26:57.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411971053359104 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:26:57.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411971053359104 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:26:57.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411971053359104 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:26:57.818 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38411971053359104 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:26:57.819 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38411971053359104 [0;39m <==      Total: 4
2023-05-14 02:26:57.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38411971053359104 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:26:57.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38411971053359104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:27:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38411980222107648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:27:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411980222107648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:27:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411980222107648 [0;39m ==> Parameters: 
2023-05-14 02:27:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38411980222107648 [0;39m <==    Updates: 0
2023-05-14 02:27:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38411980222107648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 02:27:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38412001248153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412001248153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412001248153600 [0;39m ==> Parameters: 
2023-05-14 02:27:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412001248153600 [0;39m <==    Updates: 1
2023-05-14 02:27:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38412001248153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:27:05.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:27:07.653 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:27:12.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412033892421632 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412033892421632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412033892421632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412033892421632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412033892421632 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:12.800 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412033892421632 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:27:12.800 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412033892421632 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412033900810240 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:12.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412033892421632 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412033900810240 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:27:12.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412033892421632 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 254, 7
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412033900810240 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412033900810240 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:12.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412033892421632 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412033900810240 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:12.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412033892421632 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:27:12.800 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412033900810240 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:27:12.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412033892421632 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:27:12.800 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412033900810240 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:12.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412033892421632 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:27:12.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412033892421632 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:27:12.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412033900810240 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:27:12.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412033892421632 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:27:12.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412033892421632 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:27:12.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412033900810240 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:27:12.800 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412033892421632 [0;39m <==      Total: 8
2023-05-14 02:27:12.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412033900810240 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:27:12.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412033900810240 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412033892421632 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":254,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412033892421632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2023-05-14 02:27:12.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412033900810240 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:27:12.800 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412033900810240 [0;39m <==      Total: 4
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412033900810240 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:27:12.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412033900810240 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-14 02:27:12.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412033997279232 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:12.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412033997279232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:27:12.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412033997279232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:27:12.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412033997279232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:12.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412033997279232 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:12.823 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412033997279232 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:27:12.823 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412033997279232 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:12.823 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412033997279232 [0;39m <==    Columns: id, content
2023-05-14 02:27:12.823 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412033997279232 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:27:12.830 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412033997279232 [0;39m <==      Total: 1
2023-05-14 02:27:12.830 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412033997279232 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:27:12.830 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412033997279232 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:12.830 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412033997279232 [0;39m <==    Updates: 1
2023-05-14 02:27:12.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412033997279232 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:27:12.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412033997279232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 02:27:14.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:27:14.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412042205532160 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:14.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412042205532160 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:27:14.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412042205532160 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:27:14.781 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412042205532160 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:14.781 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412042205532160 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:14.781 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412042205532160 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:27:14.781 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412042205532160 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:14.782 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412042205532160 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:27:14.782 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412042205532160 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:27:14.782 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412042205532160 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:27:14.782 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412042205532160 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:27:14.782 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412042205532160 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:27:14.782 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412042205532160 [0;39m <==      Total: 4
2023-05-14 02:27:14.784 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412042205532160 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:27:14.784 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412042205532160 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:27:15.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:27:17.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:27:24.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412084593168384 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:24.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412084593168384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:27:24.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412084593168384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:27:24.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412084593168384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:24.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412084593168384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:24.891 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412084593168384 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:27:24.891 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412084593168384 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:24.891 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412084593168384 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:27:24.891 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412084593168384 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 255, 7
2023-05-14 02:27:24.891 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412084593168384 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:27:24.891 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412084593168384 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:27:24.891 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412084593168384 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:27:24.891 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412084593168384 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:27:24.891 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412084593168384 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:27:24.891 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412084593168384 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:27:24.891 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412084593168384 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:27:24.891 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412084593168384 [0;39m <==      Total: 8
2023-05-14 02:27:24.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412084593168384 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":255,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:27:24.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412084593168384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:27:24.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412084660277248 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:24.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412084660277248 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:27:24.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412084660277248 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:27:24.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412084660277248 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:24.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412084660277248 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:24.904 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412084660277248 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:27:24.904 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412084660277248 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:24.905 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412084660277248 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:27:24.905 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412084660277248 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:27:24.905 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412084660277248 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:27:24.906 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412084660277248 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:27:24.906 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412084660277248 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:27:24.906 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412084660277248 [0;39m <==      Total: 4
2023-05-14 02:27:24.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412084660277248 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:27:24.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412084660277248 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:27:24.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412084857409536 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:24.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412084857409536 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:27:24.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412084857409536 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:27:24.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412084857409536 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:24.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412084857409536 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:24.949 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412084857409536 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:27:24.949 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412084857409536 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:24.949 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412084857409536 [0;39m <==    Columns: id, content
2023-05-14 02:27:24.949 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412084857409536 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:27:24.949 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412084857409536 [0;39m <==      Total: 1
2023-05-14 02:27:24.949 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412084857409536 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:27:24.949 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412084857409536 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:24.956 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412084857409536 [0;39m <==    Updates: 1
2023-05-14 02:27:24.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412084857409536 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:27:24.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412084857409536 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 02:27:31.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:27:32.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412118302789632 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:32.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412118302789632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:27:32.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412118302789632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:27:32.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412118302789632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:32.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412118302789632 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:32.924 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412118302789632 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:27:32.925 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412118302789632 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:32.925 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412118302789632 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:27:32.926 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412118302789632 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:27:32.926 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412118302789632 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:27:32.926 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412118302789632 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:27:32.926 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412118302789632 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:27:32.926 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412118302789632 [0;39m <==      Total: 4
2023-05-14 02:27:32.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412118302789632 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:27:32.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412118302789632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:27:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38412127073079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412127073079296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412127073079296 [0;39m ==> Parameters: 
2023-05-14 02:27:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412127073079296 [0;39m <==    Updates: 1
2023-05-14 02:27:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38412127073079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:27:41.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412156173160448 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:41.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412156173160448 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:27:41.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412156173160448 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:27:41.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412156173160448 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:41.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412156173160448 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:41.954 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412156173160448 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:27:41.954 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412156173160448 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:41.955 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412156173160448 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:27:41.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412156185743360 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:41.955 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412156173160448 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 256, 7
2023-05-14 02:27:41.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412156185743360 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:27:41.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412156185743360 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:27:41.955 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412156173160448 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:27:41.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412156185743360 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:41.955 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412156173160448 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:27:41.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412156185743360 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:41.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412156173160448 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:27:41.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412156173160448 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:27:41.956 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412156185743360 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:27:41.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412156173160448 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:27:41.956 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412156185743360 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:41.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412156173160448 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:27:41.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412156173160448 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:27:41.956 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412156185743360 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:27:41.957 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412156173160448 [0;39m <==      Total: 8
2023-05-14 02:27:41.957 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412156185743360 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:27:41.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412156173160448 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":256,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:27:41.957 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412156185743360 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:27:41.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412156173160448 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:27:41.958 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412156185743360 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:27:41.958 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412156185743360 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:27:41.958 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412156185743360 [0;39m <==      Total: 4
2023-05-14 02:27:41.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412156185743360 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:27:41.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412156185743360 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:27:41.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412156315766784 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:41.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412156315766784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:27:41.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412156315766784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:27:41.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412156315766784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:41.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412156315766784 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:41.986 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412156315766784 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:27:41.995 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412156315766784 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:41.997 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412156315766784 [0;39m <==    Columns: id, content
2023-05-14 02:27:41.997 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412156315766784 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:27:41.997 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412156315766784 [0;39m <==      Total: 1
2023-05-14 02:27:41.998 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412156315766784 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:27:41.998 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412156315766784 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:41.999 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412156315766784 [0;39m <==    Updates: 1
2023-05-14 02:27:42.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412156315766784 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:27:42.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412156315766784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-14 02:27:44.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:27:45.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:27:47.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:27:51.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412197239590912 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:51.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412197239590912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:27:51.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412197239590912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:27:51.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412197239590912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:51.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412197239590912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:51.744 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412197239590912 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:27:51.744 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412197239590912 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:51.744 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412197239590912 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:27:51.744 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412197239590912 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 257, 7
2023-05-14 02:27:51.744 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412197239590912 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:27:51.744 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412197239590912 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:27:51.744 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412197239590912 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:27:51.744 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412197239590912 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:27:51.744 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412197239590912 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:27:51.744 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412197239590912 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:27:51.744 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412197239590912 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:27:51.744 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412197239590912 [0;39m <==      Total: 8
2023-05-14 02:27:51.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412197239590912 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":257,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:27:51.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412197239590912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š1 ms -------------
2023-05-14 02:27:51.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412197285728256 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:51.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412197285728256 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:27:51.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412197285728256 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:27:51.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412197285728256 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:51.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412197285728256 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:51.755 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412197285728256 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:27:51.755 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412197285728256 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:51.756 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412197285728256 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:27:51.756 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412197285728256 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:27:51.756 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412197285728256 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:27:51.756 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412197285728256 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:27:51.757 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412197285728256 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:27:51.757 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412197285728256 [0;39m <==      Total: 4
2023-05-14 02:27:51.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412197285728256 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:27:51.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412197285728256 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:27:51.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412197436723200 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:51.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412197436723200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:27:51.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412197436723200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:27:51.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412197436723200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:51.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412197436723200 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:51.791 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412197436723200 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:27:51.791 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412197436723200 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:51.792 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412197436723200 [0;39m <==    Columns: id, content
2023-05-14 02:27:51.793 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412197436723200 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:27:51.793 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412197436723200 [0;39m <==      Total: 1
2023-05-14 02:27:51.793 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412197436723200 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:27:51.793 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412197436723200 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:51.795 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412197436723200 [0;39m <==    Updates: 1
2023-05-14 02:27:51.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412197436723200 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:27:51.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412197436723200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:27:53.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412203069673472 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:27:53.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412203069673472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:27:53.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412203069673472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:27:53.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412203069673472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:27:53.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412203069673472 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:27:53.135 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412203069673472 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:27:53.135 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412203069673472 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:27:53.135 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412203069673472 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:27:53.136 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412203069673472 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:27:53.136 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412203069673472 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:27:53.136 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412203069673472 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:27:53.136 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412203069673472 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:27:53.136 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412203069673472 [0;39m <==      Total: 4
2023-05-14 02:27:53.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412203069673472 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:27:53.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412203069673472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:27:53.771 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:27:55.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:28:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38412231884541952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:28:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412231884541952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:28:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412231884541952 [0;39m ==> Parameters: 
2023-05-14 02:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412231884541952 [0;39m <==    Updates: 0
2023-05-14 02:28:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38412231884541952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 02:28:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38412252847673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:28:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412252847673344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:28:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412252847673344 [0;39m ==> Parameters: 
2023-05-14 02:28:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412252847673344 [0;39m <==    Updates: 1
2023-05-14 02:28:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38412252847673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-14 02:28:13.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412287677173761 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:28:13.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412287677173760 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:28:13.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412287677173761 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:28:13.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412287677173760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:28:13.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412287677173761 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:28:13.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412287677173760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:28:13.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412287677173761 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:28:13.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412287677173760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:28:13.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412287677173761 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:28:13.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412287677173760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:28:13.307 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412287677173760 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:28:13.307 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412287677173761 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:28:13.307 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412287677173760 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:28:13.307 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412287677173761 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:28:13.307 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412287677173760 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:28:13.307 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412287677173761 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:28:13.308 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412287677173760 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:28:13.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412287677173761 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 258, 7
2023-05-14 02:28:13.308 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412287677173760 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:28:13.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412287677173761 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:28:13.308 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412287677173760 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:28:13.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412287677173761 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:28:13.308 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412287677173760 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:28:13.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412287677173761 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:28:13.309 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412287677173760 [0;39m <==      Total: 4
2023-05-14 02:28:13.309 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412287677173761 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:28:13.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412287677173760 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:28:13.309 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412287677173761 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:28:13.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412287677173760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:28:13.309 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412287677173761 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:28:13.309 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412287677173761 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:28:13.309 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412287677173761 [0;39m <==      Total: 8
2023-05-14 02:28:13.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412287677173761 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":258,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:28:13.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412287677173761 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:28:13.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412287798808576 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:28:13.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412287798808576 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:28:13.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412287798808576 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:28:13.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412287798808576 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:28:13.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412287798808576 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:28:13.334 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412287798808576 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:28:13.334 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412287798808576 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:28:13.338 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412287798808576 [0;39m <==    Columns: id, content
2023-05-14 02:28:13.338 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412287798808576 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:28:13.339 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412287798808576 [0;39m <==      Total: 1
2023-05-14 02:28:13.339 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412287798808576 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:28:13.339 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412287798808576 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:28:13.341 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412287798808576 [0;39m <==    Updates: 1
2023-05-14 02:28:13.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412287798808576 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:28:13.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412287798808576 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 02:28:14.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:28:15.461 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:28:17.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:28:19.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:28:21.558 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:28:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38412378727124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:28:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412378727124992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:28:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412378727124992 [0;39m ==> Parameters: 
2023-05-14 02:28:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412378727124992 [0;39m <==    Updates: 1
2023-05-14 02:28:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38412378727124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:28:43.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:28:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:28:47.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:28:49.238 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38412483542781952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:29:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412483542781952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:29:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412483542781952 [0;39m ==> Parameters: 
2023-05-14 02:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412483542781952 [0;39m <==    Updates: 0
2023-05-14 02:29:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38412483542781952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:29:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38412504510107648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:29:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412504510107648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:29:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412504510107648 [0;39m ==> Parameters: 
2023-05-14 02:29:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412504510107648 [0;39m <==    Updates: 1
2023-05-14 02:29:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38412504510107648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:29:11.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:13.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:15.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:17.370 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:19.398 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38412630364393472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:29:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412630364393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:29:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412630364393472 [0;39m ==> Parameters: 
2023-05-14 02:29:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412630364393472 [0;39m <==    Updates: 1
2023-05-14 02:29:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38412630364393472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:29:37.370 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:43.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:44.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:47.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:29:59.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38412735205216256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:30:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412735205216256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:30:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412735205216256 [0;39m ==> Parameters: 
2023-05-14 02:30:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412735205216256 [0;39m <==    Updates: 0
2023-05-14 02:30:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38412735205216256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:30:01.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38412756180930560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:30:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412756180930560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:30:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412756180930560 [0;39m ==> Parameters: 
2023-05-14 02:30:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412756180930560 [0;39m <==    Updates: 1
2023-05-14 02:30:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38412756180930560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 02:30:13.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:14.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:17.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:21.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412826469076992 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:21.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412826469076992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:30:21.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412826469076993 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:21.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412826469076992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:30:21.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412826469076993 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:30:21.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412826469076992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:21.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412826469076993 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:30:21.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412826469076992 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:21.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412826469076993 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:21.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412826469076993 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:21.764 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412826469076992 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:30:21.764 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412826469076992 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:21.765 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412826469076993 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:30:21.765 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412826469076993 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:21.765 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412826469076992 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:30:21.765 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412826469076992 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:30:21.765 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412826469076993 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:30:21.765 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412826469076992 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:30:21.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412826469076993 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 259, 7
2023-05-14 02:30:21.766 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412826469076992 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:30:21.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412826469076993 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:30:21.766 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412826469076992 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:30:21.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412826469076993 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:30:21.766 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412826469076992 [0;39m <==      Total: 4
2023-05-14 02:30:21.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412826469076993 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:30:21.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412826469076992 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:30:21.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412826469076993 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:30:21.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412826469076992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:30:21.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412826469076993 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:30:21.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412826469076993 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:30:21.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412826469076993 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:30:21.767 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412826469076993 [0;39m <==      Total: 8
2023-05-14 02:30:21.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412826469076993 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":259,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:30:21.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412826469076993 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:30:21.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412826565545984 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:21.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412826565545984 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:30:21.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412826565545984 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:30:21.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412826565545984 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:21.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412826565545984 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:21.787 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412826565545984 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:30:21.787 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412826565545984 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:21.788 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412826565545984 [0;39m <==    Columns: id, content
2023-05-14 02:30:21.788 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412826565545984 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:30:21.789 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412826565545984 [0;39m <==      Total: 1
2023-05-14 02:30:21.789 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412826565545984 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:30:21.789 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412826565545984 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:21.791 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412826565545984 [0;39m <==    Updates: 1
2023-05-14 02:30:21.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412826565545984 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:30:21.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412826565545984 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:30:25.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:27.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412849181233152 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:27.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412849181233152 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:30:27.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412849181233152 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:30:27.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412849181233152 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:27.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412849181233152 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:27.179 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412849181233152 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:30:27.179 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412849181233152 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:27.180 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412849181233152 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:30:27.180 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412849181233152 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:30:27.180 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412849181233152 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:30:27.180 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412849181233152 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:30:27.180 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412849181233152 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:30:27.180 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412849181233152 [0;39m <==      Total: 4
2023-05-14 02:30:27.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412849181233152 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:30:27.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412849181233152 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:30:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38412881997467648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:30:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412881997467648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:30:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412881997467648 [0;39m ==> Parameters: 
2023-05-14 02:30:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38412881997467648 [0;39m <==    Updates: 1
2023-05-14 02:30:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38412881997467648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:30:35.926 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38412203069673472 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šVIWYmzIwfMï¼Œsession idï¼š26ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 02:30:36.670 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38412287677173760 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šc4LHmL8bllï¼Œsession idï¼š27ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 02:30:36.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412889685626881 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:36.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412889685626880 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:36.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412889685626881 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:30:36.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412889685626880 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:30:36.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412889685626881 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:30:36.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412889685626880 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:30:36.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412889685626881 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:36.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412889685626880 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:36.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412889685626881 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:36.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412889685626880 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:36.836 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412889685626881 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:30:36.837 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412889685626880 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:30:36.837 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412889685626881 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:36.837 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412889685626880 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:36.837 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412889685626880 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:30:36.837 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412889685626881 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:30:36.837 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412889685626880 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 260, 7
2023-05-14 02:30:36.838 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412889685626881 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:30:36.838 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412889685626880 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:30:36.838 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412889685626881 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:30:36.838 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412889685626880 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:30:36.838 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412889685626881 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:30:36.838 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412889685626880 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:30:36.838 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412889685626881 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:30:36.838 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412889685626880 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:30:36.838 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412889685626881 [0;39m <==      Total: 4
2023-05-14 02:30:36.838 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412889685626880 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:30:36.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412889685626881 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:30:36.839 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412889685626880 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:30:36.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412889685626881 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:30:36.839 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412889685626880 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:30:36.839 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412889685626880 [0;39m <==      Total: 8
2023-05-14 02:30:36.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412889685626880 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":260,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:30:36.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412889685626880 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:30:36.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412889815650304 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:36.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412889815650304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:30:36.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412889815650304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:30:36.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412889815650304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:36.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412889815650304 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:36.869 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412889815650304 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:30:36.869 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412889815650304 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:36.870 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412889815650304 [0;39m <==    Columns: id, content
2023-05-14 02:30:36.870 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412889815650304 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:30:36.870 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412889815650304 [0;39m <==      Total: 1
2023-05-14 02:30:36.871 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412889815650304 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:30:36.871 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412889815650304 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:36.874 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412889815650304 [0;39m <==    Updates: 1
2023-05-14 02:30:36.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412889815650304 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:30:36.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412889815650304 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-14 02:30:38.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412896492982272 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:38.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412896492982272 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:30:38.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412896492982272 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:30:38.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412896492982272 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:38.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412896492982272 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:38.459 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412896492982272 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:30:38.459 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412896492982272 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:38.459 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412896492982272 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:30:38.460 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412896492982272 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:30:38.460 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412896492982272 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:30:38.460 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412896492982272 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:30:38.460 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412896492982272 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:30:38.460 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412896492982272 [0;39m <==      Total: 4
2023-05-14 02:30:38.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412896492982272 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:30:38.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412896492982272 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:30:43.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:44.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:47.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:49.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:51.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:30:54.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412963719286784 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:54.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412963719286784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:30:54.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412963719286785 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:54.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412963719286784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:30:54.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412963719286785 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:30:54.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412963719286784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:54.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412963719286785 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:30:54.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412963719286784 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:54.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412963719286785 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:54.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412963719286785 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:54.488 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412963719286785 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:30:54.487 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412963719286784 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:30:54.488 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412963719286785 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:54.488 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412963719286784 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:54.488 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412963719286784 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:30:54.488 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412963719286785 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:30:54.489 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412963719286784 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 261, 7
2023-05-14 02:30:54.489 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412963719286785 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:30:54.489 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412963719286784 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:30:54.489 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412963719286785 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:30:54.489 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412963719286784 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:30:54.489 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412963719286785 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:30:54.489 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412963719286784 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:30:54.489 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412963719286785 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:30:54.489 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412963719286785 [0;39m <==      Total: 4
2023-05-14 02:30:54.489 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412963719286784 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:30:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412963719286785 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:30:54.490 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412963719286784 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:30:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412963719286785 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:30:54.490 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412963719286784 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:30:54.490 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38412963719286784 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:30:54.490 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38412963719286784 [0;39m <==      Total: 8
2023-05-14 02:30:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412963719286784 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":261,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:30:54.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412963719286784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:30:54.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412963874476032 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:54.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412963874476032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:30:54.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412963874476032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:30:54.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412963874476032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:54.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412963874476032 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:54.524 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412963874476032 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:30:54.524 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412963874476032 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:54.524 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412963874476032 [0;39m <==    Columns: id, content
2023-05-14 02:30:54.524 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38412963874476032 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:30:54.524 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38412963874476032 [0;39m <==      Total: 1
2023-05-14 02:30:54.524 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412963874476032 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:30:54.524 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412963874476032 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:54.529 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38412963874476032 [0;39m <==    Updates: 1
2023-05-14 02:30:54.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412963874476032 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:30:54.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412963874476032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:30:57.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38412977472409600 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:30:57.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38412977472409600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:30:57.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38412977472409600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:30:57.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38412977472409600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:30:57.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38412977472409600 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:30:57.766 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412977472409600 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:30:57.766 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412977472409600 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:30:57.767 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412977472409600 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:30:57.767 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412977472409600 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:30:57.767 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412977472409600 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:30:57.768 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412977472409600 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:30:57.768 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38412977472409600 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:30:57.768 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38412977472409600 [0;39m <==      Total: 4
2023-05-14 02:30:57.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38412977472409600 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:30:57.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38412977472409600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:31:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38412986892816384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:31:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412986892816384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:31:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412986892816384 [0;39m ==> Parameters: 
2023-05-14 02:31:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38412986892816384 [0;39m <==    Updates: 0
2023-05-14 02:31:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38412986892816384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 02:31:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38413007830781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:31:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413007830781952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:31:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413007830781952 [0;39m ==> Parameters: 
2023-05-14 02:31:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413007830781952 [0;39m <==    Updates: 1
2023-05-14 02:31:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38413007830781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-14 02:31:13.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:31:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:31:17.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:31:19.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:31:21.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413075946278912 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:31:21.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413075946278912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:31:21.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413075946278912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:31:21.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413075946278912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:31:21.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413075946278912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:31:21.245 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413075946278912 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:31:21.245 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413075946278912 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:31:21.246 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413075946278912 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:31:21.246 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413075946278912 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 262, 7
2023-05-14 02:31:21.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413075958861824 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:31:21.246 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413075946278912 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:31:21.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413075958861824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:31:21.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413075958861824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:31:21.246 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413075946278912 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:31:21.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413075958861824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:31:21.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413075946278912 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:31:21.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413075958861824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:31:21.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413075946278912 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:31:21.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413075946278912 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:31:21.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413075958861824 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:31:21.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413075946278912 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:31:21.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413075958861824 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:31:21.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413075946278912 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:31:21.247 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413075946278912 [0;39m <==      Total: 8
2023-05-14 02:31:21.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413075958861824 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:31:21.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413075946278912 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":262,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:31:21.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413075958861824 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:31:21.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413075946278912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:31:21.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413075958861824 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:31:21.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413075958861824 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:31:21.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413075958861824 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:31:21.250 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413075958861824 [0;39m <==      Total: 4
2023-05-14 02:31:21.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413075958861824 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:31:21.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413075958861824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:31:21.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413076109856768 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:31:21.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413076109856768 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:31:21.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413076109856768 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:31:21.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413076109856768 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:31:21.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413076109856768 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:31:21.283 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413076109856768 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:31:21.283 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413076109856768 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:31:21.284 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413076109856768 [0;39m <==    Columns: id, content
2023-05-14 02:31:21.284 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413076109856768 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:31:21.285 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413076109856768 [0;39m <==      Total: 1
2023-05-14 02:31:21.285 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413076109856768 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:31:21.285 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413076109856768 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:31:21.287 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413076109856768 [0;39m <==    Updates: 1
2023-05-14 02:31:21.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413076109856768 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:31:21.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413076109856768 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:31:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38413133714427904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:31:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413133714427904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:31:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413133714427904 [0;39m ==> Parameters: 
2023-05-14 02:31:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413133714427904 [0;39m <==    Updates: 1
2023-05-14 02:31:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38413133714427904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413156816654337 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413156816654336 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413156816654337 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413156816654336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413156816654337 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413156816654336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413156816654336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413156816654337 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413156816654336 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413156816654337 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:31:40.524 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413156816654336 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:31:40.524 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413156816654337 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:31:40.524 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413156816654336 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:31:40.524 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413156816654337 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:31:40.524 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413156816654336 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:31:40.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413156816654337 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:31:40.524 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413156816654336 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:31:40.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413156816654337 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 263, 7
2023-05-14 02:31:40.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413156816654337 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:31:40.524 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413156816654336 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:31:40.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413156816654337 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:31:40.524 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413156816654336 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:31:40.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413156816654337 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:31:40.524 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413156816654336 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:31:40.524 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413156816654336 [0;39m <==      Total: 4
2023-05-14 02:31:40.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413156816654337 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413156816654336 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:31:40.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413156816654337 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:31:40.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413156816654336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-14 02:31:40.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413156816654337 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:31:40.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413156816654337 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:31:40.529 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413156816654337 [0;39m <==      Total: 8
2023-05-14 02:31:40.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413156816654337 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":263,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:31:40.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413156816654337 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:31:40.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413157038952448 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:31:40.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413157038952448 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:31:40.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413157038952448 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:31:40.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413157038952448 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:31:40.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413157038952448 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:31:40.577 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413157038952448 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:31:40.577 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413157038952448 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:31:40.577 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413157038952448 [0;39m <==    Columns: id, content
2023-05-14 02:31:40.577 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413157038952448 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:31:40.577 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413157038952448 [0;39m <==      Total: 1
2023-05-14 02:31:40.577 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413157038952448 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:31:40.577 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413157038952448 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:31:40.582 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413157038952448 [0;39m <==    Updates: 1
2023-05-14 02:31:40.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413157038952448 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:31:40.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413157038952448 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:31:41.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:31:43.371 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:31:44.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:31:45.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:31:47.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:31:49.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:31:53.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413211086753792 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:31:53.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413211086753792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:31:53.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413211086753792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:31:53.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413211086753792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:31:53.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413211086753792 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:31:53.464 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413211086753792 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:31:53.465 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413211086753792 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:31:53.465 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413211086753792 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:31:53.465 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413211086753792 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:31:53.466 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413211086753792 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:31:53.466 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413211086753792 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:31:53.466 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413211086753792 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:31:53.466 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413211086753792 [0;39m <==      Total: 4
2023-05-14 02:31:53.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413211086753792 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:31:53.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413211086753792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:32:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38413238567833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:32:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413238567833600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:32:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413238567833600 [0;39m ==> Parameters: 
2023-05-14 02:32:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413238567833600 [0;39m <==    Updates: 0
2023-05-14 02:32:00.042 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38413238567833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2023-05-14 02:32:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38413259509993472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:32:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413259509993472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:32:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413259509993472 [0;39m ==> Parameters: 
2023-05-14 02:32:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413259509993472 [0;39m <==    Updates: 1
2023-05-14 02:32:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38413259509993472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-14 02:32:07.447 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:32:08.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413275418988545 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:08.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413275418988545 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:32:08.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413275418988545 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:32:08.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413275418988544 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:08.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413275418988544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:32:08.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413275418988544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:32:08.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413275418988545 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:08.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413275418988544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:08.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413275418988545 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:08.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413275418988544 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:08.803 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413275418988544 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:32:08.803 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413275418988545 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:32:08.804 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413275418988544 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:08.804 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413275418988545 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:08.804 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413275418988544 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:32:08.804 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413275418988545 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:32:08.804 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413275418988544 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:32:08.804 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413275418988545 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 264, 7
2023-05-14 02:32:08.805 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413275418988544 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:32:08.805 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413275418988545 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:32:08.805 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413275418988544 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:32:08.805 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413275418988545 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:32:08.805 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413275418988544 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:32:08.805 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413275418988545 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:32:08.805 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413275418988544 [0;39m <==      Total: 4
2023-05-14 02:32:08.805 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413275418988545 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:32:08.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413275418988544 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:32:08.805 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413275418988545 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:32:08.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413275418988544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:32:08.806 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413275418988545 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:32:08.806 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413275418988545 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:32:08.806 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413275418988545 [0;39m <==      Total: 8
2023-05-14 02:32:08.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413275418988545 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":264,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:32:08.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413275418988545 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:32:08.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413275565789184 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:08.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413275565789184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:32:08.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413275565789184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:32:08.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413275565789184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:08.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413275565789184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:08.837 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413275565789184 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:32:08.837 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413275565789184 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:08.838 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413275565789184 [0;39m <==    Columns: id, content
2023-05-14 02:32:08.838 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413275565789184 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:32:08.838 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413275565789184 [0;39m <==      Total: 1
2023-05-14 02:32:08.838 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413275565789184 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:32:08.838 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413275565789184 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:08.840 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413275565789184 [0;39m <==    Updates: 1
2023-05-14 02:32:08.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413275565789184 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:32:08.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413275565789184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:32:13.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:32:14.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:32:14.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413299599151104 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:14.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413299599151104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:32:14.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413299599151104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:32:14.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413299599151104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:14.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413299599151104 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:14.567 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413299599151104 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:32:14.567 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413299599151104 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:14.568 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413299599151104 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:32:14.568 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413299599151104 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:32:14.568 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413299599151104 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:32:14.568 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413299599151104 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:32:14.568 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413299599151104 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:32:14.568 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413299599151104 [0;39m <==      Total: 4
2023-05-14 02:32:14.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413299599151104 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:32:14.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413299599151104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:32:15.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:32:17.152 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:32:30.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413365843988480 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:30.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413365843988481 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:30.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413365843988481 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:32:30.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413365843988481 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:32:30.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413365843988481 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:30.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413365843988480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:32:30.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413365843988481 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:30.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413365843988480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:32:30.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413365843988480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:30.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413365843988480 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:30.361 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413365843988481 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:32:30.362 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413365843988481 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:30.362 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413365843988480 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:32:30.362 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413365843988480 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:30.362 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413365843988481 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:32:30.362 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413365843988481 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:32:30.363 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413365843988481 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:32:30.363 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413365843988480 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:32:30.363 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413365843988481 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:32:30.363 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413365843988480 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 265, 7
2023-05-14 02:32:30.363 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413365843988481 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:32:30.363 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413365843988480 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:32:30.363 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413365843988481 [0;39m <==      Total: 4
2023-05-14 02:32:30.363 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413365843988480 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:32:30.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413365843988481 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:32:30.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413365843988481 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:32:30.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413365843988480 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:32:30.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413365843988480 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:32:30.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413365843988480 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:32:30.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413365843988480 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:32:30.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413365843988480 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:32:30.365 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413365843988480 [0;39m <==      Total: 8
2023-05-14 02:32:30.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413365843988480 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":265,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:32:30.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413365843988480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:32:30.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413365965623296 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:30.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413365965623296 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:32:30.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413365965623296 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:32:30.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413365965623296 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:30.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413365965623296 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:30.390 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413365965623296 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:32:30.393 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413365965623296 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:30.395 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413365965623296 [0;39m <==    Columns: id, content
2023-05-14 02:32:30.395 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413365965623296 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:32:30.395 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413365965623296 [0;39m <==      Total: 1
2023-05-14 02:32:30.395 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413365965623296 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:32:30.396 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413365965623296 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:30.403 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413365965623296 [0;39m <==    Updates: 1
2023-05-14 02:32:30.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413365965623296 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:32:30.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413365965623296 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-14 02:32:31.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:32:32.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413376287805440 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:32.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413376287805440 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:32:32.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413376287805440 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:32:32.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413376287805440 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:32.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413376287805440 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:32.851 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413376287805440 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:32:32.851 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413376287805440 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:32.852 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413376287805440 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:32:32.852 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413376287805440 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:32:32.852 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413376287805440 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:32:32.852 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413376287805440 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:32:32.852 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413376287805440 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:32:32.853 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413376287805440 [0;39m <==      Total: 4
2023-05-14 02:32:32.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413376287805440 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:32:32.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413376287805440 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:32:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38413385343307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:32:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413385343307776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:32:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413385343307776 [0;39m ==> Parameters: 
2023-05-14 02:32:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413385343307776 [0;39m <==    Updates: 1
2023-05-14 02:32:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38413385343307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:32:41.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413412954411009 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:41.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413412954411009 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:32:41.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413412954411008 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:41.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413412954411009 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:32:41.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413412954411008 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:32:41.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413412954411009 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:41.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413412954411008 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:32:41.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413412954411009 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:41.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413412954411008 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:41.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413412954411008 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:41.594 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413412954411009 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:32:41.594 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413412954411009 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:41.594 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413412954411008 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:32:41.594 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413412954411008 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:41.594 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413412954411008 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:32:41.594 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413412954411008 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 266, 7
2023-05-14 02:32:41.596 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413412954411008 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:32:41.596 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413412954411009 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:32:41.596 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413412954411008 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:32:41.596 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413412954411009 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:32:41.596 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413412954411008 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:32:41.596 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413412954411009 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:32:41.596 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413412954411008 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:32:41.596 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413412954411009 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:32:41.597 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413412954411009 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:32:41.597 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413412954411008 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:32:41.597 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413412954411009 [0;39m <==      Total: 4
2023-05-14 02:32:41.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413412954411009 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:32:41.597 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413412954411008 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:32:41.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413412954411009 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:32:41.597 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413412954411008 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:32:41.597 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413412954411008 [0;39m <==      Total: 8
2023-05-14 02:32:41.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413412954411008 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":266,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:32:41.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413412954411008 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:32:41.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413413059268608 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:41.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413413059268608 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:32:41.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413413059268608 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:32:41.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413413059268608 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:41.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413413059268608 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:41.618 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413413059268608 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:32:41.619 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413413059268608 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:41.619 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413413059268608 [0;39m <==    Columns: id, content
2023-05-14 02:32:41.620 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413413059268608 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:32:41.620 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413413059268608 [0;39m <==      Total: 1
2023-05-14 02:32:41.620 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413413059268608 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:32:41.620 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413413059268608 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:41.622 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413413059268608 [0;39m <==    Updates: 1
2023-05-14 02:32:41.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413413059268608 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:32:41.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413413059268608 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:32:42.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413418524446720 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:32:42.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413418524446720 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:32:42.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413418524446720 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:32:42.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413418524446720 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:32:42.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413418524446720 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:32:42.921 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413418524446720 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:32:42.922 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413418524446720 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:32:42.922 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413418524446720 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:32:42.923 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413418524446720 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:32:42.923 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413418524446720 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:32:42.924 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413418524446720 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:32:42.924 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413418524446720 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:32:42.924 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413418524446720 [0;39m <==      Total: 4
2023-05-14 02:32:42.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413418524446720 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:32:42.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413418524446720 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:32:43.094 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:32:44.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:32:45.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:32:47.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:32:55.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38413490209296384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:33:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413490209296384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:33:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413490209296384 [0;39m ==> Parameters: 
2023-05-14 02:33:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413490209296384 [0;39m <==    Updates: 0
2023-05-14 02:33:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38413490209296384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-14 02:33:02.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413501156429824 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:33:02.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413501156429824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:33:02.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413501156429824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:33:02.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413501156429824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:33:02.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413501156429824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:33:02.623 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413501156429824 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:33:02.623 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413501156429824 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:02.624 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413501156429824 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:33:02.625 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413501156429824 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 267, 7
2023-05-14 02:33:02.625 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413501156429824 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:33:02.625 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413501156429824 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:33:02.625 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413501156429824 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:33:02.625 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413501156429824 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:33:02.626 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413501156429824 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:33:02.626 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413501156429824 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:33:02.626 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413501156429824 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:33:02.626 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413501156429824 [0;39m <==      Total: 8
2023-05-14 02:33:02.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413501156429824 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":267,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:33:02.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413501156429824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:33:02.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413501198372864 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:33:02.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413501198372864 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:33:02.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413501198372864 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:33:02.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413501198372864 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:33:02.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413501198372864 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:33:02.632 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413501198372864 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:33:02.632 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413501198372864 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:02.633 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413501198372864 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:33:02.633 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413501198372864 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:33:02.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413501198372864 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:33:02.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413501198372864 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:33:02.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413501198372864 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:33:02.634 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413501198372864 [0;39m <==      Total: 4
2023-05-14 02:33:02.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413501198372864 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:33:02.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413501198372864 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:33:02.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413501441642496 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:33:02.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413501441642496 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:33:02.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413501441642496 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:33:02.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413501441642496 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:33:02.690 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413501441642496 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:33:02.690 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413501441642496 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:33:02.690 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413501441642496 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:02.691 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413501441642496 [0;39m <==    Columns: id, content
2023-05-14 02:33:02.692 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413501441642496 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:33:02.692 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413501441642496 [0;39m <==      Total: 1
2023-05-14 02:33:02.692 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413501441642496 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:33:02.692 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413501441642496 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:02.699 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413501441642496 [0;39m <==    Updates: 1
2023-05-14 02:33:02.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413501441642496 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:33:02.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413501441642496 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-14 02:33:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38413511193399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:33:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413511193399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:33:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413511193399296 [0;39m ==> Parameters: 
2023-05-14 02:33:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413511193399296 [0;39m <==    Updates: 1
2023-05-14 02:33:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38413511193399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:33:10.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413532471103488 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:33:10.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413532471103488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:33:10.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413532471103488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:33:10.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413532471103488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:33:10.088 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413532471103488 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:33:10.088 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413532471103488 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:33:10.088 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413532471103488 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:10.088 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413532471103488 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:33:10.090 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413532471103488 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:33:10.090 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413532471103488 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:33:10.090 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413532471103488 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:33:10.090 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413532471103488 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:33:10.090 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413532471103488 [0;39m <==      Total: 4
2023-05-14 02:33:10.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413532471103488 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:33:10.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413532471103488 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:33:13.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:14.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:15.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:17.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:19.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:21.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:30.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413616902443008 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:33:30.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413616902443008 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:33:30.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413616902443008 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:33:30.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413616902443008 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:33:30.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413616902443008 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:33:30.218 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413616902443008 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:33:30.218 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413616902443008 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:30.219 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413616902443008 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:33:30.219 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413616902443008 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:33:30.219 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413616902443008 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:33:30.219 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413616902443008 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:33:30.219 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413616902443008 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:33:30.219 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413616902443008 [0;39m <==      Total: 4
2023-05-14 02:33:30.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413616902443008 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:33:30.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413616902443008 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:33:33.385 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38413376287805440 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šc4LHmL8bllï¼Œsession idï¼š27ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 02:33:33.862 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38413412954411009 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šNeo9GxxWmNï¼Œsession idï¼š28ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 02:33:33.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413632425562112 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:33:33.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413632429756416 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:33:33.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413632425562112 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:33:33.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413632429756416 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:33:33.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413632425562112 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:33:33.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413632429756416 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:33:33.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413632429756416 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:33:33.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413632425562112 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:33:33.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413632429756416 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:33:33.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413632425562112 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:33:33.920 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413632429756416 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:33:33.920 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413632429756416 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:33.921 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413632425562112 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:33:33.921 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413632425562112 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:33.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413632429756416 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:33:33.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413632429756416 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:33:33.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413632429756416 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:33:33.921 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413632425562112 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:33:33.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413632429756416 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:33:33.921 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413632425562112 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 268, 7
2023-05-14 02:33:33.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413632429756416 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:33:33.921 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413632425562112 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:33:33.921 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413632429756416 [0;39m <==      Total: 4
2023-05-14 02:33:33.922 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413632425562112 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:33:33.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413632429756416 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:33:33.922 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413632425562112 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:33:33.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413632429756416 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:33:33.922 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413632425562112 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:33:33.922 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413632425562112 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:33:33.922 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413632425562112 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:33:33.922 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38413632425562112 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:33:33.922 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38413632425562112 [0;39m <==      Total: 8
2023-05-14 02:33:33.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413632425562112 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":268,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:33:33.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413632425562112 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:33:33.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413632656248832 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:33:33.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413632656248832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:33:33.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413632656248832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:33:33.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413632656248832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:33:33.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413632656248832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:33:33.974 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413632656248832 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:33:33.975 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413632656248832 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:33.976 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413632656248832 [0;39m <==    Columns: id, content
2023-05-14 02:33:33.976 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38413632656248832 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:33:33.978 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38413632656248832 [0;39m <==      Total: 1
2023-05-14 02:33:33.978 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413632656248832 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:33:33.978 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413632656248832 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:33.985 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38413632656248832 [0;39m <==    Updates: 1
2023-05-14 02:33:33.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413632656248832 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:33:33.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413632656248832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-14 02:33:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38413637035102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:33:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413637035102208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:33:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413637035102208 [0;39m ==> Parameters: 
2023-05-14 02:33:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413637035102208 [0;39m <==    Updates: 1
2023-05-14 02:33:35.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38413637035102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-14 02:33:35.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413640231161856 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:33:35.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413640231161856 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:33:35.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413640231161856 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:33:35.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413640231161856 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:33:35.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413640231161856 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:33:35.780 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413640231161856 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:33:35.780 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413640231161856 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:35.780 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413640231161856 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:33:35.782 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413640231161856 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:33:35.782 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413640231161856 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:33:35.782 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413640231161856 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:33:35.782 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413640231161856 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:33:35.782 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413640231161856 [0;39m <==      Total: 4
2023-05-14 02:33:35.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413640231161856 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:33:35.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413640231161856 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:33:43.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:44.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:45.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:47.141 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:49.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:33:52.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38413711857291264 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:33:52.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38413711857291264 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:33:52.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38413711857291264 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:33:52.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38413711857291264 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:33:52.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38413711857291264 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:33:52.857 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413711857291264 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:33:52.857 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413711857291264 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:33:52.858 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413711857291264 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:33:52.858 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413711857291264 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:33:52.858 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413711857291264 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:33:52.858 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413711857291264 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:33:52.859 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38413711857291264 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:33:52.859 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38413711857291264 [0;39m <==      Total: 4
2023-05-14 02:33:52.859 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38413711857291264 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:33:52.859 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38413711857291264 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:34:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38413741880119296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:34:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413741880119296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:34:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413741880119296 [0;39m ==> Parameters: 
2023-05-14 02:34:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413741880119296 [0;39m <==    Updates: 0
2023-05-14 02:34:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38413741880119296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 02:34:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38413762797113344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:34:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413762797113344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:34:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413762797113344 [0;39m ==> Parameters: 
2023-05-14 02:34:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413762797113344 [0;39m <==    Updates: 1
2023-05-14 02:34:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38413762797113344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:34:11.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:34:13.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:34:14.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:34:19.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:34:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38413888626233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:34:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413888626233344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:34:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413888626233344 [0;39m ==> Parameters: 
2023-05-14 02:34:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38413888626233344 [0;39m <==    Updates: 1
2023-05-14 02:34:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38413888626233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:34:37.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:34:43.092 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:34:44.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:34:45.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:34:47.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38413993538359296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:35:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413993538359296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:35:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413993538359296 [0;39m ==> Parameters: 
2023-05-14 02:35:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38413993538359296 [0;39m <==    Updates: 0
2023-05-14 02:35:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38413993538359296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 02:35:01.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38414014455353344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:35:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414014455353344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:35:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414014455353344 [0;39m ==> Parameters: 
2023-05-14 02:35:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414014455353344 [0;39m <==    Updates: 1
2023-05-14 02:35:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38414014455353344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:35:13.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:15.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:17.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:23.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:25.469 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38414140297056256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:35:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414140297056256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:35:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414140297056256 [0;39m ==> Parameters: 
2023-05-14 02:35:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414140297056256 [0;39m <==    Updates: 1
2023-05-14 02:35:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38414140297056256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 02:35:38.810 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38413616902443008 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šNeo9GxxWmNï¼Œsession idï¼š28ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-14 02:35:39.218 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38413376287805440 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šol8orj0urrï¼Œsession idï¼š29ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-14 02:35:39.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38414158194151425 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:35:39.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38414158194151424 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:35:39.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38414158194151425 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:35:39.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38414158194151424 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:35:39.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38414158194151425 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:35:39.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38414158194151424 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:35:39.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38414158194151424 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:35:39.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38414158194151425 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:35:39.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38414158194151424 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:35:39.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38414158194151425 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:35:39.273 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414158194151424 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:35:39.273 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38414158194151425 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:35:39.273 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414158194151424 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:35:39.273 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38414158194151425 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:35:39.273 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414158194151424 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:35:39.275 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414158194151425 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:35:39.275 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414158194151424 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:35:39.275 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414158194151425 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 269, 7
2023-05-14 02:35:39.275 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414158194151424 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:35:39.275 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414158194151425 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:35:39.275 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414158194151424 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:35:39.275 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414158194151425 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:35:39.276 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414158194151424 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:35:39.276 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414158194151425 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:35:39.276 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414158194151424 [0;39m <==      Total: 4
2023-05-14 02:35:39.276 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414158194151425 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:35:39.276 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38414158194151424 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:35:39.276 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38414158194151424 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:35:39.276 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414158194151425 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:35:39.276 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414158194151425 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:35:39.276 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414158194151425 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:35:39.277 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38414158194151425 [0;39m <==      Total: 8
2023-05-14 02:35:39.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38414158194151425 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":269,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:35:39.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38414158194151425 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-14 02:35:39.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38414158429032448 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:35:39.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38414158429032448 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:35:39.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38414158429032448 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:35:39.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38414158429032448 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:35:39.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38414158429032448 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:35:39.328 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38414158429032448 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:35:39.328 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38414158429032448 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:35:39.330 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38414158429032448 [0;39m <==    Columns: id, content
2023-05-14 02:35:39.330 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38414158429032448 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:35:39.330 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38414158429032448 [0;39m <==      Total: 1
2023-05-14 02:35:39.331 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38414158429032448 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:35:39.331 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38414158429032448 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:35:39.334 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38414158429032448 [0;39m <==    Updates: 1
2023-05-14 02:35:39.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38414158429032448 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:35:39.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38414158429032448 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:35:40.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38414164829540352 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:35:40.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38414164829540352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:35:40.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38414164829540352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:35:40.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38414164829540352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:35:40.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38414164829540352 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:35:40.854 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414164829540352 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:35:40.854 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414164829540352 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:35:40.855 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414164829540352 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:35:40.855 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414164829540352 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:35:40.855 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414164829540352 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:35:40.855 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414164829540352 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:35:40.856 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414164829540352 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:35:40.856 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414164829540352 [0;39m <==      Total: 4
2023-05-14 02:35:40.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38414164829540352 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:35:40.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38414164829540352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:35:43.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:44.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:47.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:49.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:35:51.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:36:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38414245196599296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:36:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38414245196599296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:36:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38414245196599296 [0;39m ==> Parameters: 
2023-05-14 02:36:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38414245196599296 [0;39m <==    Updates: 0
2023-05-14 02:36:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38414245196599296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:36:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38414266142953472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:36:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414266142953472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:36:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414266142953472 [0;39m ==> Parameters: 
2023-05-14 02:36:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414266142953472 [0;39m <==    Updates: 1
2023-05-14 02:36:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38414266142953472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 02:36:14.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:36:15.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:36:17.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:36:19.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:36:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38414391959490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:36:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414391959490560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:36:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414391959490560 [0;39m ==> Parameters: 
2023-05-14 02:36:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414391959490560 [0;39m <==    Updates: 1
2023-05-14 02:36:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38414391959490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:36:41.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:36:43.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:36:44.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:36:45.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:36:49.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38414496829673472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:37:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38414496829673472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:37:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38414496829673472 [0;39m ==> Parameters: 
2023-05-14 02:37:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38414496829673472 [0;39m <==    Updates: 0
2023-05-14 02:37:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38414496829673472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-14 02:37:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38414517776027648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:37:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414517776027648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:37:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414517776027648 [0;39m ==> Parameters: 
2023-05-14 02:37:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414517776027648 [0;39m <==    Updates: 1
2023-05-14 02:37:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38414517776027648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:37:05.314 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:07.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:13.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:14.440 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:17.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:19.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38414576747941889 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:37:19.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38414576747941888 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:37:19.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38414576747941889 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:37:19.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38414576747941888 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:37:19.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38414576747941889 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:37:19.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38414576747941888 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:37:19.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38414576747941889 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:37:19.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38414576747941888 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:37:19.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38414576747941889 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:37:19.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38414576747941888 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:37:19.063 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414576747941889 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:37:19.064 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38414576747941888 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:37:19.064 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414576747941889 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:37:19.064 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38414576747941888 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:37:19.064 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414576747941889 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:37:19.064 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414576747941888 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:37:19.064 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414576747941889 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:37:19.064 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414576747941888 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 270, 7
2023-05-14 02:37:19.065 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414576747941889 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:37:19.065 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414576747941888 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:37:19.065 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414576747941889 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:37:19.065 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414576747941888 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:37:19.065 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414576747941889 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:37:19.065 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414576747941888 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:37:19.065 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414576747941889 [0;39m <==      Total: 4
2023-05-14 02:37:19.065 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414576747941888 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:37:19.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38414576747941889 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:37:19.065 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414576747941888 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:37:19.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38414576747941889 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:37:19.066 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414576747941888 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:37:19.066 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414576747941888 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:37:19.066 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38414576747941888 [0;39m <==      Total: 8
2023-05-14 02:37:19.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38414576747941888 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":270,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:37:19.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38414576747941888 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:37:19.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38414577138012160 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:37:19.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38414577138012160 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:37:19.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38414577138012160 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:37:19.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38414577138012160 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:37:19.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38414577138012160 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:37:19.155 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38414577138012160 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:37:19.155 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38414577138012160 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:37:19.157 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38414577138012160 [0;39m <==    Columns: id, content
2023-05-14 02:37:19.157 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38414577138012160 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:37:19.157 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38414577138012160 [0;39m <==      Total: 1
2023-05-14 02:37:19.157 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38414577138012160 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:37:19.157 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38414577138012160 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:37:19.157 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38414577138012160 [0;39m <==    Updates: 1
2023-05-14 02:37:19.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38414577138012160 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:37:19.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38414577138012160 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2023-05-14 02:37:28.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38414615515893760 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:37:28.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38414615515893760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:37:28.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38414615515893760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:37:28.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38414615515893760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:37:28.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38414615515893760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:37:28.307 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38414615515893760 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:37:28.307 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38414615515893760 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:37:28.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414615515893760 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:37:28.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414615515893760 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 271, 7
2023-05-14 02:37:28.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414615515893760 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:37:28.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414615515893760 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:37:28.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414615515893760 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:37:28.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414615515893760 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:37:28.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414615515893760 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:37:28.309 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414615515893760 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:37:28.309 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38414615515893760 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:37:28.309 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38414615515893760 [0;39m <==      Total: 8
2023-05-14 02:37:28.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38414615515893760 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":271,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:37:28.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38414615515893760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:37:28.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38414615570419712 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:37:28.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38414615570419712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:37:28.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38414615570419712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:37:28.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38414615570419712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:37:28.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38414615570419712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:37:28.319 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414615570419712 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:37:28.319 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414615570419712 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:37:28.319 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414615570419712 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:37:28.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414615570419712 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:37:28.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414615570419712 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:37:28.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414615570419712 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:37:28.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38414615570419712 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:37:28.321 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38414615570419712 [0;39m <==      Total: 4
2023-05-14 02:37:28.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38414615570419712 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:37:28.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38414615570419712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:37:28.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38414615692054528 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:37:28.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38414615692054528 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:37:28.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38414615692054528 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:37:28.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38414615692054528 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:37:28.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38414615692054528 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:37:28.352 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38414615692054528 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:37:28.352 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38414615692054528 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:37:28.352 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38414615692054528 [0;39m <==    Columns: id, content
2023-05-14 02:37:28.352 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38414615692054528 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:37:28.352 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38414615692054528 [0;39m <==      Total: 1
2023-05-14 02:37:28.352 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38414615692054528 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:37:28.352 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38414615692054528 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:37:28.352 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38414615692054528 [0;39m <==    Updates: 1
2023-05-14 02:37:28.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38414615692054528 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:37:28.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38414615692054528 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:37:29.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:31.428 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38414643613536256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:37:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414643613536256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:37:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414643613536256 [0;39m ==> Parameters: 
2023-05-14 02:37:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414643613536256 [0;39m <==    Updates: 1
2023-05-14 02:37:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38414643613536256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-14 02:37:43.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:44.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:45.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:47.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:53.447 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:37:55.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38414748487913472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:38:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38414748487913472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:38:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38414748487913472 [0;39m ==> Parameters: 
2023-05-14 02:38:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38414748487913472 [0;39m <==    Updates: 0
2023-05-14 02:38:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38414748487913472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-14 02:38:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38414769484599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:38:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414769484599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:38:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414769484599296 [0;39m ==> Parameters: 
2023-05-14 02:38:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414769484599296 [0;39m <==    Updates: 1
2023-05-14 02:38:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38414769484599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:38:13.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:14.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:15.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:17.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:19.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:21.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38414895288553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:38:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414895288553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:38:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414895288553472 [0;39m ==> Parameters: 
2023-05-14 02:38:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38414895288553472 [0;39m <==    Updates: 1
2023-05-14 02:38:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38414895288553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:38:43.096 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:44.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:45.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:47.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:38:49.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38415000120987648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:39:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415000120987648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:39:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415000120987648 [0;39m ==> Parameters: 
2023-05-14 02:39:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415000120987648 [0;39m <==    Updates: 0
2023-05-14 02:39:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38415000120987648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:39:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38415021100896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:39:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415021100896256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:39:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415021100896256 [0;39m ==> Parameters: 
2023-05-14 02:39:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415021100896256 [0;39m <==    Updates: 1
2023-05-14 02:39:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38415021100896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:39:11.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:13.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:14.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:17.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:19.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38415146976153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:39:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415146976153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:39:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415146976153600 [0;39m ==> Parameters: 
2023-05-14 02:39:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415146976153600 [0;39m <==    Updates: 1
2023-05-14 02:39:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38415146976153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:39:35.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:37.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:43.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:45.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:39:47.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38415251775033344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:40:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415251775033344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:40:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415251775033344 [0;39m ==> Parameters: 
2023-05-14 02:40:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415251775033344 [0;39m <==    Updates: 0
2023-05-14 02:40:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38415251775033344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:40:01.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38415272796884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:40:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415272796884992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:40:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415272796884992 [0;39m ==> Parameters: 
2023-05-14 02:40:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415272796884992 [0;39m <==    Updates: 1
2023-05-14 02:40:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38415272796884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-14 02:40:11.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415299409743872 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:40:11.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415299409743873 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:40:11.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415299409743872 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:40:11.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415299409743873 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:40:11.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415299409743872 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:40:11.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415299409743873 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:40:11.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415299409743873 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:40:11.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415299409743873 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:40:11.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415299409743872 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:40:11.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415299409743872 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:40:11.360 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415299409743873 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:40:11.360 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415299409743872 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:40:11.360 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415299409743873 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:40:11.360 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415299409743872 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:40:11.361 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415299409743873 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:40:11.361 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415299409743872 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:40:11.361 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415299409743872 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 272, 7
2023-05-14 02:40:11.361 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415299409743873 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:40:11.361 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415299409743872 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:40:11.361 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415299409743873 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:40:11.361 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415299409743872 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:40:11.361 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415299409743873 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:40:11.362 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415299409743872 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:40:11.362 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415299409743873 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:40:11.362 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415299409743872 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:40:11.362 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415299409743873 [0;39m <==      Total: 4
2023-05-14 02:40:11.362 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415299409743872 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:40:11.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415299409743873 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:40:11.362 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415299409743872 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:40:11.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415299409743873 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:40:11.362 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415299409743872 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:40:11.363 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415299409743872 [0;39m <==      Total: 8
2023-05-14 02:40:11.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415299409743872 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":272,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:40:11.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415299409743872 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:40:11.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415299581710336 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:40:11.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415299581710336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:40:11.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415299581710336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:40:11.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415299581710336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:40:11.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415299581710336 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:40:11.399 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415299581710336 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:40:11.399 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415299581710336 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:40:11.399 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38415299581710336 [0;39m <==    Columns: id, content
2023-05-14 02:40:11.399 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38415299581710336 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:40:11.399 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415299581710336 [0;39m <==      Total: 1
2023-05-14 02:40:11.402 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415299581710336 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:40:11.402 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415299581710336 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:40:11.408 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415299581710336 [0;39m <==    Updates: 1
2023-05-14 02:40:11.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415299581710336 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:40:11.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415299581710336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 02:40:13.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415306867216384 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:40:13.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415306867216384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:40:13.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415306867216384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:40:13.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415306867216384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:40:13.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415306867216384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:40:13.137 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415306867216384 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:40:13.137 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415306867216384 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:40:13.137 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415306867216384 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:40:13.137 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415306867216384 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:40:13.138 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415306867216384 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:40:13.138 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415306867216384 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:40:13.138 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415306867216384 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:40:13.138 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415306867216384 [0;39m <==      Total: 4
2023-05-14 02:40:13.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415306867216384 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:40:13.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415306867216384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2023-05-14 02:40:14.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:15.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:17.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:23.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:25.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38415398571479040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:40:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415398571479040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:40:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415398571479040 [0;39m ==> Parameters: 
2023-05-14 02:40:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415398571479040 [0;39m <==    Updates: 1
2023-05-14 02:40:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38415398571479040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 02:40:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:45.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:47.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:49.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:51.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:40:56.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415489977946112 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:40:56.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415489977946113 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:40:56.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415489977946112 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:40:56.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415489977946113 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:40:56.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415489977946113 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:40:56.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415489977946113 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:40:56.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415489977946112 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:40:56.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415489977946113 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:40:56.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415489977946112 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:40:56.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415489977946112 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:40:56.795 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415489977946113 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:40:56.795 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415489977946113 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:40:56.795 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415489977946112 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:40:56.795 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415489977946112 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:40:56.796 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415489977946113 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:40:56.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415489977946112 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:40:56.796 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415489977946113 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:40:56.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415489977946112 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 273, 7
2023-05-14 02:40:56.796 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415489977946113 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:40:56.796 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415489977946113 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:40:56.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415489977946112 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:40:56.797 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415489977946113 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:40:56.797 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415489977946113 [0;39m <==      Total: 4
2023-05-14 02:40:56.797 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415489977946112 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:40:56.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415489977946113 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:40:56.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415489977946113 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:40:56.797 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415489977946112 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:40:56.797 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415489977946112 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:40:56.798 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415489977946112 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:40:56.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415489977946112 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:40:56.801 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415489977946112 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:40:56.801 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415489977946112 [0;39m <==      Total: 8
2023-05-14 02:40:56.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415489977946112 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":273,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:40:56.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415489977946112 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-14 02:40:56.859 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415490254770176 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:40:56.860 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415490254770176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:40:56.860 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415490254770176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:40:56.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415490254770176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:40:56.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415490254770176 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:40:56.861 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415490254770176 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:40:56.862 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415490254770176 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:40:56.863 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38415490254770176 [0;39m <==    Columns: id, content
2023-05-14 02:40:56.863 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38415490254770176 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:40:56.863 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415490254770176 [0;39m <==      Total: 1
2023-05-14 02:40:56.864 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415490254770176 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:40:56.864 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415490254770176 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:40:56.866 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415490254770176 [0;39m <==    Updates: 1
2023-05-14 02:40:56.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415490254770176 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:40:56.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415490254770176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-14 02:41:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38415503491993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:41:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415503491993600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:41:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415503491993600 [0;39m ==> Parameters: 
2023-05-14 02:41:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415503491993600 [0;39m <==    Updates: 0
2023-05-14 02:41:00.029 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38415503491993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-14 02:41:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38415524446736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:41:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415524446736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:41:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415524446736384 [0;39m ==> Parameters: 
2023-05-14 02:41:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415524446736384 [0;39m <==    Updates: 1
2023-05-14 02:41:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38415524446736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 02:41:13.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:41:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:41:15.137 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:41:17.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:41:17.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415578146410496 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:41:17.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415578146410497 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:41:17.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415578146410496 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:41:17.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415578146410496 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:41:17.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415578146410497 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:41:17.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415578146410496 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:41:17.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415578146410497 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:41:17.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415578146410497 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:41:17.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415578146410496 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:41:17.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415578146410497 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:41:17.815 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415578146410497 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:41:17.815 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415578146410496 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:41:17.815 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415578146410497 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:41:17.815 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415578146410496 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:41:17.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415578146410496 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:41:17.816 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415578146410497 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:41:17.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415578146410496 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 274, 7
2023-05-14 02:41:17.816 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415578146410497 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:41:17.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415578146410496 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:41:17.816 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415578146410497 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:41:17.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415578146410496 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:41:17.817 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415578146410497 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:41:17.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415578146410496 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:41:17.817 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415578146410497 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:41:17.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415578146410496 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:41:17.817 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415578146410497 [0;39m <==      Total: 4
2023-05-14 02:41:17.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415578146410496 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:41:17.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415578146410497 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:41:17.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415578146410497 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-14 02:41:17.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415578146410496 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:41:17.818 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415578146410496 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:41:17.818 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415578146410496 [0;39m <==      Total: 8
2023-05-14 02:41:17.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415578146410496 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":274,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:41:17.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415578146410496 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:41:17.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415578322571264 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:41:17.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415578322571264 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:41:17.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415578322571264 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:41:17.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415578322571264 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:41:17.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415578322571264 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:41:17.856 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415578322571264 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:41:17.856 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415578322571264 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:41:17.860 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38415578322571264 [0;39m <==    Columns: id, content
2023-05-14 02:41:17.860 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38415578322571264 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:41:17.861 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415578322571264 [0;39m <==      Total: 1
2023-05-14 02:41:17.861 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415578322571264 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:41:17.861 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415578322571264 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:41:17.868 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415578322571264 [0;39m <==    Updates: 1
2023-05-14 02:41:17.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415578322571264 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:41:17.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415578322571264 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-14 02:41:19.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:41:30.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415629652463617 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:41:30.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415629652463617 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-14 02:41:30.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415629652463617 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-14 02:41:30.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415629652463617 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:41:30.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415629652463617 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:41:30.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415629652463616 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:41:30.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415629652463616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-14 02:41:30.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415629652463616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-14 02:41:30.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415629652463616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:41:30.095 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415629652463617 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-14 02:41:30.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415629652463616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:41:30.095 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415629652463617 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:41:30.096 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415629652463616 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-14 02:41:30.096 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415629652463616 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:41:30.096 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415629652463617 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-14 02:41:30.096 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415629652463617 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 275, 7
2023-05-14 02:41:30.096 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415629652463617 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-14 02:41:30.097 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415629652463616 [0;39m <==    Columns: id, user_id, ebook_id, parentId, replyToUserId, content, create_time, update_time
2023-05-14 02:41:30.097 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415629652463617 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-14 02:41:30.097 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415629652463616 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-14 02:41:30.097 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415629652463617 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-14 02:41:30.097 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415629652463617 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-14 02:41:30.097 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415629652463616 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-14 02:41:30.097 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415629652463617 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-14 02:41:30.097 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415629652463616 [0;39m <==        Row: 3, 37814121005191174, 1, null, null, Spring, 2023-05-13 20:37:11, null
2023-05-14 02:41:30.097 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415629652463617 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-14 02:41:30.098 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38415629652463617 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-14 02:41:30.098 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38415629652463617 [0;39m <==      Total: 8
2023-05-14 02:41:30.098 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38415629652463616 [0;39m <==        Row: 12, 37814121005191174, 1, null, null, ewq, 2023-05-13 20:46:44, null
2023-05-14 02:41:30.098 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38415629652463616 [0;39m <==      Total: 4
2023-05-14 02:41:30.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415629652463617 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":275,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-14 02:41:30.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415629652463617 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-14 02:41:30.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415629652463616 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-14 02:41:30.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415629652463616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-14 02:41:30.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38415629845401600 [0;39m ------------- å¼€å§‹ -------------
2023-05-14 02:41:30.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38415629845401600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-14 02:41:30.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38415629845401600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-14 02:41:30.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38415629845401600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-14 02:41:30.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38415629845401600 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-14 02:41:30.142 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415629845401600 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-14 02:41:30.142 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415629845401600 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:41:30.145 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38415629845401600 [0;39m <==    Columns: id, content
2023-05-14 02:41:30.146 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38415629845401600 [0;39m <==        Row: 1, <<BLOB>>
2023-05-14 02:41:30.146 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38415629845401600 [0;39m <==      Total: 1
2023-05-14 02:41:30.146 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415629845401600 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-14 02:41:30.147 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415629845401600 [0;39m ==> Parameters: 1(Long)
2023-05-14 02:41:30.148 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38415629845401600 [0;39m <==    Updates: 1
2023-05-14 02:41:30.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38415629845401600 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-14 02:41:30.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38415629845401600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-14 02:41:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38415650250690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:41:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415650250690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:41:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415650250690560 [0;39m ==> Parameters: 
2023-05-14 02:41:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415650250690560 [0;39m <==    Updates: 1
2023-05-14 02:41:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38415650250690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-14 02:41:41.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:41:43.299 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:41:44.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:41:45.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:41:47.375 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:41:49.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38415755104096256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:42:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415755104096256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:42:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415755104096256 [0;39m ==> Parameters: 
2023-05-14 02:42:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38415755104096256 [0;39m <==    Updates: 0
2023-05-14 02:42:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38415755104096256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-14 02:42:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38415776058839040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:42:05.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415776058839040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:42:05.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415776058839040 [0;39m ==> Parameters: 
2023-05-14 02:42:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415776058839040 [0;39m <==    Updates: 1
2023-05-14 02:42:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38415776058839040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:42:05.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:07.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:13.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:14.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:15.136 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:17.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:31.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38415901896347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415901896347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415901896347648 [0;39m ==> Parameters: 
2023-05-14 02:42:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38415901896347648 [0;39m <==    Updates: 1
2023-05-14 02:42:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38415901896347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-14 02:42:43.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:45.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:47.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:53.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:42:55.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:43:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38416006770724864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:43:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38416006770724864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:43:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38416006770724864 [0;39m ==> Parameters: 
2023-05-14 02:43:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38416006770724864 [0;39m <==    Updates: 0
2023-05-14 02:43:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38416006770724864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-14 02:43:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38416027725467648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:43:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38416027725467648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:43:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38416027725467648 [0;39m ==> Parameters: 
2023-05-14 02:43:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38416027725467648 [0;39m <==    Updates: 1
2023-05-14 02:43:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38416027725467648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 02:43:13.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:43:14.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:43:15.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:43:17.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:43:21.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:43:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38416153609113600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-14 02:43:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38416153609113600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-14 02:43:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38416153609113600 [0;39m ==> Parameters: 
2023-05-14 02:43:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38416153609113600 [0;39m <==    Updates: 1
2023-05-14 02:43:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38416153609113600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-14 02:43:43.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:43:44.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:43:47.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:43:49.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-14 02:44:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38416258483490816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-14 02:44:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38416258483490816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-14 02:44:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38416258483490816 [0;39m ==> Parameters: 
2023-05-14 02:44:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38416258483490816 [0;39m <==    Updates: 0
2023-05-14 02:44:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38416258483490816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
