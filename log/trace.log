2023-05-17 00:00:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39462150095376384 [0;39m 生成今日电子书快照开始
2023-05-17 00:00:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462150095376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:00:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462150095376384 [0;39m ==> Parameters: 
2023-05-17 00:00:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462150095376384 [0;39m <==    Updates: 5
2023-05-17 00:00:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39462150095376384 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-17 00:00:03.978 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39461163150479360 [0;39m 连接关闭，token：CjC5TWREzM，session id：15！当前连接数：0
2023-05-17 00:00:04.602 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39461163179839488 [0;39m 有新连接：token：KeaADuYVmC，session id：16，当前连接数：1
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462169707941888 [0;39m ------------- 开始 -------------
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462169707941889 [0;39m ------------- 开始 -------------
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462169707941888 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462169707941889 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462169707941888 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462169707941889 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462169707941888 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462169707941889 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:00:04.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462169707941889 [0;39m 请求参数: [2]
2023-05-17 00:00:04.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462169707941888 [0;39m 请求参数: [2]
2023-05-17 00:00:04.691 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462169707941888 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:00:04.691 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462169707941888 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:00:04.692 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462169707941889 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:00:04.692 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462169707941889 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:00:04.692 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462169707941888 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:00:04.693 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462169707941888 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:00:04.693 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462169707941889 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:00:04.693 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462169707941889 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 145, 1
2023-05-17 00:00:04.693 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462169707941888 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:00:04.693 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462169707941888 [0;39m <==      Total: 2
2023-05-17 00:00:04.693 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:04.694 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:04.694 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462169707941889 [0;39m <==      Total: 1
2023-05-17 00:00:04.694 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:04.694 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:04.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462169707941889 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":145,"voteCount":1}],"success":true}
2023-05-17 00:00:04.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462169707941889 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:00:04.694 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m <==      Total: 1
2023-05-17 00:00:04.694 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:04.694 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:04.695 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:04.695 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:04.695 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m <==      Total: 1
2023-05-17 00:00:04.695 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:04.696 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:04.696 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:04.696 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:04.696 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m <==      Total: 1
2023-05-17 00:00:04.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462169707941888 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:00:04.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462169707941888 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:00:04.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462169858936832 [0;39m ------------- 开始 -------------
2023-05-17 00:00:04.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462169858936832 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:00:04.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462169858936832 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:00:04.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462169858936832 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:00:04.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462169858936832 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:00:04.727 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462169858936832 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:00:04.728 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462169858936832 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:00:04.729 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462169858936832 [0;39m <==    Columns: id, content
2023-05-17 00:00:04.729 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462169858936832 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:00:04.729 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462169858936832 [0;39m <==      Total: 1
2023-05-17 00:00:04.730 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462169858936832 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:00:04.731 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462169858936832 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:00:04.732 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462169858936832 [0;39m <==    Updates: 1
2023-05-17 00:00:04.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462169858936832 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:00:04.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462169858936832 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:00:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462171033341952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:00:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462171033341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:00:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462171033341952 [0;39m ==> Parameters: 
2023-05-17 00:00:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462171033341952 [0;39m <==    Updates: 2
2023-05-17 00:00:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462171033341952 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:00:05.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462174564945920 [0;39m ------------- 开始 -------------
2023-05-17 00:00:05.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462174564945920 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:00:05.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462174564945920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:00:05.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462174564945920 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:00:05.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462174564945920 [0;39m 请求参数: [2]
2023-05-17 00:00:05.846 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462174564945920 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:00:05.847 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462174564945920 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:00:05.847 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462174564945920 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:00:05.847 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462174564945920 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:00:05.849 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462174564945920 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:00:05.849 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462174564945920 [0;39m <==      Total: 2
2023-05-17 00:00:05.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:05.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:05.850 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:05.850 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:05.850 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m <==      Total: 1
2023-05-17 00:00:05.850 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:05.850 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:05.851 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:05.852 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:05.852 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m <==      Total: 1
2023-05-17 00:00:05.852 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:05.853 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:05.853 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:05.853 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:05.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m <==      Total: 1
2023-05-17 00:00:05.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462174564945920 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:00:05.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462174564945920 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:00:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462296900210688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:00:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462296900210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:00:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462296900210688 [0;39m ==> Parameters: 
2023-05-17 00:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462296900210688 [0;39m <==    Updates: 2
2023-05-17 00:00:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462296900210688 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:01:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39462401728450560 [0;39m 生成今日电子书快照开始
2023-05-17 00:01:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462401728450560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:01:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462401728450560 [0;39m ==> Parameters: 
2023-05-17 00:01:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462401728450560 [0;39m <==    Updates: 0
2023-05-17 00:01:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39462401728450560 [0;39m 生成今日电子书快照结束，耗时：16毫秒
2023-05-17 00:01:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462422737719296 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:01:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462422737719296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:01:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462422737719296 [0;39m ==> Parameters: 
2023-05-17 00:01:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462422737719296 [0;39m <==    Updates: 2
2023-05-17 00:01:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462422737719296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:01:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462548550062080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:01:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462548550062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:01:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462548550062080 [0;39m ==> Parameters: 
2023-05-17 00:01:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462548550062080 [0;39m <==    Updates: 2
2023-05-17 00:01:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462548550062080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:02:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39462653399273472 [0;39m 生成今日电子书快照开始
2023-05-17 00:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462653399273472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462653399273472 [0;39m ==> Parameters: 
2023-05-17 00:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462653399273472 [0;39m <==    Updates: 0
2023-05-17 00:02:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39462653399273472 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:02:01.203 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39461971757764608 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:02:01.203 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39461971757764608 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:02:01.203 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39461971757764608 [0;39m 登录校验开始，token：39402521571233792
2023-05-17 00:02:01.205 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39461971757764608 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-17 00:02:01.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462658419855360 [0;39m ------------- 开始 -------------
2023-05-17 00:02:01.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462658419855360 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:02:01.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462658419855360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:02:01.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462658419855360 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:01.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462658419855360 [0;39m 请求参数: [{"content":"ewq","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:02:01.206 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.206 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.207 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658419855360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.207 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658419855360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.207 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m <==      Total: 1
2023-05-17 00:02:01.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.208 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658419855360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.209 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658419855360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.209 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m <==      Total: 1
2023-05-17 00:02:01.209 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39462658419855360 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:02:01.210 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39462658419855360 [0;39m ==> Parameters: 1(Long), 2(Long), 2(Long), 1(Long), ewq(String), 2023-05-17 00:02:01.209(Timestamp), null
2023-05-17 00:02:01.217 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39462658419855360 [0;39m <==    Updates: 1
2023-05-17 00:02:01.217 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39462658419855360 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:02:01.217 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39462658419855360 [0;39m ==> Parameters: 3(Long)
2023-05-17 00:02:01.217 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39462658419855360 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:01.217 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39462658419855360 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:01.217 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39462658419855360 [0;39m <==      Total: 1
2023-05-17 00:02:01.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462658419855360 [0;39m 返回结果: {"content":{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:02:01.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462658419855360 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:02:01.219 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39462658419855360 [0;39m ------------- LoginInterceptor 结束 耗时：16 ms -------------
2023-05-17 00:02:01.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462658499547136 [0;39m ------------- 开始 -------------
2023-05-17 00:02:01.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462658499547136 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:01.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462658499547136 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:01.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462658499547136 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:01.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462658499547136 [0;39m 请求参数: [2]
2023-05-17 00:02:01.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462658499547136 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:01.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462658499547136 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:01.226 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462658499547136 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:01.226 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462658499547136 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:01.226 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462658499547136 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:01.226 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462658499547136 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:01.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462658499547136 [0;39m <==      Total: 3
2023-05-17 00:02:01.228 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.228 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.228 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.228 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.229 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m <==      Total: 1
2023-05-17 00:02:01.229 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.229 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.229 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.230 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.230 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m <==      Total: 1
2023-05-17 00:02:01.230 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.230 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.230 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m <==      Total: 1
2023-05-17 00:02:01.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m <==      Total: 1
2023-05-17 00:02:01.232 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.232 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.232 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.232 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.232 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m <==      Total: 1
2023-05-17 00:02:01.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462658499547136 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:01.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462658499547136 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:02:03.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462668045783040 [0;39m ------------- 开始 -------------
2023-05-17 00:02:03.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462668045783040 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:03.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462668045783040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:03.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462668045783040 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:03.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462668045783040 [0;39m 请求参数: [2]
2023-05-17 00:02:03.503 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462668045783040 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:03.503 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462668045783040 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:03.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462668045783040 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:03.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462668045783040 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:03.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462668045783040 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:03.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462668045783040 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:03.504 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462668045783040 [0;39m <==      Total: 3
2023-05-17 00:02:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:03.504 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:03.504 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m <==      Total: 1
2023-05-17 00:02:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:03.504 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:03.507 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:03.507 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m <==      Total: 1
2023-05-17 00:02:03.507 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:03.507 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:03.508 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:03.508 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:03.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m <==      Total: 1
2023-05-17 00:02:03.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:03.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:03.508 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:03.508 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:03.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m <==      Total: 1
2023-05-17 00:02:03.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:03.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:03.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:03.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:03.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m <==      Total: 1
2023-05-17 00:02:03.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462668045783040 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:03.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462668045783040 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:02:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462674374987776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462674374987776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462674374987776 [0;39m ==> Parameters: 
2023-05-17 00:02:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462674374987776 [0;39m <==    Updates: 2
2023-05-17 00:02:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462674374987776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:02:06.019 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39461163179839488 [0;39m 连接关闭，token：KeaADuYVmC，session id：16！当前连接数：0
2023-05-17 00:02:06.521 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39462169707941889 [0;39m 有新连接：token：oNupvqu0rA，session id：17，当前连接数：1
2023-05-17 00:02:06.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462680892936193 [0;39m ------------- 开始 -------------
2023-05-17 00:02:06.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462680892936192 [0;39m ------------- 开始 -------------
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462680892936193 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462680892936192 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462680892936193 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462680892936192 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462680892936192 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462680892936193 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462680892936192 [0;39m 请求参数: [2]
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462680892936193 [0;39m 请求参数: [2]
2023-05-17 00:02:06.564 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462680892936192 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:06.565 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462680892936192 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:06.565 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462680892936193 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:02:06.565 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462680892936193 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:06.565 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462680892936192 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:06.565 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462680892936193 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:02:06.565 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462680892936192 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:06.565 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462680892936193 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 146, 1
2023-05-17 00:02:06.565 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462680892936192 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:06.565 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462680892936193 [0;39m <==      Total: 1
2023-05-17 00:02:06.566 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462680892936192 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:06.566 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462680892936192 [0;39m <==      Total: 3
2023-05-17 00:02:06.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462680892936193 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":146,"voteCount":1}],"success":true}
2023-05-17 00:02:06.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462680892936193 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:02:06.566 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:06.566 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:06.567 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:06.567 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:06.567 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m <==      Total: 1
2023-05-17 00:02:06.567 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:06.567 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:06.568 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:06.568 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:06.568 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m <==      Total: 1
2023-05-17 00:02:06.568 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:06.568 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:06.569 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:06.569 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:06.569 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m <==      Total: 1
2023-05-17 00:02:06.569 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:06.570 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:06.570 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:06.570 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:06.570 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m <==      Total: 1
2023-05-17 00:02:06.571 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:06.571 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:06.572 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:06.573 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:06.573 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m <==      Total: 1
2023-05-17 00:02:06.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462680892936192 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:06.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462680892936192 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:02:06.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462681283006464 [0;39m ------------- 开始 -------------
2023-05-17 00:02:06.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462681283006464 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:02:06.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462681283006464 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:02:06.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462681283006464 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:06.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462681283006464 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:02:06.661 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462681283006464 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:02:06.662 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462681283006464 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:06.663 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462681283006464 [0;39m <==    Columns: id, content
2023-05-17 00:02:06.663 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462681283006464 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:02:06.664 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462681283006464 [0;39m <==      Total: 1
2023-05-17 00:02:06.664 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462681283006464 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:02:06.666 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462681283006464 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:06.687 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462681283006464 [0;39m <==    Updates: 1
2023-05-17 00:02:06.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462681283006464 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:02:06.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462681283006464 [0;39m ------------- 结束 耗时：32 ms -------------
2023-05-17 00:02:16.898 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：oNupvqu0rA，session id：17！当前连接数：0
2023-05-17 00:02:16.945 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:02:16.949 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:02:16.950 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:02:16.950 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 00:02:16.959 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 00:02:17.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:02:17.082 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:02:17.082 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:02:22.698 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 22264 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:02:22.696 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:02:22.699 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:02:22.755 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:02:22.755 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:02:23.428 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:02:23.429 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:02:23.455 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2023-05-17 00:02:23.674 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$e349ded2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:23.685 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.000 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.004 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$858453d3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.005 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.006 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.008 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.009 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.010 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.013 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.013 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.025 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.025 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.028 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.031 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.044 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.936 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.937 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:25.357 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:02:25.363 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:02:25.364 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:02:25.369 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:02:25.450 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:02:25.450 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2693 ms
2023-05-17 00:02:26.215 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:02:26.551 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:02:26.596 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:02:26.936 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:02:26.936 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:02:26.945 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:02:26.954 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:02:26.963 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.71 seconds (JVM running for 5.648)
2023-05-17 00:02:26.965 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:02:26.965 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:02:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462800195719168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:02:35.030 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39462800195719168 [0;39m HikariPool-1 - Starting...
2023-05-17 00:02:35.494 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39462800195719168 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:02:35.499 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462800195719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:02:35.516 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462800195719168 [0;39m ==> Parameters: 
2023-05-17 00:02:35.524 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462800195719168 [0;39m <==    Updates: 2
2023-05-17 00:02:35.525 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462800195719168 [0;39m 更新电子书下的文档数据结束，耗时：518毫秒
2023-05-17 00:02:43.041 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:02:43.043 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:02:43.044 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-17 00:02:43.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462834148610049 [0;39m ------------- 开始 -------------
2023-05-17 00:02:43.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462834148610048 [0;39m ------------- 开始 -------------
2023-05-17 00:02:43.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462834148610049 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:02:43.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462834148610048 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:43.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462834148610048 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:43.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462834148610049 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:02:43.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462834148610049 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:43.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462834148610048 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:43.106 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：zCqNPIwWXA，session id：0，当前连接数：1
2023-05-17 00:02:43.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462834148610048 [0;39m 请求参数: [2]
2023-05-17 00:02:43.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462834148610049 [0;39m 请求参数: [2]
2023-05-17 00:02:43.119 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462834148610048 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:43.121 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462834148610048 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:43.139 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462834148610048 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:43.141 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462834148610048 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:43.144 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462834148610048 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:43.145 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462834148610048 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:43.146 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462834148610048 [0;39m <==      Total: 3
2023-05-17 00:02:43.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:43.152 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462834148610049 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:02:43.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:43.153 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462834148610049 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:43.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:43.154 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462834148610049 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:02:43.154 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:43.154 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462834148610049 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 147, 1
2023-05-17 00:02:43.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m <==      Total: 1
2023-05-17 00:02:43.155 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462834148610049 [0;39m <==      Total: 1
2023-05-17 00:02:43.155 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:43.155 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:43.156 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:43.157 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:43.157 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m <==      Total: 1
2023-05-17 00:02:43.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:43.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:43.159 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:43.160 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:43.160 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m <==      Total: 1
2023-05-17 00:02:43.161 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:43.161 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:43.162 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:43.162 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:43.163 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m <==      Total: 1
2023-05-17 00:02:43.163 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:43.164 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:43.165 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:43.165 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:43.166 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m <==      Total: 1
2023-05-17 00:02:43.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462834148610049 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":147,"voteCount":1}],"success":true}
2023-05-17 00:02:43.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462834148610049 [0;39m ------------- 结束 耗时：70 ms -------------
2023-05-17 00:02:43.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462834148610048 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:43.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462834148610048 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 00:02:43.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462834748395520 [0;39m ------------- 开始 -------------
2023-05-17 00:02:43.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462834748395520 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:02:43.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462834748395520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:02:43.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462834748395520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:43.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462834748395520 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:02:43.247 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462834748395520 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:02:43.248 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462834748395520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:43.250 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462834748395520 [0;39m <==    Columns: id, content
2023-05-17 00:02:43.250 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462834748395520 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:02:43.251 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462834748395520 [0;39m <==      Total: 1
2023-05-17 00:02:43.252 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462834748395520 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:02:43.253 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462834748395520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:43.256 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462834748395520 [0;39m <==    Updates: 1
2023-05-17 00:02:43.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462834748395520 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:02:43.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462834748395520 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:02:44.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462839106277376 [0;39m ------------- 开始 -------------
2023-05-17 00:02:44.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462839106277376 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:44.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462839106277376 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:44.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462839106277376 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:44.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462839106277376 [0;39m 请求参数: [2]
2023-05-17 00:02:44.287 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462839106277376 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:44.287 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462839106277376 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:44.288 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462839106277376 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:44.288 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462839106277376 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:44.290 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462839106277376 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:44.291 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462839106277376 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:44.291 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462839106277376 [0;39m <==      Total: 3
2023-05-17 00:02:44.292 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:44.292 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:44.292 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:44.292 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:44.292 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m <==      Total: 1
2023-05-17 00:02:44.292 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:44.292 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:44.292 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:44.292 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:44.297 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m <==      Total: 1
2023-05-17 00:02:44.297 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:44.297 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:44.297 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:44.297 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:44.297 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m <==      Total: 1
2023-05-17 00:02:44.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:44.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:44.300 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:44.300 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:44.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m <==      Total: 1
2023-05-17 00:02:44.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:44.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:44.304 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:44.304 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:44.304 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m <==      Total: 1
2023-05-17 00:02:44.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462839106277376 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:44.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462839106277376 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:02:52.056 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：zCqNPIwWXA，session id：0！当前连接数：0
2023-05-17 00:02:52.503 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：DJrH2nXRp5，session id：1，当前连接数：1
2023-05-17 00:02:52.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462873944166401 [0;39m ------------- 开始 -------------
2023-05-17 00:02:52.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462873944166400 [0;39m ------------- 开始 -------------
2023-05-17 00:02:52.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462873944166400 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:52.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462873944166401 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:02:52.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462873944166400 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:52.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462873944166401 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:02:52.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462873944166401 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:52.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462873944166400 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:52.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462873944166400 [0;39m 请求参数: [2]
2023-05-17 00:02:52.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462873944166401 [0;39m 请求参数: [2]
2023-05-17 00:02:52.593 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462873944166400 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:52.594 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462873944166400 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:52.593 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462873944166401 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:02:52.596 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462873944166400 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:52.597 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462873944166400 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:52.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462873944166400 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:52.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462873944166400 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:52.598 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462873944166400 [0;39m <==      Total: 3
2023-05-17 00:02:52.598 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462873944166401 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:52.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:52.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:52.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:52.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:52.601 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462873944166401 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:02:52.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m <==      Total: 1
2023-05-17 00:02:52.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:52.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:52.603 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462873944166401 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 148, 1
2023-05-17 00:02:52.604 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:52.605 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462873944166401 [0;39m <==      Total: 1
2023-05-17 00:02:52.605 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:52.605 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m <==      Total: 1
2023-05-17 00:02:52.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462873944166401 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":148,"voteCount":1}],"success":true}
2023-05-17 00:02:52.606 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:52.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462873944166401 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:02:52.606 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:52.607 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:52.607 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:52.614 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m <==      Total: 1
2023-05-17 00:02:52.615 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:52.616 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:52.617 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:52.617 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:52.618 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m <==      Total: 1
2023-05-17 00:02:52.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:52.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:52.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:52.623 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:52.625 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m <==      Total: 1
2023-05-17 00:02:52.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462873944166400 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:52.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462873944166400 [0;39m ------------- 结束 耗时：36 ms -------------
2023-05-17 00:02:52.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462874707529728 [0;39m ------------- 开始 -------------
2023-05-17 00:02:52.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462874707529728 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:02:52.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462874707529728 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:02:52.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462874707529728 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:52.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462874707529728 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:02:52.773 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462874707529728 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:02:52.774 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462874707529728 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:52.776 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462874707529728 [0;39m <==    Columns: id, content
2023-05-17 00:02:52.776 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462874707529728 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:02:52.776 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462874707529728 [0;39m <==      Total: 1
2023-05-17 00:02:52.777 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462874707529728 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:02:52.778 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462874707529728 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:52.822 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462874707529728 [0;39m <==    Updates: 1
2023-05-17 00:02:52.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462874707529728 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:02:52.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462874707529728 [0;39m ------------- 结束 耗时：52 ms -------------
2023-05-17 00:02:56.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462890671050752 [0;39m ------------- 开始 -------------
2023-05-17 00:02:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462890671050752 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462890671050752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462890671050752 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462890671050752 [0;39m 请求参数: [2]
2023-05-17 00:02:56.581 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462890671050752 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:56.581 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462890671050752 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:56.582 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462890671050752 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:56.583 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462890671050752 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:56.583 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462890671050752 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:56.584 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462890671050752 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:56.584 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462890671050752 [0;39m <==      Total: 3
2023-05-17 00:02:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:56.584 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:56.584 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m <==      Total: 1
2023-05-17 00:02:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m <==      Total: 1
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m <==      Total: 1
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m <==      Total: 1
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:56.596 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:56.596 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:56.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m <==      Total: 1
2023-05-17 00:02:56.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462890671050752 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:56.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462890671050752 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:03:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39462905044930560 [0;39m 生成今日电子书快照开始
2023-05-17 00:03:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462905044930560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:03:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462905044930560 [0;39m ==> Parameters: 
2023-05-17 00:03:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462905044930560 [0;39m <==    Updates: 0
2023-05-17 00:03:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39462905044930560 [0;39m 生成今日电子书快照结束，耗时：13毫秒
2023-05-17 00:03:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462926058393600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:03:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462926058393600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:03:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462926058393600 [0;39m ==> Parameters: 
2023-05-17 00:03:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462926058393600 [0;39m <==    Updates: 2
2023-05-17 00:03:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462926058393600 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-17 00:03:13.888 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39462834148610048 [0;39m 连接关闭，token：DJrH2nXRp5，session id：1！当前连接数：0
2023-05-17 00:03:14.933 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39462834148610049 [0;39m 有新连接：token：vviZGpzAIC，session id：2，当前连接数：1
2023-05-17 00:03:14.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462967883993088 [0;39m ------------- 开始 -------------
2023-05-17 00:03:14.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462967883993088 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:03:14.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462967883993088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:03:14.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462967883993088 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:03:14.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462967883993088 [0;39m 请求参数: [2]
2023-05-17 00:03:14.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462967892381696 [0;39m ------------- 开始 -------------
2023-05-17 00:03:14.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462967892381696 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:03:14.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462967892381696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:03:14.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462967892381696 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:03:14.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462967892381696 [0;39m 请求参数: [2]
2023-05-17 00:03:14.989 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462967883993088 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:03:14.990 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462967883993088 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:03:14.990 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462967892381696 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:03:14.991 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462967892381696 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:03:14.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462967883993088 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:03:14.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462967883993088 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:03:14.991 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462967892381696 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:03:14.992 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462967892381696 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 149, 1
2023-05-17 00:03:14.992 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462967883993088 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:03:14.992 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462967892381696 [0;39m <==      Total: 1
2023-05-17 00:03:14.992 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462967883993088 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:03:14.992 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462967883993088 [0;39m <==      Total: 3
2023-05-17 00:03:14.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462967892381696 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":149,"voteCount":1}],"success":true}
2023-05-17 00:03:14.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462967892381696 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:03:14.993 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:14.993 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:14.993 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:14.994 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:14.994 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m <==      Total: 1
2023-05-17 00:03:14.994 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:14.995 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:14.995 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:14.996 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:14.996 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m <==      Total: 1
2023-05-17 00:03:14.996 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:14.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:14.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:14.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:14.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m <==      Total: 1
2023-05-17 00:03:14.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:14.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:14.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:15.000 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:15.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m <==      Total: 1
2023-05-17 00:03:15.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:15.001 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:15.001 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:15.001 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:15.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m <==      Total: 1
2023-05-17 00:03:15.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462967883993088 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:03:15.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462967883993088 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:03:15.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462968051765248 [0;39m ------------- 开始 -------------
2023-05-17 00:03:15.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462968051765248 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:03:15.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462968051765248 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:03:15.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462968051765248 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:03:15.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462968051765248 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:03:15.031 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462968051765248 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:03:15.031 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462968051765248 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:03:15.032 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462968051765248 [0;39m <==    Columns: id, content
2023-05-17 00:03:15.033 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462968051765248 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:03:15.034 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462968051765248 [0;39m <==      Total: 1
2023-05-17 00:03:15.034 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462968051765248 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:03:15.036 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462968051765248 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:03:15.058 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462968051765248 [0;39m <==    Updates: 1
2023-05-17 00:03:15.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462968051765248 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:03:15.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462968051765248 [0;39m ------------- 结束 耗时：33 ms -------------
2023-05-17 00:03:17.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462977031770112 [0;39m ------------- 开始 -------------
2023-05-17 00:03:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462977031770112 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:03:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462977031770112 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:03:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462977031770112 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:03:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462977031770112 [0;39m 请求参数: [2]
2023-05-17 00:03:17.170 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462977031770112 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:03:17.170 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462977031770112 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:03:17.171 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462977031770112 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:03:17.172 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462977031770112 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:03:17.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462977031770112 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:03:17.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462977031770112 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:03:17.175 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462977031770112 [0;39m <==      Total: 3
2023-05-17 00:03:17.176 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:17.176 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:17.177 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:17.177 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:17.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m <==      Total: 1
2023-05-17 00:03:17.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:17.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:17.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:17.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:17.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m <==      Total: 1
2023-05-17 00:03:17.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:17.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:17.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:17.181 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:17.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m <==      Total: 1
2023-05-17 00:03:17.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:17.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:17.182 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:17.182 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:17.183 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m <==      Total: 1
2023-05-17 00:03:17.183 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:17.183 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:17.184 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:17.184 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:17.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m <==      Total: 1
2023-05-17 00:03:17.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462977031770112 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:03:17.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462977031770112 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:03:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463051866542080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:03:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463051866542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:03:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463051866542080 [0;39m ==> Parameters: 
2023-05-17 00:03:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463051866542080 [0;39m <==    Updates: 2
2023-05-17 00:03:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463051866542080 [0;39m 更新电子书下的文档数据结束，耗时：11毫秒
2023-05-17 00:04:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39463156724142080 [0;39m 生成今日电子书快照开始
2023-05-17 00:04:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463156724142080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:04:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463156724142080 [0;39m ==> Parameters: 
2023-05-17 00:04:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463156724142080 [0;39m <==    Updates: 0
2023-05-17 00:04:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39463156724142080 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-17 00:04:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463177666301952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:04:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463177666301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:04:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463177666301952 [0;39m ==> Parameters: 
2023-05-17 00:04:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463177666301952 [0;39m <==    Updates: 2
2023-05-17 00:04:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463177666301952 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 00:04:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463303516393472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:04:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463303516393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:04:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463303516393472 [0;39m ==> Parameters: 
2023-05-17 00:04:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463303516393472 [0;39m <==    Updates: 2
2023-05-17 00:04:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463303516393472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:04:48.162 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39462874707529728 [0;39m 连接关闭，token：vviZGpzAIC，session id：2！当前连接数：0
2023-05-17 00:04:48.706 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39462890671050752 [0;39m 有新连接：token：uiY0iC23Ob，session id：3，当前连接数：1
2023-05-17 00:04:48.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463361179684864 [0;39m ------------- 开始 -------------
2023-05-17 00:04:48.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463361179684864 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:04:48.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463361179684864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463361179684864 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463361183879168 [0;39m ------------- 开始 -------------
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463361179684864 [0;39m 请求参数: [2]
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463361183879168 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463361183879168 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463361183879168 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463361183879168 [0;39m 请求参数: [2]
2023-05-17 00:04:48.757 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463361179684864 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:04:48.758 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463361179684864 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:04:48.758 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463361183879168 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:04:48.759 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463361183879168 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:04:48.759 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463361179684864 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:04:48.759 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463361179684864 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:04:48.759 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39463361183879168 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:04:48.759 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39463361183879168 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 150, 1
2023-05-17 00:04:48.760 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463361179684864 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:04:48.760 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463361183879168 [0;39m <==      Total: 1
2023-05-17 00:04:48.760 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463361179684864 [0;39m <==      Total: 2
2023-05-17 00:04:48.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463361183879168 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":150,"voteCount":1}],"success":true}
2023-05-17 00:04:48.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463361183879168 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:04:48.760 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:48.760 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:48.761 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:48.761 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:48.762 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m <==      Total: 1
2023-05-17 00:04:48.762 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:48.762 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:48.763 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:48.763 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:48.763 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m <==      Total: 1
2023-05-17 00:04:48.764 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:48.764 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:48.765 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:48.765 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:48.765 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m <==      Total: 1
2023-05-17 00:04:48.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463361179684864 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:04:48.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463361179684864 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:04:48.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463361397788672 [0;39m ------------- 开始 -------------
2023-05-17 00:04:48.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463361397788672 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:04:48.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463361397788672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:04:48.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463361397788672 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:04:48.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463361397788672 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:04:48.810 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463361397788672 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:04:48.810 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463361397788672 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:04:48.811 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39463361397788672 [0;39m <==    Columns: id, content
2023-05-17 00:04:48.812 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39463361397788672 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:04:48.812 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463361397788672 [0;39m <==      Total: 1
2023-05-17 00:04:48.812 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463361397788672 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:04:48.813 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463361397788672 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:04:48.843 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463361397788672 [0;39m <==    Updates: 1
2023-05-17 00:04:48.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463361397788672 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:04:48.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463361397788672 [0;39m ------------- 结束 耗时：36 ms -------------
2023-05-17 00:04:53.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463379022254080 [0;39m ------------- 开始 -------------
2023-05-17 00:04:53.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463379022254080 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:04:53.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463379022254080 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:04:53.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463379022254080 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:04:53.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463379022254080 [0;39m 请求参数: [2]
2023-05-17 00:04:53.012 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463379022254080 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:04:53.012 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463379022254080 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:04:53.013 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463379022254080 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:04:53.013 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463379022254080 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:04:53.014 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463379022254080 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:04:53.015 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463379022254080 [0;39m <==      Total: 2
2023-05-17 00:04:53.015 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:53.015 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:53.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:53.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:53.017 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m <==      Total: 1
2023-05-17 00:04:53.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:53.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:53.018 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:53.018 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:53.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m <==      Total: 1
2023-05-17 00:04:53.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:53.021 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:53.022 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:53.022 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:53.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m <==      Total: 1
2023-05-17 00:04:53.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463379022254080 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:04:53.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463379022254080 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:05:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39463408403353600 [0;39m 生成今日电子书快照开始
2023-05-17 00:05:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463408403353600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:05:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463408403353600 [0;39m ==> Parameters: 
2023-05-17 00:05:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463408403353600 [0;39m <==    Updates: 0
2023-05-17 00:05:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39463408403353600 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 00:05:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463429353902080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:05:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463429353902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:05:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463429353902080 [0;39m ==> Parameters: 
2023-05-17 00:05:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463429353902080 [0;39m <==    Updates: 2
2023-05-17 00:05:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463429353902080 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 00:05:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463555187216384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463555187216384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463555187216384 [0;39m ==> Parameters: 
2023-05-17 00:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463555187216384 [0;39m <==    Updates: 2
2023-05-17 00:05:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463555187216384 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:06:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39463660049010688 [0;39m 生成今日电子书快照开始
2023-05-17 00:06:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463660049010688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:06:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463660049010688 [0;39m ==> Parameters: 
2023-05-17 00:06:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463660049010688 [0;39m <==    Updates: 0
2023-05-17 00:06:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39463660049010688 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-17 00:06:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463681016336384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:06:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463681016336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:06:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463681016336384 [0;39m ==> Parameters: 
2023-05-17 00:06:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463681016336384 [0;39m <==    Updates: 2
2023-05-17 00:06:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463681016336384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:06:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463806845456384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:06:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463806845456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:06:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463806845456384 [0;39m ==> Parameters: 
2023-05-17 00:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463806845456384 [0;39m <==    Updates: 2
2023-05-17 00:06:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463806845456384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:06:49.403 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39462873944166401 [0;39m 连接关闭，token：uiY0iC23Ob，session id：3！当前连接数：0
2023-05-17 00:06:50.547 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39462873944166400 [0;39m 有新连接：token：XLffuWTo4T，session id：4，当前连接数：1
2023-05-17 00:06:50.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463872209489921 [0;39m ------------- 开始 -------------
2023-05-17 00:06:50.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463872209489920 [0;39m ------------- 开始 -------------
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463872209489921 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463872209489920 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463872209489921 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463872209489920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463872209489921 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463872209489920 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463872209489921 [0;39m 请求参数: [2]
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463872209489920 [0;39m 请求参数: [2]
2023-05-17 00:06:50.596 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463872209489920 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:06:50.597 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463872209489920 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:06:50.597 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463872209489921 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:06:50.597 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463872209489921 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:06:50.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463872209489920 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:06:50.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463872209489920 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:06:50.598 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39463872209489921 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:06:50.598 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39463872209489921 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 151, 1
2023-05-17 00:06:50.598 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463872209489921 [0;39m <==      Total: 1
2023-05-17 00:06:50.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463872209489920 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:06:50.599 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463872209489920 [0;39m <==      Total: 2
2023-05-17 00:06:50.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463872209489921 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":151,"voteCount":1}],"success":true}
2023-05-17 00:06:50.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463872209489921 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:06:50.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:50.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:50.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:50.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:50.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m <==      Total: 1
2023-05-17 00:06:50.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:50.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:50.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:50.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:50.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m <==      Total: 1
2023-05-17 00:06:50.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:50.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:50.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:50.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:50.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m <==      Total: 1
2023-05-17 00:06:50.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463872209489920 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:06:50.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463872209489920 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:06:50.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463872578588672 [0;39m ------------- 开始 -------------
2023-05-17 00:06:50.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463872578588672 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:06:50.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463872578588672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:06:50.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463872578588672 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:06:50.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463872578588672 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:06:50.685 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463872578588672 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:06:50.685 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463872578588672 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:06:50.686 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39463872578588672 [0;39m <==    Columns: id, content
2023-05-17 00:06:50.686 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39463872578588672 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:06:50.688 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463872578588672 [0;39m <==      Total: 1
2023-05-17 00:06:50.688 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463872578588672 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:06:50.688 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463872578588672 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:06:50.695 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463872578588672 [0;39m <==    Updates: 1
2023-05-17 00:06:50.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463872578588672 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:06:50.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463872578588672 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:06:56.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463895378825216 [0;39m ------------- 开始 -------------
2023-05-17 00:06:56.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463895378825216 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:06:56.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463895378825216 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:06:56.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463895378825216 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:06:56.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463895378825216 [0;39m 请求参数: [2]
2023-05-17 00:06:56.121 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463895378825216 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:06:56.121 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463895378825216 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:06:56.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463895378825216 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:06:56.122 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463895378825216 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:06:56.122 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463895378825216 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:06:56.124 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463895378825216 [0;39m <==      Total: 2
2023-05-17 00:06:56.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:56.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:56.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:56.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:56.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m <==      Total: 1
2023-05-17 00:06:56.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:56.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:56.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:56.128 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:56.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m <==      Total: 1
2023-05-17 00:06:56.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:56.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:56.128 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:56.128 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:56.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m <==      Total: 1
2023-05-17 00:06:56.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463895378825216 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:06:56.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463895378825216 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:07:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39463911673696256 [0;39m 生成今日电子书快照开始
2023-05-17 00:07:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463911673696256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:07:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463911673696256 [0;39m ==> Parameters: 
2023-05-17 00:07:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463911673696256 [0;39m <==    Updates: 0
2023-05-17 00:07:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39463911673696256 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:07:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463932678770688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:07:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463932678770688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:07:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463932678770688 [0;39m ==> Parameters: 
2023-05-17 00:07:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463932678770688 [0;39m <==    Updates: 2
2023-05-17 00:07:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463932678770688 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:07:21.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:07:21.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:07:26.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:07:26.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:07:28.657 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:07:30.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:07:32.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:07:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464058486919168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464058486919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464058486919168 [0;39m ==> Parameters: 
2023-05-17 00:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464058486919168 [0;39m <==    Updates: 2
2023-05-17 00:07:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464058486919168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:07:54.788 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:08:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39464163373879296 [0;39m 生成今日电子书快照开始
2023-05-17 00:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464163373879296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464163373879296 [0;39m ==> Parameters: 
2023-05-17 00:08:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464163373879296 [0;39m <==    Updates: 0
2023-05-17 00:08:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39464163373879296 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-17 00:08:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464184316039168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:08:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464184316039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:08:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464184316039168 [0;39m ==> Parameters: 
2023-05-17 00:08:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464184316039168 [0;39m <==    Updates: 2
2023-05-17 00:08:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464184316039168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:08:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464310136770560 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:08:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464310136770560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:08:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464310136770560 [0;39m ==> Parameters: 
2023-05-17 00:08:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464310136770560 [0;39m <==    Updates: 2
2023-05-17 00:08:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464310136770560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:08:49.701 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：XLffuWTo4T，session id：4！当前连接数：0
2023-05-17 00:08:49.746 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:08:49.746 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:08:49.746 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:08:49.746 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 00:08:49.754 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 00:08:49.771 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:08:49.780 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:08:49.780 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:08:53.501 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 12348 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:08:53.501 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:08:53.506 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:08:53.548 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:08:53.552 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:08:54.160 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:08:54.160 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:08:54.197 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2023-05-17 00:08:54.346 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$e50543ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.352 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$873fb8ae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.672 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.672 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.672 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.683 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.683 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.683 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.683 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.704 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:55.589 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:55.589 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:55.962 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:08:55.973 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:08:55.973 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:08:55.973 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:08:56.042 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:08:56.042 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2490 ms
2023-05-17 00:08:56.629 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:08:56.891 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:08:56.926 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:08:57.237 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:08:57.242 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:08:57.246 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:08:57.253 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:08:57.264 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.137 seconds (JVM running for 5.003)
2023-05-17 00:08:57.269 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:08:57.269 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:09:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39464415048896512 [0;39m 生成今日电子书快照开始
2023-05-17 00:09:00.026 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39464415048896512 [0;39m HikariPool-1 - Starting...
2023-05-17 00:09:00.965 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39464415048896512 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:09:00.970 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464415048896512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:09:00.986 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464415048896512 [0;39m ==> Parameters: 
2023-05-17 00:09:00.986 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464415048896512 [0;39m <==    Updates: 0
2023-05-17 00:09:00.986 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39464415048896512 [0;39m 生成今日电子书快照结束，耗时：968毫秒
2023-05-17 00:09:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464436007833600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:09:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464436007833600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:09:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464436007833600 [0;39m ==> Parameters: 
2023-05-17 00:09:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464436007833600 [0;39m <==    Updates: 2
2023-05-17 00:09:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464436007833600 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:09:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464561828564992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:09:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464561828564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:09:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464561828564992 [0;39m ==> Parameters: 
2023-05-17 00:09:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464561828564992 [0;39m <==    Updates: 2
2023-05-17 00:09:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464561828564992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:10:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39464666707136512 [0;39m 生成今日电子书快照开始
2023-05-17 00:10:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464666707136512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:10:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464666707136512 [0;39m ==> Parameters: 
2023-05-17 00:10:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464666707136512 [0;39m <==    Updates: 0
2023-05-17 00:10:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39464666707136512 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:10:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464687619936256 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:10:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464687619936256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:10:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464687619936256 [0;39m ==> Parameters: 
2023-05-17 00:10:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464687619936256 [0;39m <==    Updates: 2
2023-05-17 00:10:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464687619936256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:10:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464813478416384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:10:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464813478416384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:10:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464813478416384 [0;39m ==> Parameters: 
2023-05-17 00:10:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464813478416384 [0;39m <==    Updates: 2
2023-05-17 00:10:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464813478416384 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:10:41.962 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:10:41.962 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:10:41.962 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39464842809184257 [0;39m ------------- 开始 -------------
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39464842809184256 [0;39m ------------- 开始 -------------
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39464842809184257 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39464842809184256 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39464842809184256 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39464842809184257 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:10:42.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39464842809184256 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:10:42.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39464842809184257 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:10:42.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39464842809184256 [0;39m 请求参数: [2]
2023-05-17 00:10:42.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39464842809184257 [0;39m 请求参数: [2]
2023-05-17 00:10:42.048 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39464842809184256 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:10:42.049 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39464842809184256 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:10:42.065 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39464842809184256 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:10:42.078 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39464842809184256 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:10:42.081 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39464842809184256 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:10:42.081 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39464842809184256 [0;39m <==      Total: 2
2023-05-17 00:10:42.090 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39464842809184257 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:10:42.090 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39464842809184257 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:10:42.090 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:10:42.090 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:10:42.095 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:10:42.097 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:10:42.097 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m <==      Total: 1
2023-05-17 00:10:42.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:10:42.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:10:42.099 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:10:42.099 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:10:42.099 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m <==      Total: 1
2023-05-17 00:10:42.100 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:10:42.100 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:10:42.100 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:10:42.101 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:10:42.101 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m <==      Total: 1
2023-05-17 00:10:42.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39464842809184257 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:10:42.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39464842809184257 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 152, 1
2023-05-17 00:10:42.101 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39464842809184257 [0;39m <==      Total: 1
2023-05-17 00:10:42.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39464842809184256 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:10:42.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39464842809184256 [0;39m ------------- 结束 耗时：107 ms -------------
2023-05-17 00:10:42.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39464842809184257 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":152,"voteCount":1}],"success":true}
2023-05-17 00:10:42.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39464842809184257 [0;39m ------------- 结束 耗时：129 ms -------------
2023-05-17 00:10:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39464846110101504 [0;39m ------------- 开始 -------------
2023-05-17 00:10:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39464846110101504 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:10:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39464846110101504 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:10:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39464846110101504 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:10:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39464846110101504 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:10:42.792 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39464846110101504 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:10:42.793 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39464846110101504 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:10:42.796 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39464846110101504 [0;39m <==    Columns: id, content
2023-05-17 00:10:42.796 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39464846110101504 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:10:42.797 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39464846110101504 [0;39m <==      Total: 1
2023-05-17 00:10:42.798 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39464846110101504 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:10:42.798 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39464846110101504 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:10:42.802 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39464846110101504 [0;39m <==    Updates: 1
2023-05-17 00:10:42.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39464846110101504 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:10:42.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39464846110101504 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 00:11:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39464918319239168 [0;39m 生成今日电子书快照开始
2023-05-17 00:11:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464918319239168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:11:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464918319239168 [0;39m ==> Parameters: 
2023-05-17 00:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464918319239168 [0;39m <==    Updates: 0
2023-05-17 00:11:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39464918319239168 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 00:11:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464939315924992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:11:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464939315924992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:11:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464939315924992 [0;39m ==> Parameters: 
2023-05-17 00:11:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464939315924992 [0;39m <==    Updates: 2
2023-05-17 00:11:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464939315924992 [0;39m 更新电子书下的文档数据结束，耗时：11毫秒
2023-05-17 00:11:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465065107296256 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:11:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465065107296256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:11:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465065107296256 [0;39m ==> Parameters: 
2023-05-17 00:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465065107296256 [0;39m <==    Updates: 2
2023-05-17 00:11:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465065107296256 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-17 00:12:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39465169948119040 [0;39m 生成今日电子书快照开始
2023-05-17 00:12:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465169948119040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:12:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465169948119040 [0;39m ==> Parameters: 
2023-05-17 00:12:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465169948119040 [0;39m <==    Updates: 0
2023-05-17 00:12:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39465169948119040 [0;39m 生成今日电子书快照结束，耗时：13毫秒
2023-05-17 00:12:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465190957387776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:12:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465190957387776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:12:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465190957387776 [0;39m ==> Parameters: 
2023-05-17 00:12:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465190957387776 [0;39m <==    Updates: 2
2023-05-17 00:12:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465190957387776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465316790702080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465316790702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465316790702080 [0;39m ==> Parameters: 
2023-05-17 00:12:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465316790702080 [0;39m <==    Updates: 2
2023-05-17 00:12:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465316790702080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:12:45.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465358855376896 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465358855376897 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465358855376896 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465358855376897 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465358855376896 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465358855376896 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465358855376897 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465358855376896 [0;39m 请求参数: [2]
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465358855376897 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465358855376897 [0;39m 请求参数: [2]
2023-05-17 00:12:45.043 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465358855376897 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:12:45.044 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465358855376897 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:12:45.044 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465358855376896 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:12:45.045 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465358855376896 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:12:45.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465358855376897 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:12:45.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465358855376897 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:12:45.045 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465358855376896 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:12:45.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465358855376896 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 153, 1
2023-05-17 00:12:45.046 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465358855376896 [0;39m <==      Total: 1
2023-05-17 00:12:45.046 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465358855376897 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:12:45.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465358855376896 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":153,"voteCount":1}],"success":true}
2023-05-17 00:12:45.047 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465358855376897 [0;39m <==      Total: 2
2023-05-17 00:12:45.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465358855376896 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:12:45.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.048 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.048 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m <==      Total: 1
2023-05-17 00:12:45.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.050 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.050 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m <==      Total: 1
2023-05-17 00:12:45.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.051 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.052 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.052 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m <==      Total: 1
2023-05-17 00:12:45.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465358855376897 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:12:45.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465358855376897 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:12:45.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465358985400320 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465358985400320 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:12:45.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465358985400320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:12:45.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465358985400320 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465358985400320 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:12:45.070 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465358985400320 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:12:45.070 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465358985400320 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:12:45.070 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465358985400320 [0;39m <==    Columns: id, content
2023-05-17 00:12:45.070 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465358985400320 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:12:45.070 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465358985400320 [0;39m <==      Total: 1
2023-05-17 00:12:45.070 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465358985400320 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:12:45.070 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465358985400320 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:12:45.076 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465358985400320 [0;39m <==    Updates: 1
2023-05-17 00:12:45.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465358985400320 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:12:45.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465358985400320 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465359098646528 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465359098646528 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465359098646528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465359098646528 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465359098646529 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465359098646528 [0;39m 请求参数: [2]
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465359098646529 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465359098646529 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465359098646529 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465359098646529 [0;39m 请求参数: [2]
2023-05-17 00:12:45.097 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465359098646528 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:12:45.097 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465359098646529 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:12:45.097 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465359098646528 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:12:45.097 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465359098646529 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:12:45.097 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465359098646528 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:12:45.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465359098646528 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 154, 1
2023-05-17 00:12:45.101 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465359098646529 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:12:45.101 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465359098646528 [0;39m <==      Total: 1
2023-05-17 00:12:45.101 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465359098646529 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:12:45.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465359098646528 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":154,"voteCount":1}],"success":true}
2023-05-17 00:12:45.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465359098646528 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:12:45.101 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465359098646529 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:12:45.101 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465359098646529 [0;39m <==      Total: 2
2023-05-17 00:12:45.101 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.101 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.105 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.105 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m <==      Total: 1
2023-05-17 00:12:45.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.108 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.108 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.109 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m <==      Total: 1
2023-05-17 00:12:45.110 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.110 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.111 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.111 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.111 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m <==      Total: 1
2023-05-17 00:12:45.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465359098646529 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:12:45.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465359098646529 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:12:45.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465359216087040 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465359216087040 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:12:45.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465359216087040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:12:45.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465359216087040 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465359216087040 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:12:45.127 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465359216087040 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:12:45.127 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465359216087040 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:12:45.129 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465359216087040 [0;39m <==    Columns: id, content
2023-05-17 00:12:45.129 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465359216087040 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:12:45.129 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465359216087040 [0;39m <==      Total: 1
2023-05-17 00:12:45.130 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465359216087040 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:12:45.130 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465359216087040 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:12:45.132 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465359216087040 [0;39m <==    Updates: 1
2023-05-17 00:12:45.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465359216087040 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:12:45.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465359216087040 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:12:58.864 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39464842809184257 [0;39m 有新连接：token：fflvYGknee，session id：0，当前连接数：1
2023-05-17 00:13:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39465421648302080 [0;39m 生成今日电子书快照开始
2023-05-17 00:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465421648302080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465421648302080 [0;39m ==> Parameters: 
2023-05-17 00:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465421648302080 [0;39m <==    Updates: 0
2023-05-17 00:13:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39465421648302080 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:13:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465442644987904 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465442644987904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465442644987904 [0;39m ==> Parameters: 
2023-05-17 00:13:05.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465442644987904 [0;39m <==    Updates: 2
2023-05-17 00:13:05.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465442644987904 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:13:20.203 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39464846110101504 [0;39m 连接关闭，token：fflvYGknee，session id：0！当前连接数：0
2023-05-17 00:13:21.296 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：At3IducSwQ，session id：1，当前连接数：1
2023-05-17 00:13:21.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465511251218432 [0;39m ------------- 开始 -------------
2023-05-17 00:13:21.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465511251218432 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:13:21.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465511255412736 [0;39m ------------- 开始 -------------
2023-05-17 00:13:21.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465511255412736 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:21.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465511255412736 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:21.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465511255412736 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:21.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465511255412736 [0;39m 请求参数: [2]
2023-05-17 00:13:21.375 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465511255412736 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:21.376 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465511255412736 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:21.377 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465511255412736 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:21.377 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465511255412736 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:21.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465511251218432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:13:21.378 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465511255412736 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:21.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465511251218432 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:21.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465511251218432 [0;39m 请求参数: [2]
2023-05-17 00:13:21.379 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465511255412736 [0;39m <==      Total: 2
2023-05-17 00:13:21.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:21.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:21.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:21.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:21.380 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465511251218432 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:13:21.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m <==      Total: 1
2023-05-17 00:13:21.381 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465511251218432 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:21.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:21.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:21.382 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465511251218432 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:13:21.382 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465511251218432 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 155, 1
2023-05-17 00:13:21.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:21.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:21.382 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465511251218432 [0;39m <==      Total: 1
2023-05-17 00:13:21.382 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m <==      Total: 1
2023-05-17 00:13:21.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465511251218432 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":155,"voteCount":1}],"success":true}
2023-05-17 00:13:21.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:21.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465511251218432 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:13:21.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:21.384 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:21.384 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:21.384 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m <==      Total: 1
2023-05-17 00:13:21.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465511255412736 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:21.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465511255412736 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 00:13:21.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465511775506432 [0;39m ------------- 开始 -------------
2023-05-17 00:13:21.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465511775506432 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:13:21.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465511775506432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:13:21.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465511775506432 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:21.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465511775506432 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:13:21.499 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465511775506432 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:13:21.499 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465511775506432 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:13:21.500 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465511775506432 [0;39m <==    Columns: id, content
2023-05-17 00:13:21.500 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465511775506432 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:13:21.501 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465511775506432 [0;39m <==      Total: 1
2023-05-17 00:13:21.501 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465511775506432 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:13:21.502 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465511775506432 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:13:21.504 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465511775506432 [0;39m <==    Updates: 1
2023-05-17 00:13:21.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465511775506432 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:13:21.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465511775506432 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:13:22.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465515961421824 [0;39m ------------- 开始 -------------
2023-05-17 00:13:22.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465515961421824 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:22.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465515961421824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:22.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465515961421824 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:22.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465515961421824 [0;39m 请求参数: [2]
2023-05-17 00:13:22.496 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465515961421824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:22.503 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465515961421824 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:22.505 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465515961421824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:22.505 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465515961421824 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:22.505 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465515961421824 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:22.505 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465515961421824 [0;39m <==      Total: 2
2023-05-17 00:13:22.505 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:22.505 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:22.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:22.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m <==      Total: 1
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:22.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:22.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m <==      Total: 1
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:22.516 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:22.516 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:22.517 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m <==      Total: 1
2023-05-17 00:13:22.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465515961421824 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:22.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465515961421824 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 00:13:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465568453136384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:13:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465568453136384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:13:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465568453136384 [0;39m ==> Parameters: 
2023-05-17 00:13:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465568453136384 [0;39m <==    Updates: 2
2023-05-17 00:13:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465568453136384 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:13:39.761 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39465359098646528 [0;39m 连接关闭，token：At3IducSwQ，session id：1！当前连接数：0
2023-05-17 00:13:39.946 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39465359098646529 [0;39m 有新连接：token：WkwUXAG5TJ，session id：2，当前连接数：1
2023-05-17 00:13:39.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465589294632960 [0;39m ------------- 开始 -------------
2023-05-17 00:13:39.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465589294632961 [0;39m ------------- 开始 -------------
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465589294632960 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465589294632961 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465589294632960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465589294632961 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465589294632960 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465589294632961 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465589294632960 [0;39m 请求参数: [2]
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465589294632961 [0;39m 请求参数: [2]
2023-05-17 00:13:39.982 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465589294632960 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:39.982 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465589294632961 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:13:39.982 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465589294632960 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:39.982 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465589294632961 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:39.983 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465589294632960 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:39.983 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465589294632961 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:13:39.984 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465589294632961 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 156, 1
2023-05-17 00:13:39.984 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465589294632960 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:39.984 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465589294632961 [0;39m <==      Total: 1
2023-05-17 00:13:39.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465589294632961 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":156,"voteCount":1}],"success":true}
2023-05-17 00:13:39.984 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465589294632960 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:39.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465589294632961 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:13:39.985 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465589294632960 [0;39m <==      Total: 2
2023-05-17 00:13:39.985 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:39.985 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:39.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:39.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:39.988 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m <==      Total: 1
2023-05-17 00:13:39.989 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:39.990 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:39.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:39.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:39.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m <==      Total: 1
2023-05-17 00:13:39.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:39.992 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:39.992 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:39.993 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:39.993 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m <==      Total: 1
2023-05-17 00:13:39.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465589294632960 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:39.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465589294632960 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:13:40.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465589495959552 [0;39m ------------- 开始 -------------
2023-05-17 00:13:40.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465589495959552 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:13:40.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465589495959552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:13:40.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465589495959552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:40.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465589495959552 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:13:40.030 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465589495959552 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:13:40.030 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465589495959552 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:13:40.031 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465589495959552 [0;39m <==    Columns: id, content
2023-05-17 00:13:40.032 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465589495959552 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:13:40.032 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465589495959552 [0;39m <==      Total: 1
2023-05-17 00:13:40.033 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465589495959552 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:13:40.033 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465589495959552 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:13:40.041 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465589495959552 [0;39m <==    Updates: 1
2023-05-17 00:13:40.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465589495959552 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:13:40.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465589495959552 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:13:41.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465595875495936 [0;39m ------------- 开始 -------------
2023-05-17 00:13:41.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465595875495936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:41.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465595875495936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:41.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465595875495936 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:41.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465595875495936 [0;39m 请求参数: [2]
2023-05-17 00:13:41.551 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465595875495936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:41.551 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465595875495936 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:41.552 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465595875495936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:41.552 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465595875495936 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:41.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465595875495936 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:41.553 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465595875495936 [0;39m <==      Total: 2
2023-05-17 00:13:41.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:41.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:41.553 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:41.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:41.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m <==      Total: 1
2023-05-17 00:13:41.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:41.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:41.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:41.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:41.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m <==      Total: 1
2023-05-17 00:13:41.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:41.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:41.557 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:41.557 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:41.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m <==      Total: 1
2023-05-17 00:13:41.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465595875495936 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:41.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465595875495936 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 00:13:45.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465611067265024 [0;39m ------------- 开始 -------------
2023-05-17 00:13:45.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465611067265024 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:45.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465611067265024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:45.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465611067265024 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:45.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465611067265024 [0;39m 请求参数: [2]
2023-05-17 00:13:45.174 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465611067265024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:45.174 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465611067265024 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:45.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465611067265024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:45.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465611067265024 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:45.176 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465611067265024 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:45.177 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465611067265024 [0;39m <==      Total: 2
2023-05-17 00:13:45.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:45.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:45.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:45.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:45.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m <==      Total: 1
2023-05-17 00:13:45.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:45.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:45.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:45.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:45.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m <==      Total: 1
2023-05-17 00:13:45.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:45.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:45.181 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:45.181 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:45.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m <==      Total: 1
2023-05-17 00:13:45.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465611067265024 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:45.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465611067265024 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:13:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465620970016768 [0;39m ------------- 开始 -------------
2023-05-17 00:13:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465620970016768 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465620970016768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465620970016768 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465620970016768 [0;39m 请求参数: [2]
2023-05-17 00:13:47.532 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465620970016768 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:47.532 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465620970016768 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:47.532 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465620970016768 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:47.532 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465620970016768 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:47.532 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465620970016768 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:47.532 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465620970016768 [0;39m <==      Total: 2
2023-05-17 00:13:47.532 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:47.532 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:47.537 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:47.537 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:47.537 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m <==      Total: 1
2023-05-17 00:13:47.537 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:47.537 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:47.537 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:47.537 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:47.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m <==      Total: 1
2023-05-17 00:13:47.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:47.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:47.541 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:47.541 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:47.541 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m <==      Total: 1
2023-05-17 00:13:47.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465620970016768 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:47.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465620970016768 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:14:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39465673306542080 [0;39m 生成今日电子书快照开始
2023-05-17 00:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465673306542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465673306542080 [0;39m ==> Parameters: 
2023-05-17 00:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465673306542080 [0;39m <==    Updates: 0
2023-05-17 00:14:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39465673306542080 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:14:00.674 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39465511775506432 [0;39m 连接关闭，token：WkwUXAG5TJ，session id：2！当前连接数：0
2023-05-17 00:14:00.867 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39465515961421824 [0;39m 有新连接：token：K0zykRIYBZ，session id：3，当前连接数：1
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465677035278336 [0;39m ------------- 开始 -------------
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465677035278337 [0;39m ------------- 开始 -------------
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465677035278336 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465677035278337 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465677035278336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465677035278337 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465677035278336 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:14:00.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465677035278336 [0;39m 请求参数: [2]
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465677035278337 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:14:00.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465677035278337 [0;39m 请求参数: [2]
2023-05-17 00:14:00.901 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465677035278337 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:14:00.901 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465677035278336 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:14:00.901 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465677035278337 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:14:00.901 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465677035278336 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:14:00.902 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465677035278336 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:14:00.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465677035278337 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:14:00.902 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465677035278336 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 157, 1
2023-05-17 00:14:00.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465677035278337 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:14:00.902 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465677035278336 [0;39m <==      Total: 1
2023-05-17 00:14:00.903 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465677035278337 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:14:00.903 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465677035278337 [0;39m <==      Total: 2
2023-05-17 00:14:00.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465677035278336 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":157,"voteCount":1}],"success":true}
2023-05-17 00:14:00.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465677035278336 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:14:00.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:00.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:00.905 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:00.905 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:00.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m <==      Total: 1
2023-05-17 00:14:00.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:00.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:00.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:00.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:00.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m <==      Total: 1
2023-05-17 00:14:00.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:00.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:00.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:00.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:00.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m <==      Total: 1
2023-05-17 00:14:00.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465677035278337 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:14:00.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465677035278337 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:14:00.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465677257576448 [0;39m ------------- 开始 -------------
2023-05-17 00:14:00.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465677257576448 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:14:00.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465677257576448 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:14:00.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465677257576448 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:14:00.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465677257576448 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:14:00.954 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465677257576448 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:14:00.954 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465677257576448 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:14:00.955 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465677257576448 [0;39m <==    Columns: id, content
2023-05-17 00:14:00.955 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465677257576448 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:14:00.956 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465677257576448 [0;39m <==      Total: 1
2023-05-17 00:14:00.956 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465677257576448 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:14:00.957 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465677257576448 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:14:00.961 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465677257576448 [0;39m <==    Updates: 1
2023-05-17 00:14:00.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465677257576448 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:14:00.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465677257576448 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:14:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465681359605760 [0;39m ------------- 开始 -------------
2023-05-17 00:14:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465681359605760 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:14:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465681359605760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:14:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465681359605760 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:14:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465681359605760 [0;39m 请求参数: [2]
2023-05-17 00:14:01.931 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465681359605760 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:14:01.931 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465681359605760 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:14:01.932 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465681359605760 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:14:01.932 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465681359605760 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:14:01.933 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465681359605760 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:14:01.933 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465681359605760 [0;39m <==      Total: 2
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m <==      Total: 1
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m <==      Total: 1
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m <==      Total: 1
2023-05-17 00:14:01.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465681359605760 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:14:01.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465681359605760 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:14:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465694269673472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:14:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465694269673472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:14:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465694269673472 [0;39m ==> Parameters: 
2023-05-17 00:14:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465694269673472 [0;39m <==    Updates: 2
2023-05-17 00:14:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465694269673472 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:14:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465820136542208 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465820136542208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465820136542208 [0;39m ==> Parameters: 
2023-05-17 00:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465820136542208 [0;39m <==    Updates: 2
2023-05-17 00:14:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465820136542208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:15:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39465924964782080 [0;39m 生成今日电子书快照开始
2023-05-17 00:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465924964782080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465924964782080 [0;39m ==> Parameters: 
2023-05-17 00:15:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465924964782080 [0;39m <==    Updates: 0
2023-05-17 00:15:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39465924964782080 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:15:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465945919524864 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:15:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465945919524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:15:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465945919524864 [0;39m ==> Parameters: 
2023-05-17 00:15:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465945919524864 [0;39m <==    Updates: 2
2023-05-17 00:15:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465945919524864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:15:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466071761227776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:15:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466071761227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:15:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466071761227776 [0;39m ==> Parameters: 
2023-05-17 00:15:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466071761227776 [0;39m <==    Updates: 2
2023-05-17 00:15:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466071761227776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:16:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39466176606244864 [0;39m 生成今日电子书快照开始
2023-05-17 00:16:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466176606244864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:16:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466176606244864 [0;39m ==> Parameters: 
2023-05-17 00:16:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466176606244864 [0;39m <==    Updates: 0
2023-05-17 00:16:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39466176606244864 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:16:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466197569376256 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:16:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466197569376256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:16:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466197569376256 [0;39m ==> Parameters: 
2023-05-17 00:16:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466197569376256 [0;39m <==    Updates: 2
2023-05-17 00:16:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466197569376256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:16:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466323448827904 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:16:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466323448827904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:16:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466323448827904 [0;39m ==> Parameters: 
2023-05-17 00:16:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466323448827904 [0;39m <==    Updates: 2
2023-05-17 00:16:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466323448827904 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:17:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39466428289650688 [0;39m 生成今日电子书快照开始
2023-05-17 00:17:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466428289650688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466428289650688 [0;39m ==> Parameters: 
2023-05-17 00:17:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466428289650688 [0;39m <==    Updates: 0
2023-05-17 00:17:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39466428289650688 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 00:17:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466449256976384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:17:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466449256976384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:17:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466449256976384 [0;39m ==> Parameters: 
2023-05-17 00:17:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466449256976384 [0;39m <==    Updates: 2
2023-05-17 00:17:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466449256976384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:17:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466575094484992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466575094484992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466575094484992 [0;39m ==> Parameters: 
2023-05-17 00:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466575094484992 [0;39m <==    Updates: 2
2023-05-17 00:17:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466575094484992 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:18:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39466679939502080 [0;39m 生成今日电子书快照开始
2023-05-17 00:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466679939502080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466679939502080 [0;39m ==> Parameters: 
2023-05-17 00:18:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466679939502080 [0;39m <==    Updates: 0
2023-05-17 00:18:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39466679939502080 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:18:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466700940382208 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:18:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466700940382208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:18:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466700940382208 [0;39m ==> Parameters: 
2023-05-17 00:18:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466700940382208 [0;39m <==    Updates: 2
2023-05-17 00:18:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466700940382208 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:18:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466826740142080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466826740142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466826740142080 [0;39m ==> Parameters: 
2023-05-17 00:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466826740142080 [0;39m <==    Updates: 2
2023-05-17 00:18:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466826740142080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:19:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39466931572576256 [0;39m 生成今日电子书快照开始
2023-05-17 00:19:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466931572576256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:19:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466931572576256 [0;39m ==> Parameters: 
2023-05-17 00:19:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466931572576256 [0;39m <==    Updates: 0
2023-05-17 00:19:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39466931572576256 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 00:19:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466952556679168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:19:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466952556679168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:19:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466952556679168 [0;39m ==> Parameters: 
2023-05-17 00:19:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466952556679168 [0;39m <==    Updates: 2
2023-05-17 00:19:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466952556679168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:19:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467078360633344 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:19:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467078360633344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:19:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467078360633344 [0;39m ==> Parameters: 
2023-05-17 00:19:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467078360633344 [0;39m <==    Updates: 2
2023-05-17 00:19:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467078360633344 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:20:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39467183264370688 [0;39m 生成今日电子书快照开始
2023-05-17 00:20:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467183264370688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:20:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467183264370688 [0;39m ==> Parameters: 
2023-05-17 00:20:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467183264370688 [0;39m <==    Updates: 0
2023-05-17 00:20:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39467183264370688 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-17 00:20:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467204227502080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467204227502080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467204227502080 [0;39m ==> Parameters: 
2023-05-17 00:20:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467204227502080 [0;39m <==    Updates: 2
2023-05-17 00:20:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467204227502080 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 00:20:11.154 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39465611067265024 [0;39m 连接关闭，token：K0zykRIYBZ，session id：3！当前连接数：0
2023-05-17 00:20:11.331 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39465620970016768 [0;39m 有新连接：token：dixIw0SPQn，session id：4，当前连接数：1
2023-05-17 00:20:11.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467230903275521 [0;39m ------------- 开始 -------------
2023-05-17 00:20:11.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467230903275520 [0;39m ------------- 开始 -------------
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467230903275521 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467230903275521 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467230903275520 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467230903275521 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467230903275520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467230903275521 [0;39m 请求参数: [2]
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467230903275520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467230903275520 [0;39m 请求参数: [2]
2023-05-17 00:20:11.372 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467230903275520 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:20:11.372 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467230903275521 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:11.372 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467230903275520 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:11.372 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467230903275521 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:11.373 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467230903275521 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:11.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467230903275520 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:20:11.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467230903275520 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 158, 1
2023-05-17 00:20:11.373 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467230903275521 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:11.373 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467230903275520 [0;39m <==      Total: 1
2023-05-17 00:20:11.373 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467230903275521 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:11.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467230903275520 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":158,"voteCount":1}],"success":true}
2023-05-17 00:20:11.375 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467230903275521 [0;39m <==      Total: 2
2023-05-17 00:20:11.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467230903275520 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:20:11.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:11.376 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:11.378 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:11.378 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:11.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m <==      Total: 1
2023-05-17 00:20:11.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:11.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:11.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:11.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:11.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m <==      Total: 1
2023-05-17 00:20:11.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:11.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:11.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:11.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:11.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m <==      Total: 1
2023-05-17 00:20:11.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467230903275521 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:11.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467230903275521 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:20:11.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467231112990720 [0;39m ------------- 开始 -------------
2023-05-17 00:20:11.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467231112990720 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:20:11.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467231112990720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:20:11.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467231112990720 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:11.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467231112990720 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:20:11.421 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467231112990720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:20:11.421 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467231112990720 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:20:11.421 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467231112990720 [0;39m <==    Columns: id, content
2023-05-17 00:20:11.421 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467231112990720 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:20:11.425 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467231112990720 [0;39m <==      Total: 1
2023-05-17 00:20:11.425 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467231112990720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:20:11.426 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467231112990720 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:20:11.434 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467231112990720 [0;39m <==    Updates: 1
2023-05-17 00:20:11.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467231112990720 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:20:11.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467231112990720 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:20:12.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467236796272640 [0;39m ------------- 开始 -------------
2023-05-17 00:20:12.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467236796272640 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:12.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467236796272640 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:12.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467236796272640 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:12.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467236796272640 [0;39m 请求参数: [2]
2023-05-17 00:20:12.776 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467236796272640 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:12.776 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467236796272640 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:12.777 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467236796272640 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:12.777 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467236796272640 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:12.777 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467236796272640 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:12.777 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467236796272640 [0;39m <==      Total: 2
2023-05-17 00:20:12.778 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:12.778 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:12.778 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:12.778 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:12.779 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m <==      Total: 1
2023-05-17 00:20:12.779 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:12.780 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:12.780 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:12.780 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:12.780 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m <==      Total: 1
2023-05-17 00:20:12.781 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:12.781 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:12.781 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:12.781 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:12.782 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m <==      Total: 1
2023-05-17 00:20:12.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467236796272640 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:12.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467236796272640 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:20:13.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467239702925312 [0;39m ------------- 开始 -------------
2023-05-17 00:20:13.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467239702925312 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:13.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467239702925312 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:13.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467239702925312 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:13.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467239702925312 [0;39m 请求参数: [2]
2023-05-17 00:20:13.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467239702925312 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:13.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467239702925312 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:13.468 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467239702925312 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:13.468 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467239702925312 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:13.468 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467239702925312 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:13.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467239702925312 [0;39m <==      Total: 2
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m <==      Total: 1
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m <==      Total: 1
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.473 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m <==      Total: 1
2023-05-17 00:20:13.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467239702925312 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:13.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467239702925312 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:20:13.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467241359675392 [0;39m ------------- 开始 -------------
2023-05-17 00:20:13.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467241359675392 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:13.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467241359675392 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:13.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467241359675392 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:13.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467241359675392 [0;39m 请求参数: [2]
2023-05-17 00:20:13.869 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467241359675392 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:13.870 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467241359675392 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:13.871 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467241359675392 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:13.872 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467241359675392 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:13.872 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467241359675392 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:13.874 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467241359675392 [0;39m <==      Total: 2
2023-05-17 00:20:13.874 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.875 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.875 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m <==      Total: 1
2023-05-17 00:20:13.876 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.876 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.877 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.877 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m <==      Total: 1
2023-05-17 00:20:13.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.878 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.878 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.880 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m <==      Total: 1
2023-05-17 00:20:13.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467241359675392 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:13.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467241359675392 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-17 00:20:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467242001403904 [0;39m ------------- 开始 -------------
2023-05-17 00:20:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467242001403904 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467242001403904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467242001403904 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:14.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467242001403904 [0;39m 请求参数: [2]
2023-05-17 00:20:14.018 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242001403904 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:14.019 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242001403904 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:14.019 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242001403904 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:14.019 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242001403904 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:14.019 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242001403904 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:14.019 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242001403904 [0;39m <==      Total: 2
2023-05-17 00:20:14.019 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.019 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.019 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.022 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m <==      Total: 1
2023-05-17 00:20:14.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m <==      Total: 1
2023-05-17 00:20:14.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.024 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.024 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m <==      Total: 1
2023-05-17 00:20:14.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467242001403904 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:14.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467242001403904 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:20:14.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467242651521024 [0;39m ------------- 开始 -------------
2023-05-17 00:20:14.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467242651521024 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:14.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467242651521024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:14.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467242651521024 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:14.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467242651521024 [0;39m 请求参数: [2]
2023-05-17 00:20:14.171 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242651521024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:14.171 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242651521024 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:14.171 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242651521024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:14.171 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242651521024 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:14.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242651521024 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:14.175 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242651521024 [0;39m <==      Total: 2
2023-05-17 00:20:14.176 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.176 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.177 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.177 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m <==      Total: 1
2023-05-17 00:20:14.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m <==      Total: 1
2023-05-17 00:20:14.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m <==      Total: 1
2023-05-17 00:20:14.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467242651521024 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:14.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467242651521024 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:20:15.502 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39465611067265024 [0;39m 连接关闭，token：dixIw0SPQn，session id：4！当前连接数：0
2023-05-17 00:20:15.801 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39465620970016768 [0;39m 有新连接：token：qi7XqSosKD，session id：5，当前连接数：1
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467249660203008 [0;39m ------------- 开始 -------------
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467249660203008 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467249660203009 [0;39m ------------- 开始 -------------
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467249660203008 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467249660203009 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467249660203008 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467249660203009 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:20:15.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467249660203009 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:15.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467249660203008 [0;39m 请求参数: [2]
2023-05-17 00:20:15.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467249660203009 [0;39m 请求参数: [2]
2023-05-17 00:20:15.843 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467249660203008 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:15.843 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467249660203008 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:15.843 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467249660203009 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:20:15.843 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467249660203009 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:15.843 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467249660203008 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:15.845 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467249660203008 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:15.845 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467249660203009 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:20:15.845 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467249660203008 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:15.845 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467249660203009 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 159, 1
2023-05-17 00:20:15.845 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467249660203008 [0;39m <==      Total: 2
2023-05-17 00:20:15.845 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467249660203009 [0;39m <==      Total: 1
2023-05-17 00:20:15.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467249660203009 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":159,"voteCount":1}],"success":true}
2023-05-17 00:20:15.846 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:15.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467249660203009 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:20:15.846 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:15.847 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:15.847 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:15.847 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m <==      Total: 1
2023-05-17 00:20:15.848 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:15.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:15.850 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:15.850 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:15.850 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m <==      Total: 1
2023-05-17 00:20:15.851 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:15.851 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:15.852 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:15.852 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:15.852 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m <==      Total: 1
2023-05-17 00:20:15.852 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467249660203008 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:15.852 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467249660203008 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 00:20:15.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467249895084032 [0;39m ------------- 开始 -------------
2023-05-17 00:20:15.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467249895084032 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:20:15.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467249895084032 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:20:15.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467249895084032 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:15.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467249895084032 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:20:15.899 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467249895084032 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:20:15.899 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467249895084032 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:20:15.899 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467249895084032 [0;39m <==    Columns: id, content
2023-05-17 00:20:15.899 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467249895084032 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:20:15.899 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467249895084032 [0;39m <==      Total: 1
2023-05-17 00:20:15.899 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467249895084032 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:20:15.904 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467249895084032 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:20:15.906 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467249895084032 [0;39m <==    Updates: 1
2023-05-17 00:20:15.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467249895084032 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:20:15.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467249895084032 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:20:22.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467277476827136 [0;39m ------------- 开始 -------------
2023-05-17 00:20:22.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467277476827136 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:22.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467277476827136 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:22.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467277476827136 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:22.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467277476827136 [0;39m 请求参数: [2]
2023-05-17 00:20:22.475 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467277476827136 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:22.475 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467277476827136 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:22.476 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467277476827136 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:22.476 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467277476827136 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:22.477 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467277476827136 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:22.477 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467277476827136 [0;39m <==      Total: 2
2023-05-17 00:20:22.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:22.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:22.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:22.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:22.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m <==      Total: 1
2023-05-17 00:20:22.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:22.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:22.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:22.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:22.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m <==      Total: 1
2023-05-17 00:20:22.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:22.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:22.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:22.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:22.481 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m <==      Total: 1
2023-05-17 00:20:22.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467277476827136 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:22.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467277476827136 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:20:26.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467293796864000 [0;39m ------------- 开始 -------------
2023-05-17 00:20:26.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467293796864000 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:26.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467293796864000 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:26.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467293796864000 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:26.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467293796864000 [0;39m 请求参数: [2]
2023-05-17 00:20:26.367 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467293796864000 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:26.367 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467293796864000 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:26.369 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467293796864000 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:26.370 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467293796864000 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:26.370 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467293796864000 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:26.371 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467293796864000 [0;39m <==      Total: 2
2023-05-17 00:20:26.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:26.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:26.372 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:26.372 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:26.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m <==      Total: 1
2023-05-17 00:20:26.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:26.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:26.374 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:26.374 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:26.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m <==      Total: 1
2023-05-17 00:20:26.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:26.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:26.376 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:26.376 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:26.376 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m <==      Total: 1
2023-05-17 00:20:26.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467293796864000 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:26.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467293796864000 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:20:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467330048233472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:20:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467330048233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:20:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467330048233472 [0;39m ==> Parameters: 
2023-05-17 00:20:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467330048233472 [0;39m <==    Updates: 2
2023-05-17 00:20:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467330048233472 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 00:20:35.755 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39467241359675392 [0;39m 连接关闭，token：qi7XqSosKD，session id：5！当前连接数：0
2023-05-17 00:20:37.466 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39467242001403904 [0;39m 有新连接：token：ceIZomIyHK，session id：6，当前连接数：1
2023-05-17 00:20:37.631 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39467242651521024 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:20:37.634 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39467242651521024 [0;39m ------------- LoginInterceptor 结束 耗时：3 ms -------------
2023-05-17 00:20:37.639 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39465611067265024 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:20:37.639 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39465611067265024 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 00:20:37.640 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39465611067265024 [0;39m 登录校验开始，token：39402521571233792
2023-05-17 00:20:37.874 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39465611067265024 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-17 00:20:37.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467342496927744 [0;39m ------------- 开始 -------------
2023-05-17 00:20:37.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467342496927744 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 00:20:37.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467342496927744 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 00:20:37.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467342496927744 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:37.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467342496927744 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 00:20:38.024 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39467342496927744 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 00:20:38.024 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39467342496927744 [0;39m ==> Parameters: 
2023-05-17 00:20:38.031 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39467342496927744 [0;39m <==    Columns: count(0)
2023-05-17 00:20:38.032 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39467342496927744 [0;39m <==        Row: 2
2023-05-17 00:20:38.032 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39467342496927744 [0;39m <==      Total: 1
2023-05-17 00:20:38.036 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467342496927744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 00:20:38.036 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467342496927744 [0;39m ==> Parameters: 10(Integer)
2023-05-17 00:20:38.036 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39467342496927744 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:38.036 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39467342496927744 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:38.036 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39467342496927744 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 00:20:38.036 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467342496927744 [0;39m <==      Total: 2
2023-05-17 00:20:38.040 INFO  com.jiawa.wiki.service.UserService                :50   [32m39467342496927744 [0;39m 总行数：2
2023-05-17 00:20:38.040 INFO  com.jiawa.wiki.service.UserService                :51   [32m39467342496927744 [0;39m 总页数：1
2023-05-17 00:20:38.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467342496927744 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 00:20:38.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467342496927744 [0;39m ------------- 结束 耗时：75 ms -------------
2023-05-17 00:20:38.051 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39467342496927744 [0;39m ------------- LoginInterceptor 结束 耗时：412 ms -------------
2023-05-17 00:20:39.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467346892558336 [0;39m ------------- 开始 -------------
2023-05-17 00:20:39.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467346892558336 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:20:39.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467346892558336 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:20:39.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467346892558336 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:39.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467346892558336 [0;39m 请求参数: []
2023-05-17 00:20:39.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467346900946944 [0;39m ------------- 开始 -------------
2023-05-17 00:20:39.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467346900946944 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:20:39.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467346900946944 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:20:39.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467346900946944 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:39.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467346900946944 [0;39m 请求参数: []
2023-05-17 00:20:39.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39467346892558336 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:20:39.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39467346892558336 [0;39m ==> Parameters: 
2023-05-17 00:20:39.033 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39467346900946944 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:20:39.033 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39467346892558336 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:20:39.033 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39467346900946944 [0;39m ==> Parameters: 
2023-05-17 00:20:39.033 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39467346892558336 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:20:39.034 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:20:39.034 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39467346892558336 [0;39m <==        Row: 2023-05-17, 609, 16, 14, 0
2023-05-17 00:20:39.035 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:20:39.036 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:20:39.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39467346892558336 [0;39m <==      Total: 2
2023-05-17 00:20:39.036 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:20:39.037 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:20:39.037 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:20:39.037 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:20:39.038 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:20:39.038 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:20:39.038 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39467346900946944 [0;39m <==      Total: 8
2023-05-17 00:20:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467346900946944 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:20:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467346900946944 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:20:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467346892558336 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":609,"viewIncrease":14,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:20:39.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467346892558336 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:20:39.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467346972250112 [0;39m ------------- 开始 -------------
2023-05-17 00:20:39.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467346972250112 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:20:39.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467346972250112 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:20:39.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467346972250112 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:39.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467346972250112 [0;39m 请求参数: []
2023-05-17 00:20:39.048 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39467346972250112 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:20:39.048 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39467346972250112 [0;39m ==> Parameters: 
2023-05-17 00:20:39.049 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:20:39.049 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:20:39.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:20:39.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:20:39.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:20:39.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:20:39.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:20:39.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:20:39.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:20:39.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:20:39.053 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39467346972250112 [0;39m <==      Total: 15
2023-05-17 00:20:39.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467346972250112 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:20:39.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467346972250112 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:20:40.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467351481126912 [0;39m ------------- 开始 -------------
2023-05-17 00:20:40.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467351481126912 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:20:40.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467351481126912 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:20:40.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467351481126912 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:40.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467351481126912 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-17 00:20:40.133 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39467351481126912 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:20:40.134 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39467351481126912 [0;39m ==> Parameters: 202(Long)
2023-05-17 00:20:40.135 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39467351481126912 [0;39m <==    Columns: count(0)
2023-05-17 00:20:40.135 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39467351481126912 [0;39m <==        Row: 1
2023-05-17 00:20:40.135 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39467351481126912 [0;39m <==      Total: 1
2023-05-17 00:20:40.135 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39467351481126912 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:20:40.137 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39467351481126912 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-17 00:20:40.137 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39467351481126912 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:20:40.138 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39467351481126912 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 451, 15
2023-05-17 00:20:40.138 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39467351481126912 [0;39m <==      Total: 1
2023-05-17 00:20:40.138 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39467351481126912 [0;39m 总行数：1
2023-05-17 00:20:40.138 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39467351481126912 [0;39m 总页数：1
2023-05-17 00:20:40.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467351481126912 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":451,"voteCount":15}],"total":1},"success":true}
2023-05-17 00:20:40.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467351481126912 [0;39m ------------- 结束 耗时：29 ms -------------
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467354391973888 [0;39m ------------- 开始 -------------
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467354391973889 [0;39m ------------- 开始 -------------
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467354391973888 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467354391973889 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467354391973888 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467354391973889 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467354391973888 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:40.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467354391973889 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:40.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467354391973889 [0;39m 请求参数: [1]
2023-05-17 00:20:40.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467354391973888 [0;39m 请求参数: [1]
2023-05-17 00:20:40.814 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467354391973889 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:40.814 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467354391973888 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:20:40.814 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467354391973888 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:40.814 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467354391973889 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:40.815 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467354391973889 [0;39m <==      Total: 0
2023-05-17 00:20:40.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:20:40.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467354391973889 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:20:40.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 415, 8
2023-05-17 00:20:40.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467354391973889 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:20:40.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:20:40.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:20:40.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:20:40.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:20:40.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:20:40.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:20:40.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:20:40.818 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467354391973888 [0;39m <==      Total: 8
2023-05-17 00:20:40.822 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467354391973888 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":415,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:20:40.822 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467354391973888 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:20:40.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467354635243520 [0;39m ------------- 开始 -------------
2023-05-17 00:20:40.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467354635243520 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:20:40.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467354635243520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:20:40.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467354635243520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:40.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467354635243520 [0;39m 请求参数: [1]
2023-05-17 00:20:40.871 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467354635243520 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:20:40.872 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467354635243520 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:40.872 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467354635243520 [0;39m <==    Columns: id, content
2023-05-17 00:20:40.872 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467354635243520 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:20:40.873 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467354635243520 [0;39m <==      Total: 1
2023-05-17 00:20:40.873 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467354635243520 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:20:40.874 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467354635243520 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:40.876 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467354635243520 [0;39m <==    Updates: 1
2023-05-17 00:20:40.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467354635243520 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:20:40.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467354635243520 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:20:42.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467362008829952 [0;39m ------------- 开始 -------------
2023-05-17 00:20:42.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467362008829952 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:20:42.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467362008829952 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:42.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467362008829952 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:42.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467362008829952 [0;39m 请求参数: [1]
2023-05-17 00:20:42.629 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467362008829952 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:42.630 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467362008829952 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:42.630 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467362008829952 [0;39m <==      Total: 0
2023-05-17 00:20:42.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467362008829952 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:20:42.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467362008829952 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:20:45.100 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39467346972250112 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:20:45.100 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39467346972250112 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:20:45.100 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39467346972250112 [0;39m 登录校验开始，token：39402521571233792
2023-05-17 00:20:45.102 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39467346972250112 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-17 00:20:45.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467372553310208 [0;39m ------------- 开始 -------------
2023-05-17 00:20:45.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467372553310208 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:20:45.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467372553310208 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:20:45.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467372553310208 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:45.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467372553310208 [0;39m 请求参数: [{"content":"ewq额","ebookId":1,"userId":1}]
2023-05-17 00:20:45.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372553310208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:45.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372553310208 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:45.148 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467372553310208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:45.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467372553310208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:45.153 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372553310208 [0;39m <==      Total: 1
2023-05-17 00:20:45.154 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39467372553310208 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:20:45.154 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39467372553310208 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:45.155 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39467372553310208 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:20:45.155 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39467372553310208 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 451, 15
2023-05-17 00:20:45.155 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39467372553310208 [0;39m <==      Total: 1
2023-05-17 00:20:45.155 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39467372553310208 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:20:45.157 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39467372553310208 [0;39m ==> Parameters: null, 1(Long), 1(Long), null, null, ewq额(String), 2023-05-17 00:20:45.155(Timestamp), null
2023-05-17 00:20:45.165 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39467372553310208 [0;39m <==    Updates: 1
2023-05-17 00:20:45.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467372553310208 [0;39m 返回结果: {"success":true}
2023-05-17 00:20:45.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467372553310208 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-17 00:20:45.165 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39467372553310208 [0;39m ------------- LoginInterceptor 结束 耗时：65 ms -------------
2023-05-17 00:20:45.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467372687527936 [0;39m ------------- 开始 -------------
2023-05-17 00:20:45.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467372687527936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:20:45.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467372687527936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:45.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467372687527936 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:45.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467372687527936 [0;39m 请求参数: [1]
2023-05-17 00:20:45.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467372687527936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:45.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467372687527936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:45.177 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467372687527936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:45.177 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467372687527936 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:20:45.177 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467372687527936 [0;39m <==      Total: 1
2023-05-17 00:20:45.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372687527936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:45.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372687527936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:45.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467372687527936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:45.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467372687527936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:45.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372687527936 [0;39m <==      Total: 1
2023-05-17 00:20:45.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467372687527936 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:20:45.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467372687527936 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:20:50.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467395332575232 [0;39m ------------- 开始 -------------
2023-05-17 00:20:50.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467395332575232 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:20:50.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467395332575232 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:50.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467395332575232 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:50.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467395332575232 [0;39m 请求参数: [1]
2023-05-17 00:20:50.574 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467395332575232 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:50.575 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467395332575232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:50.575 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467395332575232 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:50.576 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467395332575232 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:20:50.576 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467395332575232 [0;39m <==      Total: 1
2023-05-17 00:20:50.576 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467395332575232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:50.577 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467395332575232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:50.577 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467395332575232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:50.577 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467395332575232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:50.578 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467395332575232 [0;39m <==      Total: 1
2023-05-17 00:20:50.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467395332575232 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:20:50.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467395332575232 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:20:53.379 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39467342496927744 [0;39m 连接关闭，token：ceIZomIyHK，session id：6！当前连接数：0
2023-05-17 00:20:55.370 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39467242651521024 [0;39m 有新连接：token：dowtvRa3qR，session id：7，当前连接数：1
2023-05-17 00:20:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467415985328128 [0;39m ------------- 开始 -------------
2023-05-17 00:20:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467415985328128 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:20:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467415985328128 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:20:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467415985328128 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:55.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467415985328128 [0;39m 请求参数: [1]
2023-05-17 00:20:55.498 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467415985328128 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:20:55.499 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467415985328128 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:55.501 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:20:55.501 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 416, 8
2023-05-17 00:20:55.502 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:20:55.503 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:20:55.503 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:20:55.503 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:20:55.504 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:20:55.504 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:20:55.504 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:20:55.504 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467415985328128 [0;39m <==      Total: 8
2023-05-17 00:20:55.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467415985328128 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":416,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:20:55.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467415985328128 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:20:55.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467416035659776 [0;39m ------------- 开始 -------------
2023-05-17 00:20:55.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467416035659776 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:20:55.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467416035659776 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:55.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467416035659776 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:55.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467416035659776 [0;39m 请求参数: [1]
2023-05-17 00:20:55.512 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467416035659776 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:55.512 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467416035659776 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:55.513 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467416035659776 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:55.513 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467416035659776 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:20:55.513 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467416035659776 [0;39m <==      Total: 1
2023-05-17 00:20:55.514 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467416035659776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:55.514 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467416035659776 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:55.515 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467416035659776 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:55.515 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467416035659776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:55.515 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467416035659776 [0;39m <==      Total: 1
2023-05-17 00:20:55.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467416035659776 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:20:55.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467416035659776 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:20:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467416639639552 [0;39m ------------- 开始 -------------
2023-05-17 00:20:55.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467416639639552 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:20:55.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467416639639552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:20:55.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467416639639552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:55.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467416639639552 [0;39m 请求参数: [1]
2023-05-17 00:20:55.655 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467416639639552 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:20:55.655 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467416639639552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:55.656 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467416639639552 [0;39m <==    Columns: id, content
2023-05-17 00:20:55.656 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467416639639552 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:20:55.657 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467416639639552 [0;39m <==      Total: 1
2023-05-17 00:20:55.658 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467416639639552 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:20:55.658 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467416639639552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:55.667 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467416639639552 [0;39m <==    Updates: 1
2023-05-17 00:20:55.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467416639639552 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:20:55.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467416639639552 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:21:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39467434918416384 [0;39m 生成今日电子书快照开始
2023-05-17 00:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467434918416384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467434918416384 [0;39m ==> Parameters: 
2023-05-17 00:21:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467434918416384 [0;39m <==    Updates: 0
2023-05-17 00:21:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39467434918416384 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 00:21:02.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467443378327552 [0;39m ------------- 开始 -------------
2023-05-17 00:21:02.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467443378327552 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:21:02.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467443378327552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:21:02.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467443378327552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:02.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467443378327552 [0;39m 请求参数: [1]
2023-05-17 00:21:02.029 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467443378327552 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:21:02.029 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467443378327552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:02.029 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467443378327552 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:21:02.029 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467443378327552 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:21:02.029 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467443378327552 [0;39m <==      Total: 1
2023-05-17 00:21:02.029 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467443378327552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:21:02.029 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467443378327552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:02.029 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467443378327552 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:21:02.029 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467443378327552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:21:02.029 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467443378327552 [0;39m <==      Total: 1
2023-05-17 00:21:02.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467443378327552 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:21:02.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467443378327552 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:21:03.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467447652323328 [0;39m ------------- 开始 -------------
2023-05-17 00:21:03.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467447652323328 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:21:03.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467447652323328 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:21:03.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467447652323328 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:03.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467447652323328 [0;39m 请求参数: [1]
2023-05-17 00:21:03.049 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467447652323328 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:21:03.049 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467447652323328 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:03.050 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467447652323328 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:21:03.051 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467447652323328 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:21:03.051 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467447652323328 [0;39m <==      Total: 1
2023-05-17 00:21:03.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467447652323328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:21:03.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467447652323328 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:03.053 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467447652323328 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:21:03.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467447652323328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:21:03.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467447652323328 [0;39m <==      Total: 1
2023-05-17 00:21:03.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467447652323328 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:21:03.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467447652323328 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:21:04.008 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467451683049472 [0;39m ------------- 开始 -------------
2023-05-17 00:21:04.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467451683049472 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:21:04.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467451683049472 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:21:04.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467451683049472 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:04.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467451683049472 [0;39m 请求参数: [1]
2023-05-17 00:21:04.010 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467451683049472 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:21:04.010 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467451683049472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:04.011 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467451683049472 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:21:04.011 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467451683049472 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:21:04.012 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467451683049472 [0;39m <==      Total: 1
2023-05-17 00:21:04.012 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467451683049472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:21:04.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467451683049472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:04.014 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467451683049472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:21:04.014 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467451683049472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:21:04.015 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467451683049472 [0;39m <==      Total: 1
2023-05-17 00:21:04.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467451683049472 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:21:04.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467451683049472 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:21:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467455873159168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467455873159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467455873159168 [0;39m ==> Parameters: 
2023-05-17 00:21:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467455873159168 [0;39m <==    Updates: 2
2023-05-17 00:21:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467455873159168 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:21:06.439 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：dowtvRa3qR，session id：7！当前连接数：0
2023-05-17 00:21:06.486 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:21:06.489 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:21:06.489 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:21:06.490 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 00:21:06.499 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 00:21:06.626 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:21:06.626 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:21:10.013 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 15920 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:21:10.018 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:21:10.018 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:21:10.061 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:21:10.062 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:21:10.627 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:21:10.627 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:21:10.648 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2023-05-17 00:21:10.792 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$ebffa778] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:10.797 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.107 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.107 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$8e3a1c79] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.107 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.117 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.117 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.121 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.121 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.121 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.121 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.128 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.128 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.137 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.140 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.150 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:12.013 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:12.014 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:12.440 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:21:12.445 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:21:12.446 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:21:12.446 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:21:12.516 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:21:12.516 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2454 ms
2023-05-17 00:21:13.200 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:21:13.485 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:21:13.532 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:21:14.023 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:21:14.023 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:21:14.034 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:21:14.046 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:21:14.061 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.391 seconds (JVM running for 5.233)
2023-05-17 00:21:14.063 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:21:14.063 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:21:21.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:21:21.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:21:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467581719056384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:21:35.025 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39467581719056384 [0;39m HikariPool-1 - Starting...
2023-05-17 00:21:35.496 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39467581719056384 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:21:35.501 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467581719056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:21:35.524 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467581719056384 [0;39m ==> Parameters: 
2023-05-17 00:21:35.524 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467581719056384 [0;39m <==    Updates: 2
2023-05-17 00:21:35.528 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467581719056384 [0;39m 更新电子书下的文档数据结束，耗时：517毫秒
2023-05-17 00:21:36.075 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:38.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:43.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:44.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:45.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:47.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:54.127 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:21:54.128 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:21:54.129 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-17 00:21:54.182 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：mzyeRSd533，session id：0，当前连接数：1
2023-05-17 00:21:54.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467662262276097 [0;39m ------------- 开始 -------------
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467662262276096 [0;39m ------------- 开始 -------------
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467662262276097 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467662262276096 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467662262276097 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467662262276096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467662262276097 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:54.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467662262276096 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:54.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467662262276097 [0;39m 请求参数: [1]
2023-05-17 00:21:54.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467662262276096 [0;39m 请求参数: [1]
2023-05-17 00:21:54.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467662262276096 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:21:54.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467662262276096 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:54.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467662262276096 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:21:54.244 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467662262276096 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:21:54.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467662262276096 [0;39m <==      Total: 1
2023-05-17 00:21:54.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467662262276096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:21:54.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467662262276096 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:54.251 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467662262276096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:21:54.253 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467662262276096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:21:54.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467662262276096 [0;39m <==      Total: 1
2023-05-17 00:21:54.254 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467662262276097 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:21:54.255 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467662262276097 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:54.256 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:21:54.257 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 417, 8
2023-05-17 00:21:54.258 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:21:54.258 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:21:54.259 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:21:54.260 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:21:54.260 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:21:54.261 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:21:54.261 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:21:54.262 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467662262276097 [0;39m <==      Total: 8
2023-05-17 00:21:54.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467662262276096 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:21:54.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467662262276096 [0;39m ------------- 结束 耗时：51 ms -------------
2023-05-17 00:21:54.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467662262276097 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":417,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:21:54.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467662262276097 [0;39m ------------- 结束 耗时：59 ms -------------
2023-05-17 00:21:54.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467662820118528 [0;39m ------------- 开始 -------------
2023-05-17 00:21:54.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467662820118528 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:21:54.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467662820118528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:21:54.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467662820118528 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:54.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467662820118528 [0;39m 请求参数: [1]
2023-05-17 00:21:54.348 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467662820118528 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:21:54.348 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467662820118528 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:54.352 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467662820118528 [0;39m <==    Columns: id, content
2023-05-17 00:21:54.352 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467662820118528 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:21:54.353 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467662820118528 [0;39m <==      Total: 1
2023-05-17 00:21:54.354 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467662820118528 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:21:54.354 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467662820118528 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:54.362 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467662820118528 [0;39m <==    Updates: 1
2023-05-17 00:21:54.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467662820118528 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:21:54.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467662820118528 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:21:57.358 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:21:57.359 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 00:21:57.370 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:21:57.370 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/39402521571233792
2023-05-17 00:21:57.370 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39402521571233792
2023-05-17 00:21:57.491 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-17 00:21:57.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467676191559680 [0;39m ------------- 开始 -------------
2023-05-17 00:21:57.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467676191559680 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/39402521571233792 GET
2023-05-17 00:21:57.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467676191559680 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-17 00:21:57.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467676191559680 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:57.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467676191559680 [0;39m 请求参数: ["39402521571233792"]
2023-05-17 00:21:57.608 INFO  com.jiawa.wiki.controller.UserController          :97   [32m39467676191559680 [0;39m 从redis中删除token: 39402521571233792
2023-05-17 00:21:57.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467676191559680 [0;39m 返回结果: {"success":true}
2023-05-17 00:21:57.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467676191559680 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 00:21:57.609 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39467676191559680 [0;39m ------------- LoginInterceptor 结束 耗时：239 ms -------------
2023-05-17 00:21:59.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467684219457536 [0;39m ------------- 开始 -------------
2023-05-17 00:21:59.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467684219457536 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-17 00:21:59.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467684219457536 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-17 00:21:59.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467684219457536 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:59.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467684219457536 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-17 00:21:59.456 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467684219457536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-17 00:21:59.456 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467684219457536 [0;39m ==> Parameters: test(String)
2023-05-17 00:21:59.458 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39467684219457536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:21:59.458 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39467684219457536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:21:59.458 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467684219457536 [0;39m <==      Total: 1
2023-05-17 00:21:59.464 INFO  com.jiawa.wiki.controller.UserController          :86   [32m39467684219457536 [0;39m 生成单点登录token：39467684282372096，并放入redis中
2023-05-17 00:21:59.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467684219457536 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"39467684282372096"},"success":true}
2023-05-17 00:21:59.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467684219457536 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:22:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39467686585044992 [0;39m 生成今日电子书快照开始
2023-05-17 00:22:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467686585044992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:22:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467686585044992 [0;39m ==> Parameters: 
2023-05-17 00:22:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467686585044992 [0;39m <==    Updates: 0
2023-05-17 00:22:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39467686585044992 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:22:02.168 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:03.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467699381866496 [0;39m ------------- 开始 -------------
2023-05-17 00:22:03.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467699381866496 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:22:03.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467699381866496 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:22:03.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467699381866496 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:22:03.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467699381866496 [0;39m 请求参数: [1]
2023-05-17 00:22:03.067 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467699381866496 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:22:03.067 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467699381866496 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:03.068 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467699381866496 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:22:03.068 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467699381866496 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:22:03.069 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467699381866496 [0;39m <==      Total: 1
2023-05-17 00:22:03.069 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467699381866496 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:22:03.070 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467699381866496 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:03.070 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467699381866496 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:22:03.071 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467699381866496 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:22:03.071 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467699381866496 [0;39m <==      Total: 1
2023-05-17 00:22:03.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467699381866496 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:22:03.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467699381866496 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:22:03.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467702955413504 [0;39m ------------- 开始 -------------
2023-05-17 00:22:03.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467702955413504 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:22:03.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467702955413504 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:22:03.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467702955413504 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:22:03.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467702955413504 [0;39m 请求参数: [1]
2023-05-17 00:22:03.918 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467702955413504 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:22:03.918 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467702955413504 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:03.919 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467702955413504 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:22:03.919 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467702955413504 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:22:03.920 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467702955413504 [0;39m <==      Total: 1
2023-05-17 00:22:03.920 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467702955413504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:22:03.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467702955413504 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:03.922 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467702955413504 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:22:03.922 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467702955413504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:22:03.922 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467702955413504 [0;39m <==      Total: 1
2023-05-17 00:22:03.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467702955413504 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:22:03.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467702955413504 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:22:04.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467705979506688 [0;39m ------------- 开始 -------------
2023-05-17 00:22:04.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467705979506688 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:22:04.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467705979506688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:22:04.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467705979506688 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:22:04.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467705979506688 [0;39m 请求参数: [1]
2023-05-17 00:22:04.640 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467705979506688 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:22:04.640 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467705979506688 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:04.641 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467705979506688 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:22:04.641 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467705979506688 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:22:04.642 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467705979506688 [0;39m <==      Total: 1
2023-05-17 00:22:04.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467705979506688 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:22:04.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467705979506688 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:04.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467705979506688 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:22:04.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467705979506688 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:22:04.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467705979506688 [0;39m <==      Total: 1
2023-05-17 00:22:04.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467705979506688 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:22:04.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467705979506688 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:22:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467707523010560 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:22:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467707523010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:22:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467707523010560 [0;39m ==> Parameters: 
2023-05-17 00:22:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467707523010560 [0;39m <==    Updates: 2
2023-05-17 00:22:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467707523010560 [0;39m 更新电子书下的文档数据结束，耗时：11毫秒
2023-05-17 00:22:05.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467710232530944 [0;39m ------------- 开始 -------------
2023-05-17 00:22:05.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467710232530944 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:22:05.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467710232530944 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:22:05.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467710232530944 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:22:05.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467710232530944 [0;39m 请求参数: [1]
2023-05-17 00:22:05.653 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467710232530944 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:22:05.655 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467710232530944 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:05.656 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467710232530944 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:22:05.656 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467710232530944 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:22:05.657 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467710232530944 [0;39m <==      Total: 1
2023-05-17 00:22:05.658 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467710232530944 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:22:05.658 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467710232530944 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:05.659 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467710232530944 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:22:05.659 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467710232530944 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:22:05.659 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467710232530944 [0;39m <==      Total: 1
2023-05-17 00:22:05.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467710232530944 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:22:05.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467710232530944 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:22:13.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:14.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:17.785 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:24.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:26.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:35.036 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467833482153984 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:22:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467833482153984 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:22:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467833482153984 [0;39m ==> Parameters: 
2023-05-17 00:22:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467833482153984 [0;39m <==    Updates: 2
2023-05-17 00:22:35.038 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467833482153984 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:22:44.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:45.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:47.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:49.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:51.782 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39467938281033728 [0;39m 生成今日电子书快照开始
2023-05-17 00:23:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467938281033728 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:23:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467938281033728 [0;39m ==> Parameters: 
2023-05-17 00:23:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467938281033728 [0;39m <==    Updates: 0
2023-05-17 00:23:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39467938281033728 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-17 00:23:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467959193833472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:23:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467959193833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:23:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467959193833472 [0;39m ==> Parameters: 
2023-05-17 00:23:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467959193833472 [0;39m <==    Updates: 2
2023-05-17 00:23:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467959193833472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:23:13.663 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:14.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:17.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:19.785 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468085039730688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:23:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468085039730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:23:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468085039730688 [0;39m ==> Parameters: 
2023-05-17 00:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468085039730688 [0;39m <==    Updates: 2
2023-05-17 00:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468085039730688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:23:41.830 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:43.885 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:44.075 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:47.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39468189880553472 [0;39m 生成今日电子书快照开始
2023-05-17 00:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468189880553472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468189880553472 [0;39m ==> Parameters: 
2023-05-17 00:24:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468189880553472 [0;39m <==    Updates: 0
2023-05-17 00:24:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39468189880553472 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 00:24:01.316 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：mzyeRSd533，session id：0！当前连接数：0
2023-05-17 00:24:03.004 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39467676191559680 [0;39m 有新连接：token：fLKXgF0yjI，session id：1，当前连接数：1
2023-05-17 00:24:03.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468203155525632 [0;39m ------------- 开始 -------------
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468203155525632 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468203159719936 [0;39m ------------- 开始 -------------
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468203155525632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468203159719936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468203159719936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468203155525632 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468203159719936 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468203155525632 [0;39m 请求参数: [1]
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468203159719936 [0;39m 请求参数: [1]
2023-05-17 00:24:03.175 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468203159719936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:03.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468203159719936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:03.177 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468203155525632 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:24:03.177 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468203159719936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:03.177 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468203159719936 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:03.177 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468203155525632 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:03.178 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468203159719936 [0;39m <==      Total: 1
2023-05-17 00:24:03.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468203159719936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:03.179 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:24:03.179 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 418, 8
2023-05-17 00:24:03.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468203159719936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:03.179 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:24:03.180 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:24:03.180 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:24:03.180 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:24:03.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468203159719936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:03.180 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:24:03.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468203159719936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:03.181 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:24:03.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468203159719936 [0;39m <==      Total: 1
2023-05-17 00:24:03.181 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:24:03.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468203159719936 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:03.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468203159719936 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:24:03.183 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468203155525632 [0;39m <==      Total: 8
2023-05-17 00:24:03.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468203155525632 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":418,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:24:03.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468203155525632 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:24:03.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468203507847168 [0;39m ------------- 开始 -------------
2023-05-17 00:24:03.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468203507847168 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:24:03.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468203507847168 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:24:03.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468203507847168 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:03.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468203507847168 [0;39m 请求参数: [1]
2023-05-17 00:24:03.258 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468203507847168 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:24:03.259 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468203507847168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:03.260 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468203507847168 [0;39m <==    Columns: id, content
2023-05-17 00:24:03.260 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468203507847168 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:24:03.260 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468203507847168 [0;39m <==      Total: 1
2023-05-17 00:24:03.262 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468203507847168 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:24:03.262 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468203507847168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:03.271 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468203507847168 [0;39m <==    Updates: 1
2023-05-17 00:24:03.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468203507847168 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:24:03.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468203507847168 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:24:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468210885627904 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:24:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468210885627904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:24:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468210885627904 [0;39m ==> Parameters: 
2023-05-17 00:24:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468210885627904 [0;39m <==    Updates: 2
2023-05-17 00:24:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468210885627904 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:24:05.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468212424937472 [0;39m ------------- 开始 -------------
2023-05-17 00:24:05.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468212424937472 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:05.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468212424937472 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:05.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468212424937472 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:05.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468212424937472 [0;39m 请求参数: [1]
2023-05-17 00:24:05.383 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468212424937472 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:05.383 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468212424937472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:05.383 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468212424937472 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:05.383 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468212424937472 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:05.389 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468212424937472 [0;39m <==      Total: 1
2023-05-17 00:24:05.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468212424937472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:05.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468212424937472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:05.392 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468212424937472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:05.392 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468212424937472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:05.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468212424937472 [0;39m <==      Total: 1
2023-05-17 00:24:05.393 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468212424937472 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:05.393 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468212424937472 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:24:06.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468216531161088 [0;39m ------------- 开始 -------------
2023-05-17 00:24:06.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468216531161088 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:06.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468216531161088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:06.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468216531161088 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:06.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468216531161088 [0;39m 请求参数: [1]
2023-05-17 00:24:06.365 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468216531161088 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:06.365 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468216531161088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:06.366 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468216531161088 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:06.368 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468216531161088 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:06.369 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468216531161088 [0;39m <==      Total: 1
2023-05-17 00:24:06.369 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468216531161088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:06.369 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468216531161088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:06.370 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468216531161088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:06.370 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468216531161088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:06.370 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468216531161088 [0;39m <==      Total: 1
2023-05-17 00:24:06.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468216531161088 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:06.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468216531161088 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:24:06.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468219056132096 [0;39m ------------- 开始 -------------
2023-05-17 00:24:06.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468219056132096 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:06.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468219056132096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:06.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468219056132096 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:06.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468219056132096 [0;39m 请求参数: [1]
2023-05-17 00:24:06.967 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468219056132096 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:06.967 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468219056132096 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:06.968 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468219056132096 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:06.968 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468219056132096 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:06.968 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468219056132096 [0;39m <==      Total: 1
2023-05-17 00:24:06.969 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468219056132096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:06.969 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468219056132096 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:06.970 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468219056132096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:06.970 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468219056132096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:06.970 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468219056132096 [0;39m <==      Total: 1
2023-05-17 00:24:06.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468219056132096 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:06.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468219056132096 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:24:07.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468221534965760 [0;39m ------------- 开始 -------------
2023-05-17 00:24:07.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468221534965760 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:07.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468221534965760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:07.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468221534965760 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:07.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468221534965760 [0;39m 请求参数: [1]
2023-05-17 00:24:07.556 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468221534965760 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:07.558 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468221534965760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:07.558 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468221534965760 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:07.559 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468221534965760 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:07.559 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468221534965760 [0;39m <==      Total: 1
2023-05-17 00:24:07.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468221534965760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:07.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468221534965760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:07.560 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468221534965760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:07.561 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468221534965760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:07.561 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468221534965760 [0;39m <==      Total: 1
2023-05-17 00:24:07.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468221534965760 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:07.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468221534965760 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:24:08.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468224265457664 [0;39m ------------- 开始 -------------
2023-05-17 00:24:08.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468224265457664 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:08.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468224265457664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:08.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468224265457664 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:08.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468224265457664 [0;39m 请求参数: [1]
2023-05-17 00:24:08.208 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468224265457664 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:08.208 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468224265457664 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:08.209 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468224265457664 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:08.210 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468224265457664 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:08.210 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468224265457664 [0;39m <==      Total: 1
2023-05-17 00:24:08.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468224265457664 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:08.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468224265457664 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:08.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468224265457664 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:08.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468224265457664 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:08.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468224265457664 [0;39m <==      Total: 1
2023-05-17 00:24:08.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468224265457664 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:08.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468224265457664 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:24:08.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:13.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:14.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:15.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468255382999040 [0;39m ------------- 开始 -------------
2023-05-17 00:24:15.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468255382999040 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:15.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468255382999040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:15.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468255382999040 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:15.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468255382999040 [0;39m 请求参数: [1]
2023-05-17 00:24:15.627 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468255382999040 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:15.628 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468255382999040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:15.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468255382999040 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:15.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468255382999040 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:15.630 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468255382999040 [0;39m <==      Total: 1
2023-05-17 00:24:15.630 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468255382999040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:15.631 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468255382999040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:15.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468255382999040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:15.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468255382999040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:15.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468255382999040 [0;39m <==      Total: 1
2023-05-17 00:24:15.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468255382999040 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:15.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468255382999040 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:24:15.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:17.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:30.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:33.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468336672804864 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:24:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468336672804864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:24:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468336672804864 [0;39m ==> Parameters: 
2023-05-17 00:24:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468336672804864 [0;39m <==    Updates: 2
2023-05-17 00:24:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468336672804864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:24:36.028 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39467676191559680 [0;39m 连接关闭，token：fLKXgF0yjI，session id：1！当前连接数：0
2023-05-17 00:24:37.687 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39468203159719936 [0;39m 有新连接：token：WtOpdc13wo，session id：2，当前连接数：1
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468348475576320 [0;39m ------------- 开始 -------------
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468348475576320 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468348475576320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468348475576321 [0;39m ------------- 开始 -------------
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468348475576320 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468348475576321 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468348475576320 [0;39m 请求参数: [1]
2023-05-17 00:24:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468348475576321 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468348475576321 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468348475576321 [0;39m 请求参数: [1]
2023-05-17 00:24:37.822 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468348475576321 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:37.822 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468348475576320 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:24:37.822 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468348475576320 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:37.822 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468348475576321 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:37.823 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468348475576321 [0;39m <==      Total: 0
2023-05-17 00:24:37.823 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:24:37.823 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 419, 8
2023-05-17 00:24:37.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468348475576321 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:24:37.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468348475576321 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:24:37.823 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:24:37.823 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:24:37.824 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:24:37.824 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:24:37.825 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:24:37.825 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:24:37.825 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:24:37.825 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468348475576320 [0;39m <==      Total: 8
2023-05-17 00:24:37.826 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468348475576320 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":419,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:24:37.826 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468348475576320 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:24:37.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468348802732032 [0;39m ------------- 开始 -------------
2023-05-17 00:24:37.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468348802732032 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:24:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468348802732032 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:24:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468348802732032 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468348802732032 [0;39m 请求参数: [1]
2023-05-17 00:24:37.900 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468348802732032 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:24:37.902 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468348802732032 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:37.904 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468348802732032 [0;39m <==    Columns: id, content
2023-05-17 00:24:37.904 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468348802732032 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:24:37.904 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468348802732032 [0;39m <==      Total: 1
2023-05-17 00:24:37.905 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468348802732032 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:24:37.905 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468348802732032 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:37.907 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468348802732032 [0;39m <==    Updates: 1
2023-05-17 00:24:37.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468348802732032 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:24:37.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468348802732032 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:24:43.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:44.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:45.742 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:46.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468384156520449 [0;39m ------------- 开始 -------------
2023-05-17 00:24:46.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468384156520448 [0;39m ------------- 开始 -------------
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468384156520449 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468384156520448 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468384156520449 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468384156520448 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468384156520449 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468384156520449 [0;39m 请求参数: []
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468384156520448 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468384156520448 [0;39m 请求参数: []
2023-05-17 00:24:46.333 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39468384156520449 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:24:46.334 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39468384156520449 [0;39m ==> Parameters: 
2023-05-17 00:24:46.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468384185880576 [0;39m ------------- 开始 -------------
2023-05-17 00:24:46.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468384185880576 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:24:46.335 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39468384156520449 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:24:46.335 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39468384156520449 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:24:46.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468384185880576 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:24:46.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468384185880576 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:46.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468384185880576 [0;39m 请求参数: []
2023-05-17 00:24:46.337 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39468384156520449 [0;39m <==        Row: 2023-05-17, 614, 16, 19, 0
2023-05-17 00:24:46.337 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39468384156520449 [0;39m <==      Total: 2
2023-05-17 00:24:46.337 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39468384156520448 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:24:46.337 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39468384156520448 [0;39m ==> Parameters: 
2023-05-17 00:24:46.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:24:46.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468384156520449 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":614,"viewIncrease":19,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:24:46.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468384156520449 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:24:46.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:24:46.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:24:46.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:24:46.340 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:24:46.340 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:24:46.340 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:24:46.341 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:24:46.341 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:24:46.341 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39468384156520448 [0;39m <==      Total: 8
2023-05-17 00:24:46.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468384156520448 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:24:46.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468384156520448 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:24:46.344 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39468384185880576 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:24:46.344 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39468384185880576 [0;39m ==> Parameters: 
2023-05-17 00:24:46.346 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:24:46.346 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:24:46.347 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:24:46.347 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:24:46.347 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:24:46.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:24:46.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:24:46.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:24:46.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:24:46.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:24:46.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:24:46.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:24:46.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:24:46.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:24:46.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:24:46.351 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:24:46.351 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39468384185880576 [0;39m <==      Total: 15
2023-05-17 00:24:46.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468384185880576 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:24:46.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468384185880576 [0;39m ------------- 结束 耗时：26 ms -------------
2023-05-17 00:24:47.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468387855896576 [0;39m ------------- 开始 -------------
2023-05-17 00:24:47.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468387855896576 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:24:47.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468387855896576 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:24:47.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468387855896576 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:47.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468387855896576 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 00:24:47.255 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39468387855896576 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:24:47.256 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39468387855896576 [0;39m ==> Parameters: 101(Long)
2023-05-17 00:24:47.256 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39468387855896576 [0;39m <==    Columns: count(0)
2023-05-17 00:24:47.256 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39468387855896576 [0;39m <==        Row: 1
2023-05-17 00:24:47.256 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39468387855896576 [0;39m <==      Total: 1
2023-05-17 00:24:47.256 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39468387855896576 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:24:47.256 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39468387855896576 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 00:24:47.261 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39468387855896576 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:24:47.261 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39468387855896576 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 160, 1
2023-05-17 00:24:47.261 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39468387855896576 [0;39m <==      Total: 1
2023-05-17 00:24:47.261 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39468387855896576 [0;39m 总行数：1
2023-05-17 00:24:47.261 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39468387855896576 [0;39m 总页数：1
2023-05-17 00:24:47.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468387855896576 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":160,"voteCount":1}],"total":1},"success":true}
2023-05-17 00:24:47.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468387855896576 [0;39m ------------- 结束 耗时：61 ms -------------
2023-05-17 00:24:47.764 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:48.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468391513329664 [0;39m ------------- 开始 -------------
2023-05-17 00:24:48.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468391513329664 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:24:48.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468391513329665 [0;39m ------------- 开始 -------------
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468391513329665 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468391513329665 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468391513329664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468391513329664 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468391513329665 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468391513329664 [0;39m 请求参数: [2]
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468391513329665 [0;39m 请求参数: [2]
2023-05-17 00:24:48.084 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468391513329665 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:48.085 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468391513329665 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:24:48.085 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468391513329665 [0;39m <==      Total: 0
2023-05-17 00:24:48.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468391513329665 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:24:48.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468391513329665 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:24:48.087 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468391513329664 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:24:48.089 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468391513329664 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:24:48.090 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468391513329664 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:24:48.090 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468391513329664 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 160, 1
2023-05-17 00:24:48.091 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468391513329664 [0;39m <==      Total: 1
2023-05-17 00:24:48.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468391513329664 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":160,"voteCount":1}],"success":true}
2023-05-17 00:24:48.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468391513329664 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:24:48.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468391651741696 [0;39m ------------- 开始 -------------
2023-05-17 00:24:48.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468391651741696 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:24:48.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468391651741696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:24:48.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468391651741696 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:48.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468391651741696 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:24:48.119 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468391651741696 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:24:48.120 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468391651741696 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:24:48.121 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468391651741696 [0;39m <==    Columns: id, content
2023-05-17 00:24:48.121 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468391651741696 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:24:48.121 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468391651741696 [0;39m <==      Total: 1
2023-05-17 00:24:48.122 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468391651741696 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:24:48.122 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468391651741696 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:24:48.135 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468391651741696 [0;39m <==    Updates: 1
2023-05-17 00:24:48.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468391651741696 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:24:48.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468391651741696 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-17 00:24:49.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468396542300160 [0;39m ------------- 开始 -------------
2023-05-17 00:24:49.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468396542300160 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:24:49.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468396542300160 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:49.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468396542300160 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:49.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468396542300160 [0;39m 请求参数: [2]
2023-05-17 00:24:49.282 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468396542300160 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:49.282 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468396542300160 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:24:49.283 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468396542300160 [0;39m <==      Total: 0
2023-05-17 00:24:49.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468396542300160 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:24:49.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468396542300160 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:24:55.042 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:57.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:57.501 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39468348802732032 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:24:57.501 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39468348802732032 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:24:57.501 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39468348802732032 [0;39m 登录校验开始，token：39467684282372096
2023-05-17 00:24:57.569 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39468348802732032 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39467684282372096"}
2023-05-17 00:24:57.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468431350829056 [0;39m ------------- 开始 -------------
2023-05-17 00:24:57.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468431350829056 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:24:57.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468431350829056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:24:57.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468431350829056 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:57.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468431350829056 [0;39m 请求参数: [{"content":"恶趣味","ebookId":2,"userId":1}]
2023-05-17 00:24:57.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431350829056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:57.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431350829056 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:57.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468431350829056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:57.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468431350829056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:57.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431350829056 [0;39m <==      Total: 1
2023-05-17 00:24:57.586 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39468431350829056 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:24:57.586 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39468431350829056 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:24:57.587 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39468431350829056 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:24:57.587 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39468431350829056 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 160, 1
2023-05-17 00:24:57.587 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39468431350829056 [0;39m <==      Total: 1
2023-05-17 00:24:57.588 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39468431350829056 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:24:57.590 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39468431350829056 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 恶趣味(String), 2023-05-17 00:24:57.588(Timestamp), null
2023-05-17 00:24:57.598 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39468431350829056 [0;39m <==    Updates: 1
2023-05-17 00:24:57.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468431350829056 [0;39m 返回结果: {"success":true}
2023-05-17 00:24:57.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468431350829056 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-17 00:24:57.598 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39468431350829056 [0;39m ------------- LoginInterceptor 结束 耗时：97 ms -------------
2023-05-17 00:24:57.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468431497629696 [0;39m ------------- 开始 -------------
2023-05-17 00:24:57.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468431497629696 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:24:57.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468431497629696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:57.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468431497629696 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:57.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468431497629696 [0;39m 请求参数: [2]
2023-05-17 00:24:57.616 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468431497629696 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:57.616 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468431497629696 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:24:57.618 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468431497629696 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:57.618 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468431497629696 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:24:57.618 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468431497629696 [0;39m <==      Total: 1
2023-05-17 00:24:57.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431497629696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:57.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431497629696 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:57.620 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468431497629696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:57.620 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468431497629696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:57.620 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431497629696 [0;39m <==      Total: 1
2023-05-17 00:24:57.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468431497629696 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:57.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468431497629696 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:25:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39468441547182080 [0;39m 生成今日电子书快照开始
2023-05-17 00:25:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468441547182080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:25:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468441547182080 [0;39m ==> Parameters: 
2023-05-17 00:25:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468441547182080 [0;39m <==    Updates: 0
2023-05-17 00:25:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39468441547182080 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-17 00:25:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468462527090688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468462527090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468462527090688 [0;39m ==> Parameters: 
2023-05-17 00:25:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468462527090688 [0;39m <==    Updates: 2
2023-05-17 00:25:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468462527090688 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 00:25:14.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:18.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:22.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468588310073344 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:25:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468588310073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:25:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468588310073344 [0;39m ==> Parameters: 
2023-05-17 00:25:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468588310073344 [0;39m <==    Updates: 2
2023-05-17 00:25:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468588310073344 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:25:43.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:44.077 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:47.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:49.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39468693247365120 [0;39m 生成今日电子书快照开始
2023-05-17 00:26:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468693247365120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:26:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468693247365120 [0;39m ==> Parameters: 
2023-05-17 00:26:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468693247365120 [0;39m <==    Updates: 0
2023-05-17 00:26:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39468693247365120 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:26:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468714155970560 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:26:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468714155970560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:26:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468714155970560 [0;39m ==> Parameters: 
2023-05-17 00:26:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468714155970560 [0;39m <==    Updates: 2
2023-05-17 00:26:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468714155970560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:26:11.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:13.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:14.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:20.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468840027033600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:26:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468840027033600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:26:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468840027033600 [0;39m ==> Parameters: 
2023-05-17 00:26:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468840027033600 [0;39m <==    Updates: 2
2023-05-17 00:26:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468840027033600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:26:38.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:43.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:44.087 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:45.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:47.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39468944872050688 [0;39m 生成今日电子书快照开始
2023-05-17 00:27:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468944872050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:27:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468944872050688 [0;39m ==> Parameters: 
2023-05-17 00:27:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468944872050688 [0;39m <==    Updates: 0
2023-05-17 00:27:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39468944872050688 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:27:02.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468965843570688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:27:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468965843570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:27:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468965843570688 [0;39m ==> Parameters: 
2023-05-17 00:27:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468965843570688 [0;39m <==    Updates: 2
2023-05-17 00:27:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468965843570688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:27:13.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:14.054 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:15.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:17.782 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:24.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:26.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39469091702050816 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:27:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469091702050816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:27:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469091702050816 [0;39m ==> Parameters: 
2023-05-17 00:27:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469091702050816 [0;39m <==    Updates: 2
2023-05-17 00:27:35.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39469091702050816 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-17 00:27:44.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:13.282 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 11304 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:30:13.298 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:30:13.313 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:30:13.423 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:30:13.423 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:30:14.471 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:30:14.486 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:30:14.518 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
2023-05-17 00:30:14.847 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$99112a4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:14.878 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$abcb87a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.051 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.051 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.067 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.067 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.083 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:20.167 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:20.167 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:20.812 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:30:20.812 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:30:20.812 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:30:20.812 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:30:20.936 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:30:20.936 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 7513 ms
2023-05-17 00:30:22.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:22.641 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:23.345 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:30:24.003 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:30:24.206 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:30:27.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:29.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:29.629 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:30:29.629 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:30:29.629 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:30:29.660 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:30:29.676 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 16.846 seconds (JVM running for 20.203)
2023-05-17 00:30:29.676 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:30:29.676 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:30:31.645 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:33.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:35.038 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39469846756462592 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:30:35.062 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39469846756462592 [0;39m HikariPool-1 - Starting...
2023-05-17 00:30:36.934 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39469846756462592 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:30:36.950 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469846756462592 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:30:36.967 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469846756462592 [0;39m ==> Parameters: 
2023-05-17 00:30:36.982 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469846756462592 [0;39m <==    Updates: 2
2023-05-17 00:30:36.982 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39469846756462592 [0;39m 更新电子书下的文档数据结束，耗时：1942毫秒
2023-05-17 00:30:52.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:52.684 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:30:52.684 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:30:52.686 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-17 00:30:52.786 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：ilAgzmZYCN，session id：0，当前连接数：1
2023-05-17 00:30:52.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469921410879490 [0;39m ------------- 开始 -------------
2023-05-17 00:30:52.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469921410879488 [0;39m ------------- 开始 -------------
2023-05-17 00:30:52.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469921410879489 [0;39m ------------- 开始 -------------
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469921410879490 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469921410879489 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469921410879490 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469921410879488 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469921410879490 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469921410879489 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469921410879488 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:30:52.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469921410879488 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:30:52.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469921410879489 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:30:52.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469921410879488 [0;39m 请求参数: []
2023-05-17 00:30:52.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469921410879489 [0;39m 请求参数: []
2023-05-17 00:30:52.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469921410879490 [0;39m 请求参数: []
2023-05-17 00:30:53.057 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39469921410879488 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:30:53.058 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39469921410879489 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:30:53.059 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39469921410879489 [0;39m ==> Parameters: 
2023-05-17 00:30:53.058 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39469921410879488 [0;39m ==> Parameters: 
2023-05-17 00:30:53.080 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39469921410879490 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:30:53.081 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39469921410879490 [0;39m ==> Parameters: 
2023-05-17 00:30:53.084 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:30:53.084 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39469921410879489 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:30:53.085 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39469921410879489 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:30:53.085 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:30:53.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:30:53.088 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:30:53.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:30:53.088 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39469921410879489 [0;39m <==        Row: 2023-05-17, 617, 16, 22, 0
2023-05-17 00:30:53.088 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:30:53.088 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39469921410879489 [0;39m <==      Total: 2
2023-05-17 00:30:53.088 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:30:53.088 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:30:53.089 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:30:53.089 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:30:53.089 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:30:53.090 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:30:53.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:30:53.090 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:30:53.091 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:30:53.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:30:53.091 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39469921410879488 [0;39m <==      Total: 8
2023-05-17 00:30:53.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:30:53.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:30:53.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:30:53.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:30:53.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:30:53.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:30:53.094 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:30:53.094 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:30:53.095 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:30:53.095 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39469921410879490 [0;39m <==      Total: 15
2023-05-17 00:30:53.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469921410879489 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":617,"viewIncrease":22,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:30:53.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469921410879489 [0;39m ------------- 结束 耗时：287 ms -------------
2023-05-17 00:30:53.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469921410879490 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:30:53.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469921410879490 [0;39m ------------- 结束 耗时：289 ms -------------
2023-05-17 00:30:53.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469921410879488 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:30:53.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469921410879488 [0;39m ------------- 结束 耗时：292 ms -------------
2023-05-17 00:30:54.659 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:56.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:58.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:58.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469946325045248 [0;39m ------------- 开始 -------------
2023-05-17 00:30:58.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469946325045248 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-17 00:30:58.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469946325045248 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-17 00:30:58.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469946325045248 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:30:58.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469946325045248 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-17 00:30:58.798 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39469946325045248 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-17 00:30:58.798 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39469946325045248 [0;39m ==> Parameters: test(String)
2023-05-17 00:30:58.798 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39469946325045248 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:30:58.798 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39469946325045248 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:30:58.798 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39469946325045248 [0;39m <==      Total: 1
2023-05-17 00:30:58.805 INFO  com.jiawa.wiki.controller.UserController          :86   [32m39469946325045248 [0;39m 生成单点登录token：39469946442485760，并放入redis中
2023-05-17 00:30:58.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469946325045248 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"39469946442485760"},"success":true}
2023-05-17 00:30:58.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469946325045248 [0;39m ------------- 结束 耗时：180 ms -------------
2023-05-17 00:31:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39469951572119552 [0;39m 生成今日电子书快照开始
2023-05-17 00:31:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39469951572119552 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:31:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39469951572119552 [0;39m ==> Parameters: 
2023-05-17 00:31:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39469951572119552 [0;39m <==    Updates: 0
2023-05-17 00:31:00.032 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39469951572119552 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:31:00.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469953350504448 [0;39m ------------- 开始 -------------
2023-05-17 00:31:00.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469953350504448 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:31:00.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469953350504448 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:31:00.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469953350504448 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:00.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469953350504448 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 00:31:00.499 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39469953350504448 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:31:00.499 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39469953350504448 [0;39m ==> Parameters: 101(Long)
2023-05-17 00:31:00.499 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39469953350504448 [0;39m <==    Columns: count(0)
2023-05-17 00:31:00.499 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39469953350504448 [0;39m <==        Row: 1
2023-05-17 00:31:00.499 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39469953350504448 [0;39m <==      Total: 1
2023-05-17 00:31:00.507 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39469953350504448 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:31:00.507 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39469953350504448 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 00:31:00.507 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39469953350504448 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:31:00.507 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39469953350504448 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 161, 1
2023-05-17 00:31:00.507 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39469953350504448 [0;39m <==      Total: 1
2023-05-17 00:31:00.507 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39469953350504448 [0;39m 总行数：1
2023-05-17 00:31:00.507 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39469953350504448 [0;39m 总页数：1
2023-05-17 00:31:00.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469953350504448 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":161,"voteCount":1}],"total":1},"success":true}
2023-05-17 00:31:00.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469953350504448 [0;39m ------------- 结束 耗时：68 ms -------------
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469957104406528 [0;39m ------------- 开始 -------------
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469957104406529 [0;39m ------------- 开始 -------------
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469957104406528 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469957104406529 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469957104406528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469957104406529 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469957104406528 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469957104406529 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469957104406528 [0;39m 请求参数: [2]
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469957104406529 [0;39m 请求参数: [2]
2023-05-17 00:31:01.354 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469957104406529 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:01.354 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469957104406529 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:01.357 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469957104406529 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:01.357 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39469957104406528 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:31:01.357 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39469957104406528 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:01.358 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469957104406529 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:01.358 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39469957104406528 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:31:01.358 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39469957104406528 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 161, 1
2023-05-17 00:31:01.358 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469957104406529 [0;39m <==      Total: 1
2023-05-17 00:31:01.358 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39469957104406528 [0;39m <==      Total: 1
2023-05-17 00:31:01.359 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469957104406529 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:01.359 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469957104406529 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:01.360 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469957104406529 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:01.360 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469957104406529 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:01.361 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469957104406529 [0;39m <==      Total: 1
2023-05-17 00:31:01.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469957104406529 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:01.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469957104406529 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-17 00:31:01.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469957104406528 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":161,"voteCount":1}],"success":true}
2023-05-17 00:31:01.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469957104406528 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:31:01.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469957255401472 [0;39m ------------- 开始 -------------
2023-05-17 00:31:01.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469957255401472 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:31:01.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469957255401472 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:31:01.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469957255401472 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:01.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469957255401472 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:31:01.385 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39469957255401472 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:31:01.385 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39469957255401472 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:31:01.389 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39469957255401472 [0;39m <==    Columns: id, content
2023-05-17 00:31:01.391 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39469957255401472 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:31:01.391 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39469957255401472 [0;39m <==      Total: 1
2023-05-17 00:31:01.392 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39469957255401472 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:31:01.393 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39469957255401472 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:31:01.395 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39469957255401472 [0;39m <==    Updates: 1
2023-05-17 00:31:01.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469957255401472 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:31:01.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469957255401472 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:31:02.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469960845725696 [0;39m ------------- 开始 -------------
2023-05-17 00:31:02.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469960845725696 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469960845725696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469960845725696 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469960845725696 [0;39m 请求参数: [2]
2023-05-17 00:31:02.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469960845725696 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:02.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469960845725696 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:02.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469960845725696 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:02.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469960845725696 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:02.243 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469960845725696 [0;39m <==      Total: 1
2023-05-17 00:31:02.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469960845725696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:02.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469960845725696 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:02.243 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469960845725696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:02.243 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469960845725696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:02.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469960845725696 [0;39m <==      Total: 1
2023-05-17 00:31:02.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469960845725696 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:02.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469960845725696 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:31:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39469972459753472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:31:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469972459753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:31:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469972459753472 [0;39m ==> Parameters: 
2023-05-17 00:31:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469972459753472 [0;39m <==    Updates: 2
2023-05-17 00:31:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39469972459753472 [0;39m 更新电子书下的文档数据结束，耗时：13毫秒
2023-05-17 00:31:05.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469972732383232 [0;39m ------------- 开始 -------------
2023-05-17 00:31:05.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469972732383232 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:05.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469972732383232 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:05.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469972732383232 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:05.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469972732383232 [0;39m 请求参数: [2]
2023-05-17 00:31:05.075 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469972732383232 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:05.076 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469972732383232 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:05.077 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469972732383232 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:05.077 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469972732383232 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:05.078 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469972732383232 [0;39m <==      Total: 1
2023-05-17 00:31:05.079 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469972732383232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:05.079 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469972732383232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:05.080 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469972732383232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:05.080 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469972732383232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:05.080 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469972732383232 [0;39m <==      Total: 1
2023-05-17 00:31:05.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469972732383232 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:05.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469972732383232 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:31:05.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469973286031360 [0;39m ------------- 开始 -------------
2023-05-17 00:31:05.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469973286031360 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:05.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469973286031360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:05.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469973286031360 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:05.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469973286031360 [0;39m 请求参数: [2]
2023-05-17 00:31:05.207 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469973286031360 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:05.207 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469973286031360 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:05.209 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469973286031360 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:05.209 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469973286031360 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:05.210 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469973286031360 [0;39m <==      Total: 1
2023-05-17 00:31:05.210 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469973286031360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:05.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469973286031360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:05.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469973286031360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:05.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469973286031360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:05.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469973286031360 [0;39m <==      Total: 1
2023-05-17 00:31:05.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469973286031360 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:05.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469973286031360 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:31:05.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469974766620672 [0;39m ------------- 开始 -------------
2023-05-17 00:31:05.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469974766620672 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:05.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469974766620672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:05.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469974766620672 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:05.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469974766620672 [0;39m 请求参数: [2]
2023-05-17 00:31:05.560 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469974766620672 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:05.561 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469974766620672 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:05.562 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469974766620672 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:05.563 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469974766620672 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:05.564 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469974766620672 [0;39m <==      Total: 1
2023-05-17 00:31:05.564 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469974766620672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:05.565 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469974766620672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:05.566 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469974766620672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:05.566 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469974766620672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:05.566 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469974766620672 [0;39m <==      Total: 1
2023-05-17 00:31:05.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469974766620672 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:05.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469974766620672 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:31:22.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:22.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:24.663 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:26.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470098314039296 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:31:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470098314039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:31:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470098314039296 [0;39m ==> Parameters: 
2023-05-17 00:31:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470098314039296 [0;39m <==    Updates: 2
2023-05-17 00:31:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470098314039296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:31:48.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:50.619 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：ilAgzmZYCN，session id：0！当前连接数：0
2023-05-17 00:31:50.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:52.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:52.321 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：oM03LB8r1q，session id：1，当前连接数：1
2023-05-17 00:31:52.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470171332677633 [0;39m ------------- 开始 -------------
2023-05-17 00:31:52.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470171332677632 [0;39m ------------- 开始 -------------
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470171332677632 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470171332677633 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470171332677632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470171332677633 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470171332677632 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470171332677633 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470171332677632 [0;39m 请求参数: [2]
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470171332677633 [0;39m 请求参数: [2]
2023-05-17 00:31:52.425 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470171332677632 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:52.425 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470171332677633 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:31:52.426 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470171332677633 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:52.426 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470171332677632 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:52.427 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470171332677632 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:52.427 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470171332677633 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:31:52.427 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470171332677633 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 162, 1
2023-05-17 00:31:52.427 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470171332677632 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:52.427 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470171332677633 [0;39m <==      Total: 1
2023-05-17 00:31:52.428 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470171332677632 [0;39m <==      Total: 1
2023-05-17 00:31:52.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470171332677633 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":162,"voteCount":1}],"success":true}
2023-05-17 00:31:52.429 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470171332677632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:52.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470171332677633 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:31:52.429 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470171332677632 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:52.430 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470171332677632 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:52.430 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470171332677632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:52.430 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470171332677632 [0;39m <==      Total: 1
2023-05-17 00:31:52.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470171332677632 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:52.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470171332677632 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:31:52.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470171634667520 [0;39m ------------- 开始 -------------
2023-05-17 00:31:52.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470171634667520 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:31:52.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470171634667520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:31:52.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470171634667520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:52.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470171634667520 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:31:52.499 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470171634667520 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:31:52.499 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470171634667520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:31:52.500 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470171634667520 [0;39m <==    Columns: id, content
2023-05-17 00:31:52.500 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470171634667520 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:31:52.501 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470171634667520 [0;39m <==      Total: 1
2023-05-17 00:31:52.501 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470171634667520 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:31:52.502 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470171634667520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:31:52.510 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470171634667520 [0;39m <==    Updates: 1
2023-05-17 00:31:52.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470171634667520 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:31:52.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470171634667520 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:31:52.826 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:53.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470175170465792 [0;39m ------------- 开始 -------------
2023-05-17 00:31:53.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470175170465792 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:53.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470175170465792 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:53.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470175170465792 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:53.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470175170465792 [0;39m 请求参数: [2]
2023-05-17 00:31:53.340 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470175170465792 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:53.340 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470175170465792 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:53.341 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470175170465792 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:53.341 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470175170465792 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:53.342 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470175170465792 [0;39m <==      Total: 1
2023-05-17 00:31:53.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470175170465792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:53.343 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470175170465792 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:53.343 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470175170465792 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:53.343 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470175170465792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:53.344 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470175170465792 [0;39m <==      Total: 1
2023-05-17 00:31:53.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470175170465792 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:53.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470175170465792 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:31:56.897 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:58.417 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39469972732383232 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:31:58.418 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39469972732383232 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 00:31:58.421 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39469973286031360 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:31:58.423 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39469973286031360 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:31:58.423 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39469973286031360 [0;39m 登录校验开始，token：39469946442485760
2023-05-17 00:31:58.426 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39469973286031360 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39469946442485760"}
2023-05-17 00:31:58.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470196590776320 [0;39m ------------- 开始 -------------
2023-05-17 00:31:58.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470196590776320 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:31:58.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470196590776320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:31:58.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470196590776320 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:58.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470196590776320 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"parentId":5,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:31:58.447 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:58.447 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:58.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470196590776320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:58.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470196590776320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:58.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m <==      Total: 1
2023-05-17 00:31:58.449 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:58.449 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:58.449 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470196590776320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:58.450 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470196590776320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:58.450 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m <==      Total: 1
2023-05-17 00:31:58.450 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470196590776320 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:31:58.450 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470196590776320 [0;39m ==> Parameters: null
2023-05-17 00:31:58.452 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470196590776320 [0;39m <==      Total: 0
2023-05-17 00:31:58.453 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39470196590776320 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$a06e6ec3.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:31:58.457 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39470196590776320 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:32:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39470203163250688 [0;39m 生成今日电子书快照开始
2023-05-17 00:32:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470203163250688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:32:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470203163250688 [0;39m ==> Parameters: 
2023-05-17 00:32:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470203163250688 [0;39m <==    Updates: 0
2023-05-17 00:32:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39470203163250688 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-17 00:32:02.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470214638866432 [0;39m ------------- 开始 -------------
2023-05-17 00:32:02.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470214638866432 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:32:02.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470214638866432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:02.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470214638866432 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:02.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470214638866432 [0;39m 请求参数: [2]
2023-05-17 00:32:02.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470214638866432 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:02.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470214638866432 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:02.751 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470214638866432 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:02.751 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470214638866432 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:32:02.752 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470214638866432 [0;39m <==      Total: 1
2023-05-17 00:32:02.752 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470214638866432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:02.753 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470214638866432 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:02.753 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470214638866432 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:02.754 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470214638866432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:02.754 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470214638866432 [0;39m <==      Total: 1
2023-05-17 00:32:02.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470214638866432 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:02.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470214638866432 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:32:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470224126382080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:32:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470224126382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:32:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470224126382080 [0;39m ==> Parameters: 
2023-05-17 00:32:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470224126382080 [0;39m <==    Updates: 2
2023-05-17 00:32:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470224126382080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:32:05.965 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：oM03LB8r1q，session id：1！当前连接数：0
2023-05-17 00:32:07.467 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：6m5Dacmja4，session id：2，当前连接数：1
2023-05-17 00:32:08.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470238034694144 [0;39m ------------- 开始 -------------
2023-05-17 00:32:08.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470238034694144 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:32:08.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470238034694144 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:32:08.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470238034694144 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:08.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470238034694144 [0;39m 请求参数: [2]
2023-05-17 00:32:08.333 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470238034694144 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:32:08.334 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470238034694144 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:08.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470238034694144 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:32:08.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470238034694144 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 163, 1
2023-05-17 00:32:08.336 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470238034694144 [0;39m <==      Total: 1
2023-05-17 00:32:08.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470238034694144 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":163,"voteCount":1}],"success":true}
2023-05-17 00:32:08.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470238034694144 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:32:08.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470238563176448 [0;39m ------------- 开始 -------------
2023-05-17 00:32:08.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470238563176448 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:32:08.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470238563176448 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:08.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470238563176448 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:08.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470238563176448 [0;39m 请求参数: [2]
2023-05-17 00:32:08.465 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470238563176448 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:08.465 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470238563176448 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:08.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470238563176448 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:08.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470238563176448 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:32:08.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470238563176448 [0;39m <==      Total: 1
2023-05-17 00:32:08.469 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470238563176448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:08.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470238563176448 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:08.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470238563176448 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:08.474 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470238563176448 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:08.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470238563176448 [0;39m <==      Total: 1
2023-05-17 00:32:08.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470238563176448 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:08.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470238563176448 [0;39m ------------- 结束 耗时：24 ms -------------
2023-05-17 00:32:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470240253480960 [0;39m ------------- 开始 -------------
2023-05-17 00:32:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470240253480960 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:32:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470240253480960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:32:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470240253480960 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470240253480960 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:32:08.857 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470240253480960 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:32:08.857 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470240253480960 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:08.912 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470240253480960 [0;39m <==    Columns: id, content
2023-05-17 00:32:08.912 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470240253480960 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:32:08.912 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470240253480960 [0;39m <==      Total: 1
2023-05-17 00:32:08.912 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470240253480960 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:32:08.912 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470240253480960 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:09.118 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470240253480960 [0;39m <==    Updates: 1
2023-05-17 00:32:09.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470240253480960 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:32:09.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470240253480960 [0;39m ------------- 结束 耗时：265 ms -------------
2023-05-17 00:32:11.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470249669693440 [0;39m ------------- 开始 -------------
2023-05-17 00:32:11.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470249669693440 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:32:11.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470249669693440 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:11.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470249669693440 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:11.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470249669693440 [0;39m 请求参数: [2]
2023-05-17 00:32:11.101 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470249669693440 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:11.102 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470249669693440 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:11.103 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470249669693440 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:11.103 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470249669693440 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:32:11.104 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470249669693440 [0;39m <==      Total: 1
2023-05-17 00:32:11.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470249669693440 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:11.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470249669693440 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:11.106 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470249669693440 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:11.106 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470249669693440 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:11.107 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470249669693440 [0;39m <==      Total: 1
2023-05-17 00:32:11.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470249669693440 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:11.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470249669693440 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:32:12.812 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:14.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:15.980 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39470175170465792 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:15.982 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39470175170465792 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:32:15.982 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39470175170465792 [0;39m 登录校验开始，token：39469946442485760
2023-05-17 00:32:15.985 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39470175170465792 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39469946442485760"}
2023-05-17 00:32:15.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470270163062784 [0;39m ------------- 开始 -------------
2023-05-17 00:32:15.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470270163062784 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:32:15.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470270163062784 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:32:15.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470270163062784 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:15.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470270163062784 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"parentId":5,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:32:15.988 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:15.989 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:15.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470270163062784 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:15.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470270163062784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:15.990 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m <==      Total: 1
2023-05-17 00:32:15.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:15.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:15.992 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470270163062784 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:15.992 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470270163062784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:15.992 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m <==      Total: 1
2023-05-17 00:32:15.992 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470270163062784 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:32:15.993 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470270163062784 [0;39m ==> Parameters: null
2023-05-17 00:32:15.993 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470270163062784 [0;39m <==      Total: 0
2023-05-17 00:32:15.994 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39470270163062784 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor94.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$a06e6ec3.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:32:15.994 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39470270163062784 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:32:20.581 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:22.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:22.601 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:24.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470349976473600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:32:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470349976473600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:32:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470349976473600 [0;39m ==> Parameters: 
2023-05-17 00:32:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470349976473600 [0;39m <==    Updates: 2
2023-05-17 00:32:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470349976473600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:32:35.449 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39469972732383232 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:35.450 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39469972732383232 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 00:32:35.452 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39469972732383232 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:35.452 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39469972732383232 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/39469946442485760
2023-05-17 00:32:35.452 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39469972732383232 [0;39m 登录校验开始，token：39469946442485760
2023-05-17 00:32:35.457 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39469972732383232 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39469946442485760"}
2023-05-17 00:32:35.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470351868104704 [0;39m ------------- 开始 -------------
2023-05-17 00:32:35.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470351868104704 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/39469946442485760 GET
2023-05-17 00:32:35.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470351868104704 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-17 00:32:35.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470351868104704 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:35.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470351868104704 [0;39m 请求参数: ["39469946442485760"]
2023-05-17 00:32:35.551 INFO  com.jiawa.wiki.controller.UserController          :97   [32m39470351868104704 [0;39m 从redis中删除token: 39469946442485760
2023-05-17 00:32:35.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470351868104704 [0;39m 返回结果: {"success":true}
2023-05-17 00:32:35.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470351868104704 [0;39m ------------- 结束 耗时：87 ms -------------
2023-05-17 00:32:35.554 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39470351868104704 [0;39m ------------- LoginInterceptor 结束 耗时：102 ms -------------
2023-05-17 00:32:37.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:37.539 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39470196590776320 [0;39m 连接关闭，token：6m5Dacmja4，session id：2！当前连接数：0
2023-05-17 00:32:38.800 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39470214638866432 [0;39m 有新连接：token：epL9nYoTyQ，session id：3，当前连接数：1
2023-05-17 00:32:38.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470366283927552 [0;39m ------------- 开始 -------------
2023-05-17 00:32:38.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470366283927553 [0;39m ------------- 开始 -------------
2023-05-17 00:32:38.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470366283927552 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:32:38.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470366283927552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:32:38.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470366283927553 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:32:38.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470366283927552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:38.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470366283927553 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:38.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470366283927553 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:38.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470366283927552 [0;39m 请求参数: [2]
2023-05-17 00:32:38.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470366283927553 [0;39m 请求参数: [2]
2023-05-17 00:32:38.905 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470366283927553 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:38.905 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470366283927552 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:32:38.905 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470366283927553 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:38.905 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470366283927552 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:38.906 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470366283927553 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:38.907 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470366283927553 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:32:38.907 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470366283927552 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:32:38.907 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470366283927552 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 164, 1
2023-05-17 00:32:38.907 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470366283927552 [0;39m <==      Total: 1
2023-05-17 00:32:38.907 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470366283927553 [0;39m <==      Total: 1
2023-05-17 00:32:38.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470366283927552 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":164,"voteCount":1}],"success":true}
2023-05-17 00:32:38.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470366283927553 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:38.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470366283927552 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:32:38.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470366283927553 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:38.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470366283927553 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:38.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470366283927553 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:38.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470366283927553 [0;39m <==      Total: 1
2023-05-17 00:32:38.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470366283927553 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:38.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470366283927553 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:38.972 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470366573334528 [0;39m ------------- 开始 -------------
2023-05-17 00:32:38.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470366573334528 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:32:38.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470366573334528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:32:38.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470366573334528 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:38.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470366573334528 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:32:38.976 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470366573334528 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:32:38.976 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470366573334528 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:38.977 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470366573334528 [0;39m <==    Columns: id, content
2023-05-17 00:32:38.978 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470366573334528 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:32:38.978 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470366573334528 [0;39m <==      Total: 1
2023-05-17 00:32:38.979 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470366573334528 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:32:38.980 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470366573334528 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:38.980 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470366573334528 [0;39m <==    Updates: 1
2023-05-17 00:32:38.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470366573334528 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:32:38.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470366573334528 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:32:39.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:41.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470379160440832 [0;39m ------------- 开始 -------------
2023-05-17 00:32:41.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470379160440832 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-17 00:32:41.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470379160440832 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-17 00:32:41.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470379160440832 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:41.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470379160440832 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-17 00:32:41.978 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39470379160440832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-17 00:32:41.978 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39470379160440832 [0;39m ==> Parameters: test(String)
2023-05-17 00:32:41.979 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39470379160440832 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:41.979 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39470379160440832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:41.979 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39470379160440832 [0;39m <==      Total: 1
2023-05-17 00:32:41.980 INFO  com.jiawa.wiki.controller.UserController          :86   [32m39470379160440832 [0;39m 生成单点登录token：39470379189800960，并放入redis中
2023-05-17 00:32:41.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470379160440832 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"39470379189800960"},"success":true}
2023-05-17 00:32:41.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470379160440832 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:48.298 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39470240253480960 [0;39m 连接关闭，token：epL9nYoTyQ，session id：3！当前连接数：0
2023-05-17 00:32:49.526 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39470249669693440 [0;39m 有新连接：token：b9FSBDeQqd，session id：4，当前连接数：1
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470411276226561 [0;39m ------------- 开始 -------------
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470411276226560 [0;39m ------------- 开始 -------------
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470411276226561 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470411276226560 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470411276226561 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470411276226560 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:49.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470411276226561 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:49.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470411276226560 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:49.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470411276226561 [0;39m 请求参数: [2]
2023-05-17 00:32:49.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470411276226560 [0;39m 请求参数: [2]
2023-05-17 00:32:49.631 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470411276226560 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:49.632 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470411276226561 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:32:49.632 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470411276226560 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:49.632 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470411276226561 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:49.633 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470411276226561 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:32:49.633 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470411276226560 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:49.633 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470411276226561 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 165, 1
2023-05-17 00:32:49.633 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470411276226560 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:32:49.633 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470411276226561 [0;39m <==      Total: 1
2023-05-17 00:32:49.633 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470411276226560 [0;39m <==      Total: 1
2023-05-17 00:32:49.634 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470411276226560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:49.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470411276226561 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":165,"voteCount":1}],"success":true}
2023-05-17 00:32:49.635 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470411276226560 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:49.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470411276226561 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:32:49.635 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470411276226560 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:49.636 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470411276226560 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:49.636 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470411276226560 [0;39m <==      Total: 1
2023-05-17 00:32:49.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470411276226560 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:49.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470411276226560 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:49.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470411511107584 [0;39m ------------- 开始 -------------
2023-05-17 00:32:49.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470411511107584 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:32:49.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470411511107584 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:32:49.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470411511107584 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:49.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470411511107584 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:32:49.690 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470411511107584 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:32:49.691 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470411511107584 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:49.692 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470411511107584 [0;39m <==    Columns: id, content
2023-05-17 00:32:49.692 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470411511107584 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:32:49.693 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470411511107584 [0;39m <==      Total: 1
2023-05-17 00:32:49.693 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470411511107584 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:32:49.694 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470411511107584 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:49.703 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470411511107584 [0;39m <==    Updates: 1
2023-05-17 00:32:49.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470411511107584 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:32:49.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470411511107584 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470414451314688 [0;39m ------------- 开始 -------------
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470414451314688 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470414451314689 [0;39m ------------- 开始 -------------
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470414451314688 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470414451314689 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470414451314688 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470414451314689 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:32:50.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470414451314689 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:50.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470414451314688 [0;39m 请求参数: []
2023-05-17 00:32:50.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470414451314689 [0;39m 请求参数: []
2023-05-17 00:32:50.389 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39470414451314689 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:32:50.389 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39470414451314689 [0;39m ==> Parameters: 
2023-05-17 00:32:50.390 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39470414451314688 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:32:50.390 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39470414451314688 [0;39m ==> Parameters: 
2023-05-17 00:32:50.391 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:32:50.391 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:32:50.392 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:32:50.392 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:32:50.392 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39470414451314688 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:32:50.392 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:32:50.393 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:32:50.393 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:32:50.394 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39470414451314688 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:32:50.394 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:32:50.395 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:32:50.395 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39470414451314688 [0;39m <==        Row: 2023-05-17, 618, 16, 23, 0
2023-05-17 00:32:50.395 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39470414451314689 [0;39m <==      Total: 8
2023-05-17 00:32:50.395 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39470414451314688 [0;39m <==      Total: 2
2023-05-17 00:32:50.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470414451314689 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:32:50.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470414451314689 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:32:50.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470414451314688 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":618,"viewIncrease":23,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:32:50.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470414451314688 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:32:50.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470414505840640 [0;39m ------------- 开始 -------------
2023-05-17 00:32:50.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470414505840640 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:32:50.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470414505840640 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:32:50.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470414505840640 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:50.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470414505840640 [0;39m 请求参数: []
2023-05-17 00:32:50.401 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39470414505840640 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:32:50.401 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39470414505840640 [0;39m ==> Parameters: 
2023-05-17 00:32:50.402 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:32:50.402 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:32:50.403 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:32:50.404 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:32:50.404 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:32:50.404 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:32:50.404 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:32:50.405 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:32:50.405 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:32:50.405 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:32:50.405 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:32:50.406 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:32:50.406 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:32:50.406 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:32:50.406 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:32:50.407 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:32:50.407 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39470414505840640 [0;39m <==      Total: 15
2023-05-17 00:32:50.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470414505840640 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:32:50.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470414505840640 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:32:51.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470417433464832 [0;39m ------------- 开始 -------------
2023-05-17 00:32:51.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470417433464832 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:32:51.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470417433464832 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:32:51.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470417433464832 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:51.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470417433464832 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-17 00:32:51.103 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470417433464832 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:32:51.103 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470417433464832 [0;39m ==> Parameters: 102(Long)
2023-05-17 00:32:51.104 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470417433464832 [0;39m <==    Columns: count(0)
2023-05-17 00:32:51.104 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470417433464832 [0;39m <==        Row: 0
2023-05-17 00:32:51.105 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470417433464832 [0;39m <==      Total: 1
2023-05-17 00:32:51.105 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39470417433464832 [0;39m 总行数：0
2023-05-17 00:32:51.105 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39470417433464832 [0;39m 总页数：0
2023-05-17 00:32:51.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470417433464832 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-17 00:32:51.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470417433464832 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:51.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470420856016896 [0;39m ------------- 开始 -------------
2023-05-17 00:32:51.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470420856016896 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:32:51.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470420856016896 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:32:51.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470420856016896 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:51.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470420856016896 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-17 00:32:51.916 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470420856016896 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:32:51.916 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470420856016896 [0;39m ==> Parameters: 201(Long)
2023-05-17 00:32:51.920 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470420856016896 [0;39m <==    Columns: count(0)
2023-05-17 00:32:51.921 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470420856016896 [0;39m <==        Row: 0
2023-05-17 00:32:51.921 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470420856016896 [0;39m <==      Total: 1
2023-05-17 00:32:51.921 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39470420856016896 [0;39m 总行数：0
2023-05-17 00:32:51.921 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39470420856016896 [0;39m 总页数：0
2023-05-17 00:32:51.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470420856016896 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-17 00:32:51.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470420856016896 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:52.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:52.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470422609235968 [0;39m ------------- 开始 -------------
2023-05-17 00:32:52.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470422609235968 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:32:52.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470422609235968 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:32:52.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470422609235968 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:52.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470422609235968 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-17 00:32:52.335 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470422609235968 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:32:52.335 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470422609235968 [0;39m ==> Parameters: 202(Long)
2023-05-17 00:32:52.336 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470422609235968 [0;39m <==    Columns: count(0)
2023-05-17 00:32:52.336 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470422609235968 [0;39m <==        Row: 1
2023-05-17 00:32:52.336 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470422609235968 [0;39m <==      Total: 1
2023-05-17 00:32:52.337 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39470422609235968 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:32:52.337 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39470422609235968 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-17 00:32:52.338 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39470422609235968 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:32:52.338 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39470422609235968 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 456, 15
2023-05-17 00:32:52.339 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39470422609235968 [0;39m <==      Total: 1
2023-05-17 00:32:52.339 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39470422609235968 [0;39m 总行数：1
2023-05-17 00:32:52.340 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39470422609235968 [0;39m 总页数：1
2023-05-17 00:32:52.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470422609235968 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":456,"voteCount":15}],"total":1},"success":true}
2023-05-17 00:32:52.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470422609235968 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:52.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470425335533568 [0;39m ------------- 开始 -------------
2023-05-17 00:32:52.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470425335533569 [0;39m ------------- 开始 -------------
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470425335533569 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470425335533568 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470425335533568 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470425335533569 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470425335533568 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470425335533569 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470425335533568 [0;39m 请求参数: [1]
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470425335533569 [0;39m 请求参数: [1]
2023-05-17 00:32:52.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470425335533568 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:52.984 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470425335533569 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:32:52.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470425335533568 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:52.984 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470425335533569 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:52.985 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470425335533568 [0;39m <==      Total: 0
2023-05-17 00:32:52.985 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:32:52.985 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 420, 8
2023-05-17 00:32:52.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470425335533568 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:32:52.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470425335533568 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:32:52.986 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:32:52.986 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:32:52.986 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:32:52.987 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:32:52.987 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:32:52.987 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:32:52.988 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:32:52.988 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470425335533569 [0;39m <==      Total: 8
2023-05-17 00:32:52.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470425335533569 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":420,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:32:52.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470425335533569 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:32:53.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470425599774720 [0;39m ------------- 开始 -------------
2023-05-17 00:32:53.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470425599774720 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:32:53.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470425599774720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:32:53.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470425599774720 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:53.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470425599774720 [0;39m 请求参数: [1]
2023-05-17 00:32:53.046 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470425599774720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:32:53.046 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470425599774720 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:53.047 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470425599774720 [0;39m <==    Columns: id, content
2023-05-17 00:32:53.048 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470425599774720 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:32:53.048 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470425599774720 [0;39m <==      Total: 1
2023-05-17 00:32:53.048 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470425599774720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:32:53.049 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470425599774720 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:53.051 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470425599774720 [0;39m <==    Updates: 1
2023-05-17 00:32:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470425599774720 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:32:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470425599774720 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:32:53.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470429504671744 [0;39m ------------- 开始 -------------
2023-05-17 00:32:53.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470429504671744 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:32:53.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470429504671744 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:53.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470429504671744 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:53.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470429504671744 [0;39m 请求参数: [1]
2023-05-17 00:32:53.977 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470429504671744 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:53.978 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470429504671744 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:53.978 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470429504671744 [0;39m <==      Total: 0
2023-05-17 00:32:53.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470429504671744 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:32:53.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470429504671744 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:32:54.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:56.378 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39470420856016896 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:56.378 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39470420856016896 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 00:32:56.388 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39470411511107584 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:56.389 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39470411511107584 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:32:56.389 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39470411511107584 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:32:56.390 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39470411511107584 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:32:56.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470439654887424 [0;39m ------------- 开始 -------------
2023-05-17 00:32:56.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470439654887424 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:32:56.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470439654887424 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:32:56.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470439654887424 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:56.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470439654887424 [0;39m 请求参数: [{"content":"如图","ebookId":1,"userId":1}]
2023-05-17 00:32:56.404 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439654887424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:56.405 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439654887424 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:56.406 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470439654887424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:56.407 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470439654887424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:56.407 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439654887424 [0;39m <==      Total: 1
2023-05-17 00:32:56.408 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470439654887424 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:32:56.408 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470439654887424 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:56.409 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39470439654887424 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:32:56.409 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39470439654887424 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 456, 15
2023-05-17 00:32:56.409 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470439654887424 [0;39m <==      Total: 1
2023-05-17 00:32:56.410 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470439654887424 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:32:56.413 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470439654887424 [0;39m ==> Parameters: null, 1(Long), 1(Long), null, null, 如图(String), 2023-05-17 00:32:56.41(Timestamp), null
2023-05-17 00:32:56.416 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470439654887424 [0;39m <==    Updates: 1
2023-05-17 00:32:56.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470439654887424 [0;39m 返回结果: {"success":true}
2023-05-17 00:32:56.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470439654887424 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:32:56.417 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39470439654887424 [0;39m ------------- LoginInterceptor 结束 耗时：29 ms -------------
2023-05-17 00:32:56.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470439772327936 [0;39m ------------- 开始 -------------
2023-05-17 00:32:56.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470439772327936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:32:56.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470439772327936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:56.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470439772327936 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:56.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470439772327936 [0;39m 请求参数: [1]
2023-05-17 00:32:56.425 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470439772327936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:56.426 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470439772327936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:56.427 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470439772327936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:56.427 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470439772327936 [0;39m <==        Row: 6, 1, 1, null, null, 如图, 2023-05-17 00:32:56, null
2023-05-17 00:32:56.428 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470439772327936 [0;39m <==      Total: 1
2023-05-17 00:32:56.428 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439772327936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:56.429 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439772327936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:56.430 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470439772327936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:56.431 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470439772327936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:56.431 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439772327936 [0;39m <==      Total: 1
2023-05-17 00:32:56.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470439772327936 [0;39m 返回结果: {"content":[{"content":"如图","createTime":1684254776000,"ebookId":1,"id":6,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:56.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470439772327936 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:32:58.513 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39470414451314689 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:58.513 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39470414451314689 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:32:58.513 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39470414451314689 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:32:58.514 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39470414451314689 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:32:58.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470448546811904 [0;39m ------------- 开始 -------------
2023-05-17 00:32:58.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470448546811904 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:32:58.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470448546811904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:32:58.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470448546811904 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:58.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470448546811904 [0;39m 请求参数: [{"content":"天天","ebookId":1,"parentId":6,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:32:58.517 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:58.517 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:58.518 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470448546811904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:58.518 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470448546811904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:58.518 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m <==      Total: 1
2023-05-17 00:32:58.519 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:58.519 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:58.520 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470448546811904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:58.520 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470448546811904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:58.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m <==      Total: 1
2023-05-17 00:32:58.520 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470448546811904 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:32:58.521 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470448546811904 [0;39m ==> Parameters: null
2023-05-17 00:32:58.521 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470448546811904 [0;39m <==      Total: 0
2023-05-17 00:32:58.522 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39470448546811904 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor94.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$a06e6ec3.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:32:58.523 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39470448546811904 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:33:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39470454846656512 [0;39m 生成今日电子书快照开始
2023-05-17 00:33:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470454846656512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:33:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470454846656512 [0;39m ==> Parameters: 
2023-05-17 00:33:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470454846656512 [0;39m <==    Updates: 0
2023-05-17 00:33:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39470454846656512 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 00:33:03.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470475801399296 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470475801399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470475801399296 [0;39m ==> Parameters: 
2023-05-17 00:33:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470475801399296 [0;39m <==    Updates: 2
2023-05-17 00:33:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470475801399296 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-17 00:33:22.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:24.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:28.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470601592770560 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:33:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470601592770560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:33:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470601592770560 [0;39m ==> Parameters: 
2023-05-17 00:33:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470601592770560 [0;39m <==    Updates: 2
2023-05-17 00:33:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470601592770560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:33:35.756 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39470414451314688 [0;39m 连接关闭，token：b9FSBDeQqd，session id：4！当前连接数：0
2023-05-17 00:33:37.858 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39470425335533568 [0;39m 有新连接：token：vGt015QIUB，session id：5，当前连接数：1
2023-05-17 00:33:37.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470614079213569 [0;39m ------------- 开始 -------------
2023-05-17 00:33:37.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470614079213568 [0;39m ------------- 开始 -------------
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470614079213569 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470614079213568 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470614079213569 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470614079213568 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470614079213569 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470614079213568 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470614079213569 [0;39m 请求参数: [1]
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470614079213568 [0;39m 请求参数: [1]
2023-05-17 00:33:37.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470614079213569 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:33:37.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470614079213569 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:37.985 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470614079213568 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:33:37.985 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470614079213569 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:33:37.985 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470614079213569 [0;39m <==        Row: 6, 1, 1, null, null, 如图, 2023-05-17 00:32:56, null
2023-05-17 00:33:37.985 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470614079213568 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:37.986 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470614079213569 [0;39m <==      Total: 1
2023-05-17 00:33:37.986 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:33:37.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470614079213569 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:33:37.986 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 421, 8
2023-05-17 00:33:37.987 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470614079213569 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:37.987 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:33:37.987 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:33:37.987 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470614079213569 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:33:37.987 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470614079213569 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:33:37.988 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470614079213569 [0;39m <==      Total: 1
2023-05-17 00:33:37.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470614079213569 [0;39m 返回结果: {"content":[{"content":"如图","createTime":1684254776000,"ebookId":1,"id":6,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:33:37.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470614079213569 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:33:37.988 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:33:37.989 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:33:37.989 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:33:37.989 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:33:37.989 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:33:37.990 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470614079213568 [0;39m <==      Total: 8
2023-05-17 00:33:37.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470614079213568 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":421,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:33:37.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470614079213568 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 00:33:38.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470614452506624 [0;39m ------------- 开始 -------------
2023-05-17 00:33:38.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470614452506624 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:33:38.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470614452506624 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:33:38.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470614452506624 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:33:38.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470614452506624 [0;39m 请求参数: [1]
2023-05-17 00:33:38.076 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470614452506624 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:33:38.076 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470614452506624 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:38.077 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470614452506624 [0;39m <==    Columns: id, content
2023-05-17 00:33:38.077 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470614452506624 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:33:38.078 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470614452506624 [0;39m <==      Total: 1
2023-05-17 00:33:38.078 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470614452506624 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:33:38.079 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470614452506624 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:38.086 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470614452506624 [0;39m <==    Updates: 1
2023-05-17 00:33:38.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470614452506624 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:33:38.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470614452506624 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:33:45.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470645473579008 [0;39m ------------- 开始 -------------
2023-05-17 00:33:45.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470645473579008 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:33:45.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470645473579008 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:33:45.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470645473579008 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:33:45.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470645473579008 [0;39m 请求参数: [1]
2023-05-17 00:33:45.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470645473579008 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:33:45.469 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470645473579008 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:45.469 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470645473579008 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:33:45.470 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470645473579008 [0;39m <==        Row: 6, 1, 1, null, null, 如图, 2023-05-17 00:32:56, null
2023-05-17 00:33:45.470 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470645473579008 [0;39m <==      Total: 1
2023-05-17 00:33:45.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470645473579008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:33:45.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470645473579008 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:45.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470645473579008 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:33:45.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470645473579008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:33:45.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470645473579008 [0;39m <==      Total: 1
2023-05-17 00:33:45.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470645473579008 [0;39m 返回结果: {"content":[{"content":"如图","createTime":1684254776000,"ebookId":1,"id":6,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:33:45.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470645473579008 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:33:48.465 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39470420856016896 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:33:48.466 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39470420856016896 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:33:48.467 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39470420856016896 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:33:48.468 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39470420856016896 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:33:48.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470658064879616 [0;39m ------------- 开始 -------------
2023-05-17 00:33:48.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470658064879616 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:33:48.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470658064879616 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:33:48.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470658064879616 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:33:48.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470658064879616 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":1,"parentId":6,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:33:48.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:33:48.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:48.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470658064879616 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:33:48.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470658064879616 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:33:48.473 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m <==      Total: 1
2023-05-17 00:33:48.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:33:48.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:48.475 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470658064879616 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:33:48.475 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470658064879616 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:33:48.475 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m <==      Total: 1
2023-05-17 00:33:48.476 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470658064879616 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:33:48.477 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470658064879616 [0;39m ==> Parameters: null
2023-05-17 00:33:48.479 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470658064879616 [0;39m <==      Total: 0
2023-05-17 00:33:48.479 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39470658064879616 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor94.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$a06e6ec3.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:33:48.482 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39470658064879616 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:33:50.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:52.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:52.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:54.640 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:56.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39470706454564864 [0;39m 生成今日电子书快照开始
2023-05-17 00:34:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470706454564864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:34:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470706454564864 [0;39m ==> Parameters: 
2023-05-17 00:34:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470706454564864 [0;39m <==    Updates: 0
2023-05-17 00:34:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39470706454564864 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 00:34:01.164 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：vGt015QIUB，session id：5！当前连接数：0
2023-05-17 00:34:01.232 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:34:01.232 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:34:01.232 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:34:01.232 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 00:34:01.248 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 00:34:01.516 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:34:01.516 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:34:06.669 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 14844 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:34:06.669 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:34:06.700 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:34:06.763 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:34:06.763 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:34:07.988 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:34:07.988 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:34:08.015 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-05-17 00:34:08.249 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$6a1271a9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.265 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.735 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.735 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$c4ce6aa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.735 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.735 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.751 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.751 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.751 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.751 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.751 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.766 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.766 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.766 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.782 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.797 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:09.827 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:09.829 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:10.284 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:34:10.291 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:34:10.291 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:34:10.291 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:34:10.384 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:34:10.384 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3621 ms
2023-05-17 00:34:11.386 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:34:11.769 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:34:11.835 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:34:12.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:14.531 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:16.576 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:16.578 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:34:16.579 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:34:16.602 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:34:16.613 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:34:16.626 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 10.711 seconds (JVM running for 12.561)
2023-05-17 00:34:16.629 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:34:16.629 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:34:18.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:20.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:35.044 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470853414588416 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:34:35.107 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39470853414588416 [0;39m HikariPool-1 - Starting...
2023-05-17 00:34:35.755 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39470853414588416 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:34:35.755 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470853414588416 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:34:35.802 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470853414588416 [0;39m ==> Parameters: 
2023-05-17 00:34:35.812 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470853414588416 [0;39m <==    Updates: 2
2023-05-17 00:34:35.818 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470853414588416 [0;39m 更新电子书下的文档数据结束，耗时：774毫秒
2023-05-17 00:34:41.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:41.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:45.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:47.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39470958125387776 [0;39m 生成今日电子书快照开始
2023-05-17 00:35:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470958125387776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:35:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470958125387776 [0;39m ==> Parameters: 
2023-05-17 00:35:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470958125387776 [0;39m <==    Updates: 0
2023-05-17 00:35:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39470958125387776 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-17 00:35:00.101 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:35:00.102 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:35:00.107 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 4 ms
2023-05-17 00:35:00.230 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：jD0yOAwNtO，session id：0，当前连接数：1
2023-05-17 00:35:00.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470959605977089 [0;39m ------------- 开始 -------------
2023-05-17 00:35:00.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470959605977088 [0;39m ------------- 开始 -------------
2023-05-17 00:35:00.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470959605977089 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:35:00.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470959605977088 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:35:00.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470959605977089 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:35:00.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470959605977088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:35:00.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470959605977089 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:00.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470959605977088 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:01.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470959605977089 [0;39m 请求参数: [1]
2023-05-17 00:35:01.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470959605977088 [0;39m 请求参数: [1]
2023-05-17 00:35:01.426 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470959605977088 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:35:01.442 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470959605977088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:01.457 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470959605977088 [0;39m <==      Total: 0
2023-05-17 00:35:01.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470959605977088 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:35:01.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470959605977088 [0;39m ------------- 结束 耗时：1127 ms -------------
2023-05-17 00:35:01.520 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470959605977089 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:35:01.535 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470959605977089 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:01.535 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:35:01.535 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 422, 8
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:35:01.541 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470959605977089 [0;39m <==      Total: 8
2023-05-17 00:35:01.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470959605977089 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":422,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:35:01.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470959605977089 [0;39m ------------- 结束 耗时：1205 ms -------------
2023-05-17 00:35:01.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470965020823552 [0;39m ------------- 开始 -------------
2023-05-17 00:35:01.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470965020823552 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:35:01.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470965020823552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:35:01.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470965020823552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:01.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470965020823552 [0;39m 请求参数: [1]
2023-05-17 00:35:01.653 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470965020823552 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:35:01.653 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470965020823552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:01.669 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470965020823552 [0;39m <==    Columns: id, content
2023-05-17 00:35:01.669 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470965020823552 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:35:01.669 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470965020823552 [0;39m <==      Total: 1
2023-05-17 00:35:01.669 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470965020823552 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:35:01.669 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470965020823552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:01.669 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470965020823552 [0;39m <==    Updates: 1
2023-05-17 00:35:01.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470965020823552 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:35:01.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470965020823552 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:35:03.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470973442985984 [0;39m ------------- 开始 -------------
2023-05-17 00:35:03.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470973442985984 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:35:03.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470973442985984 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:35:03.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470973442985984 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:03.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470973442985984 [0;39m 请求参数: [1]
2023-05-17 00:35:03.663 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470973442985984 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:35:03.663 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470973442985984 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:03.664 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470973442985984 [0;39m <==      Total: 0
2023-05-17 00:35:03.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470973442985984 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:35:03.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470973442985984 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:35:05.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470979143045120 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:35:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470979143045120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:35:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470979143045120 [0;39m ==> Parameters: 
2023-05-17 00:35:05.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470979143045120 [0;39m <==    Updates: 2
2023-05-17 00:35:05.028 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470979143045120 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 00:35:06.079 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:35:06.079 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:35:06.080 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:35:06.242 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:35:06.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470984507559936 [0;39m ------------- 开始 -------------
2023-05-17 00:35:06.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470984507559936 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:35:06.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470984507559936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:35:06.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470984507559936 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:06.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470984507559936 [0;39m 请求参数: [{"content":"额外企鹅群","ebookId":1,"userId":1}]
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984507559936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984507559936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:06.305 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470984507559936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:35:06.305 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470984507559936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984507559936 [0;39m <==      Total: 1
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470984507559936 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470984507559936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:06.305 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39470984507559936 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:35:06.305 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39470984507559936 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 459, 15
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470984507559936 [0;39m <==      Total: 1
2023-05-17 00:35:06.305 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470984507559936 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:35:06.312 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470984507559936 [0;39m ==> Parameters: null, 1(Long), 1(Long), null, null, 额外企鹅群(String), 2023-05-17 00:35:06.305(Timestamp), null
2023-05-17 00:35:06.319 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470984507559936 [0;39m <==    Updates: 1
2023-05-17 00:35:06.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470984507559936 [0;39m 返回结果: {"success":true}
2023-05-17 00:35:06.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470984507559936 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:35:06.319 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39470984507559936 [0;39m ------------- LoginInterceptor 结束 耗时：240 ms -------------
2023-05-17 00:35:06.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470984633389056 [0;39m ------------- 开始 -------------
2023-05-17 00:35:06.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470984633389056 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:35:06.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470984633389056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:35:06.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470984633389056 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:06.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470984633389056 [0;39m 请求参数: [1]
2023-05-17 00:35:06.330 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470984633389056 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:35:06.331 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470984633389056 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:06.332 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470984633389056 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:35:06.334 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470984633389056 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:35:06.336 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470984633389056 [0;39m <==      Total: 1
2023-05-17 00:35:06.336 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984633389056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:35:06.336 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984633389056 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:06.340 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470984633389056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:35:06.341 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470984633389056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:35:06.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984633389056 [0;39m <==      Total: 1
2023-05-17 00:35:06.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470984633389056 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:35:06.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470984633389056 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-17 00:35:09.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:09.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470998877245440 [0;39m ------------- 开始 -------------
2023-05-17 00:35:09.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470998877245440 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:35:09.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470998877245440 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:35:09.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470998877245440 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:09.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470998877245440 [0;39m 请求参数: [1]
2023-05-17 00:35:09.727 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470998877245440 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:35:09.728 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470998877245440 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:09.729 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470998877245440 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:35:09.729 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470998877245440 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:35:09.730 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470998877245440 [0;39m <==      Total: 1
2023-05-17 00:35:09.731 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470998877245440 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:35:09.731 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470998877245440 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:09.732 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470998877245440 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:35:09.732 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470998877245440 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:35:09.732 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470998877245440 [0;39m <==      Total: 1
2023-05-17 00:35:09.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470998877245440 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:35:09.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470998877245440 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:35:11.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:11.862 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:13.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:15.767 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:17.798 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471104930222080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:35:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471104930222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:35:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471104930222080 [0;39m ==> Parameters: 
2023-05-17 00:35:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471104930222080 [0;39m <==    Updates: 2
2023-05-17 00:35:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471104930222080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:35:35.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:41.867 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:45.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:59.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39471209758461952 [0;39m 生成今日电子书快照开始
2023-05-17 00:36:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471209758461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:36:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471209758461952 [0;39m ==> Parameters: 
2023-05-17 00:36:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471209758461952 [0;39m <==    Updates: 0
2023-05-17 00:36:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39471209758461952 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:36:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471230792896512 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:36:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471230792896512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:36:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471230792896512 [0;39m ==> Parameters: 
2023-05-17 00:36:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471230792896512 [0;39m <==    Updates: 2
2023-05-17 00:36:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471230792896512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:36:11.493 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:11.872 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:15.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:21.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:23.903 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471356605239296 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:36:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471356605239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:36:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471356605239296 [0;39m ==> Parameters: 
2023-05-17 00:36:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471356605239296 [0;39m <==    Updates: 2
2023-05-17 00:36:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471356605239296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:36:41.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:41.877 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:43.530 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:45.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:49.630 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:01.790 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:37:01.806 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 6452 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:37:01.806 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:37:01.869 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:37:01.869 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:37:02.620 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:37:02.620 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:37:02.651 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2023-05-17 00:37:02.855 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$5712b60b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:02.871 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.372 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.372 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$f94d2b0c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.372 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.372 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.387 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.387 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.387 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.387 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.387 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.403 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.403 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.403 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.419 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.434 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:04.764 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:04.764 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:05.547 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:37:05.547 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:37:05.547 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:37:05.547 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:37:06.141 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:37:06.153 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 4284 ms
2023-05-17 00:37:07.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:07.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:07.189 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:37:07.742 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:37:07.849 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:37:09.451 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:37:09.467 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 2168 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:37:09.467 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:37:09.545 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:37:09.545 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:37:10.671 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:37:10.687 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:37:10.718 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2023-05-17 00:37:11.093 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$ada8a375] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.124 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$4fe31876] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.891 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.891 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.907 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.907 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.907 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.922 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.938 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:12.596 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:12.596 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:37:12.596 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:37:12.611 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:37:12.611 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:37:12.658 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 11.224 seconds (JVM running for 12.154)
2023-05-17 00:37:12.674 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:37:12.674 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:37:14.786 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:14.786 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:15.490 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:37:15.508 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:37:15.509 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:37:15.509 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:37:15.647 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:37:15.647 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 6102 ms
2023-05-17 00:37:16.913 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:37:16.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:17.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:17.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:17.571 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:37:17.649 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m                  [0;39m Unable to start LiveReload server
2023-05-17 00:37:22.886 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:22.886 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:37:22.886 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:37:22.886 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:596  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8880 is already in use
2023-05-17 00:37:22.886 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:37:22.902 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:37:22.902 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:37:22.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:22.918 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:37:22.918 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:37:24.671 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:37:24.702 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:37:24.702 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:37:24.718 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:37:24.718 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:37:29.508 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 12340 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:37:29.508 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:37:29.508 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:37:29.555 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:37:29.555 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:37:30.262 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:37:30.262 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:37:30.309 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2023-05-17 00:37:30.547 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$e4eb6368] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:30.563 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.001 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.001 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$8725d869] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.001 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.001 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.016 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.016 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.016 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.016 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.016 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.032 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.032 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.048 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.048 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.063 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:32.085 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:32.101 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:32.529 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:37:32.544 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:37:32.544 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:37:32.544 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:37:32.640 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:37:32.640 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3070 ms
2023-05-17 00:37:33.463 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:37:33.858 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:37:33.907 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:37:34.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:34.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:36.386 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:38.420 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:37:38.420 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:37:38.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:38.435 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:37:38.435 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:37:38.451 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 9.378 seconds (JVM running for 10.675)
2023-05-17 00:37:38.451 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:37:38.451 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:37:40.452 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:42.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:50.806 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:37:50.806 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:37:50.807 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-17 00:37:50.868 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：nDPxqMrvYZ，session id：0，当前连接数：1
2023-05-17 00:37:50.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471675007438848 [0;39m ------------- 开始 -------------
2023-05-17 00:37:50.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471675007438849 [0;39m ------------- 开始 -------------
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471675007438848 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471675007438849 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471675007438848 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471675007438849 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471675007438849 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471675007438848 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:37:50.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471675007438848 [0;39m 请求参数: [1]
2023-05-17 00:37:50.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471675007438849 [0;39m 请求参数: [1]
2023-05-17 00:37:51.007 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39471675007438849 [0;39m HikariPool-1 - Starting...
2023-05-17 00:37:51.880 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39471675007438849 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:37:51.880 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471675007438849 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:37:51.896 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471675007438848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:37:51.896 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471675007438849 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:51.896 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471675007438848 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:51.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:37:51.911 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471675007438849 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:37:51.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 423, 8
2023-05-17 00:37:51.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:37:51.911 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471675007438849 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:37:51.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:37:51.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:37:51.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:37:51.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:37:51.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:37:51.927 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471675007438849 [0;39m <==      Total: 1
2023-05-17 00:37:51.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:37:51.927 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471675007438848 [0;39m <==      Total: 8
2023-05-17 00:37:51.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471675007438849 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:37:51.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471675007438849 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:51.927 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471675007438849 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:37:51.927 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471675007438849 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:37:51.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471675007438849 [0;39m <==      Total: 1
2023-05-17 00:37:51.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471675007438848 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":423,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:37:51.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471675007438848 [0;39m ------------- 结束 耗时：1032 ms -------------
2023-05-17 00:37:51.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471675007438849 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:37:51.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471675007438849 [0;39m ------------- 结束 耗时：1032 ms -------------
2023-05-17 00:37:52.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471679986077696 [0;39m ------------- 开始 -------------
2023-05-17 00:37:52.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471679986077696 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:37:52.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471679986077696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:37:52.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471679986077696 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:37:52.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471679986077696 [0;39m 请求参数: [1]
2023-05-17 00:37:52.115 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471679986077696 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:37:52.116 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471679986077696 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:52.119 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471679986077696 [0;39m <==    Columns: id, content
2023-05-17 00:37:52.120 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471679986077696 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:37:52.120 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471679986077696 [0;39m <==      Total: 1
2023-05-17 00:37:52.122 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471679986077696 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:37:52.122 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471679986077696 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:52.125 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471679986077696 [0;39m <==    Updates: 1
2023-05-17 00:37:52.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471679986077696 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:37:52.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471679986077696 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:37:53.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471685375758336 [0;39m ------------- 开始 -------------
2023-05-17 00:37:53.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471685375758336 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:37:53.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471685375758336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:37:53.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471685375758336 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:37:53.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471685375758336 [0;39m 请求参数: [1]
2023-05-17 00:37:53.403 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471685375758336 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:37:53.404 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471685375758336 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:53.405 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471685375758336 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:37:53.406 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471685375758336 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:37:53.407 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471685375758336 [0;39m <==      Total: 1
2023-05-17 00:37:53.408 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471685375758336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:37:53.408 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471685375758336 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:53.409 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471685375758336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:37:53.409 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471685375758336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:37:53.410 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471685375758336 [0;39m <==      Total: 1
2023-05-17 00:37:53.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471685375758336 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:37:53.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471685375758336 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:37:55.483 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:37:55.483 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:37:55.483 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:37:55.606 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:37:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471694829719552 [0;39m ------------- 开始 -------------
2023-05-17 00:37:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471694829719552 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:37:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471694829719552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:37:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471694829719552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:37:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471694829719552 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":1,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:37:55.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:37:55.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:55.653 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471694829719552 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:37:55.653 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471694829719552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:37:55.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m <==      Total: 1
2023-05-17 00:38:25.422 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39471819689955328 [0;39m 生成今日电子书快照开始
2023-05-17 00:38:25.422 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.422 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471694829719552 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:25.422 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471694829719552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:25.422 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m <==      Total: 1
2023-05-17 00:38:25.422 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471694829719552 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471819689955329 [0;39m ------------- 开始 -------------
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：s6NxL6QMZ6，session id：1，当前连接数：2
2023-05-17 00:38:25.422 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471694829719552 [0;39m ==> Parameters: null
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471819689955329 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471819689955329 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471819689955329 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:25.422 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471694829719552 [0;39m <==      Total: 0
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471819689955329 [0;39m 请求参数: [1]
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471819757064192 [0;39m ------------- 开始 -------------
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471819757064192 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471819757064192 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471819757064192 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471819757064193 [0;39m ------------- 开始 -------------
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471819757064193 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471819757064192 [0;39m 请求参数: [1]
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471819757064193 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:38:25.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471819757064193 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:25.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471819757064193 [0;39m 请求参数: [1]
2023-05-17 00:38:25.441 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064192 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:38:25.441 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.441 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39471694829719552 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$2353dd06.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:38:25.442 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471819757064192 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:38:25.443 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39471694829719552 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:38:25.443 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471819757064192 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:38:25.444 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064192 [0;39m <==      Total: 1
2023-05-17 00:38:25.444 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:25.444 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471819689955328 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:38:25.444 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.445 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471819757064192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:25.446 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471819689955328 [0;39m ==> Parameters: 
2023-05-17 00:38:25.446 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471819757064192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:25.446 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064192 [0;39m <==      Total: 1
2023-05-17 00:38:25.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471819757064192 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:38:25.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471819757064192 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:38:25.448 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471819689955328 [0;39m <==    Updates: 0
2023-05-17 00:38:25.448 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39471819689955328 [0;39m 生成今日电子书快照结束，耗时：26毫秒
2023-05-17 00:38:25.448 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471819799007232 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:38:25.448 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471819799007232 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:38:25.449 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471819799007232 [0;39m ==> Parameters: 
2023-05-17 00:38:25.453 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471819799007232 [0;39m <==    Updates: 2
2023-05-17 00:38:25.454 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471819799007232 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-17 00:38:25.455 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：nDPxqMrvYZ，session id：0！当前连接数：1
2023-05-17 00:38:25.459 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471819689955329 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:38:25.459 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471819689955329 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.459 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064193 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:38:25.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:38:25.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 424, 8
2023-05-17 00:38:25.459 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064193 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:38:25.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:38:25.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:38:25.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:38:25.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:38:25.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:38:25.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:38:25.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471819757064193 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:38:25.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471819757064193 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:38:25.469 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471819689955329 [0;39m <==      Total: 8
2023-05-17 00:38:25.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064193 [0;39m <==      Total: 1
2023-05-17 00:38:25.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471819689955329 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":424,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:38:25.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471819689955329 [0;39m ------------- 结束 耗时：50 ms -------------
2023-05-17 00:38:25.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064193 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:25.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064193 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471819757064193 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:25.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471819757064193 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:25.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064193 [0;39m <==      Total: 1
2023-05-17 00:38:25.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471819757064193 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:38:25.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471819757064193 [0;39m ------------- 结束 耗时：34 ms -------------
2023-05-17 00:38:25.515 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471820080025600 [0;39m ------------- 开始 -------------
2023-05-17 00:38:25.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471820080025600 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:38:25.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471820080025600 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:38:25.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471820080025600 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:25.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471820080025600 [0;39m 请求参数: [1]
2023-05-17 00:38:25.518 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471820080025600 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:38:25.519 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471820080025600 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.520 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471820080025600 [0;39m <==    Columns: id, content
2023-05-17 00:38:25.520 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471820080025600 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:38:25.521 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471820080025600 [0;39m <==      Total: 1
2023-05-17 00:38:25.521 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471820080025600 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:38:25.522 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471820080025600 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.524 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471820080025600 [0;39m <==    Updates: 1
2023-05-17 00:38:25.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471820080025600 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:38:25.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471820080025600 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:38:27.463 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:27.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:28.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471831249457152 [0;39m ------------- 开始 -------------
2023-05-17 00:38:28.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471831249457152 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:38:28.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471831249457152 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:38:28.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471831249457152 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:28.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471831249457152 [0;39m 请求参数: []
2023-05-17 00:38:28.184 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39471831249457152 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:38:28.184 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39471831249457152 [0;39m ==> Parameters: 
2023-05-17 00:38:28.186 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39471831249457152 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:38:28.187 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39471831249457152 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:38:28.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471831291400192 [0;39m ------------- 开始 -------------
2023-05-17 00:38:28.189 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39471831249457152 [0;39m <==        Row: 2023-05-17, 625, 16, 30, 0
2023-05-17 00:38:28.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471831291400192 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:38:28.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471831291400192 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:38:28.189 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39471831249457152 [0;39m <==      Total: 2
2023-05-17 00:38:28.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471831291400192 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:28.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471831291400192 [0;39m 请求参数: []
2023-05-17 00:38:28.190 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39471831291400192 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:38:28.190 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39471831291400192 [0;39m ==> Parameters: 
2023-05-17 00:38:28.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471831249457152 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":625,"viewIncrease":30,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:38:28.192 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471831249457152 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:38:28.192 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:38:28.192 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:38:28.192 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:38:28.193 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:38:28.193 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:38:28.194 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:38:28.194 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:38:28.194 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:38:28.195 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:38:28.195 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39471831291400192 [0;39m <==      Total: 8
2023-05-17 00:38:28.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471831291400192 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:38:28.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471831291400192 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:38:28.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471831337537536 [0;39m ------------- 开始 -------------
2023-05-17 00:38:28.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471831337537536 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:38:28.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471831337537536 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:38:28.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471831337537536 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:28.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471831337537536 [0;39m 请求参数: []
2023-05-17 00:38:28.204 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39471831337537536 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:38:28.205 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39471831337537536 [0;39m ==> Parameters: 
2023-05-17 00:38:28.206 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:38:28.206 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:38:28.207 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:38:28.207 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:38:28.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:38:28.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:38:28.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:38:28.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:38:28.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:38:28.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:38:28.210 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:38:28.210 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:38:28.210 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:38:28.211 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:38:28.211 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:38:28.211 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:38:28.212 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39471831337537536 [0;39m <==      Total: 15
2023-05-17 00:38:28.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471831337537536 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:38:28.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471831337537536 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-17 00:38:29.487 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:29.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471837289254912 [0;39m ------------- 开始 -------------
2023-05-17 00:38:29.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471837289254912 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:38:29.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471837289254912 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:38:29.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471837289254912 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:29.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471837289254912 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 00:38:29.653 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39471837289254912 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:38:29.653 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39471837289254912 [0;39m ==> Parameters: 101(Long)
2023-05-17 00:38:29.653 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39471837289254912 [0;39m <==    Columns: count(0)
2023-05-17 00:38:29.653 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39471837289254912 [0;39m <==        Row: 1
2023-05-17 00:38:29.653 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39471837289254912 [0;39m <==      Total: 1
2023-05-17 00:38:29.653 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39471837289254912 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:38:29.653 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39471837289254912 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 00:38:29.653 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39471837289254912 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:38:29.653 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39471837289254912 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 166, 1
2023-05-17 00:38:29.659 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39471837289254912 [0;39m <==      Total: 1
2023-05-17 00:38:29.659 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39471837289254912 [0;39m 总行数：1
2023-05-17 00:38:29.659 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39471837289254912 [0;39m 总页数：1
2023-05-17 00:38:29.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471837289254912 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":166,"voteCount":1}],"total":1},"success":true}
2023-05-17 00:38:29.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471837289254912 [0;39m ------------- 结束 耗时：48 ms -------------
2023-05-17 00:38:30.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471840015552512 [0;39m ------------- 开始 -------------
2023-05-17 00:38:30.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471840015552512 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:38:30.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471840015552512 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:38:30.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471840015552512 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:30.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471840015552512 [0;39m 请求参数: [2]
2023-05-17 00:38:30.270 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471840015552512 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:38:30.271 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471840015552512 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:38:30.272 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471840015552512 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:38:30.272 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471840015552512 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 166, 1
2023-05-17 00:38:30.273 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471840015552512 [0;39m <==      Total: 1
2023-05-17 00:38:30.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471840015552512 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":166,"voteCount":1}],"success":true}
2023-05-17 00:38:30.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471840015552512 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:38:30.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471840061689856 [0;39m ------------- 开始 -------------
2023-05-17 00:38:30.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471840061689856 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:38:30.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471840061689856 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:38:30.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471840061689856 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:30.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471840061689856 [0;39m 请求参数: [2]
2023-05-17 00:38:30.283 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471840061689856 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:38:30.284 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471840061689856 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:38:30.285 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471840061689856 [0;39m <==      Total: 0
2023-05-17 00:38:30.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471840061689856 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:38:30.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471840061689856 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:38:30.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471840200101888 [0;39m ------------- 开始 -------------
2023-05-17 00:38:30.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471840200101888 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:38:30.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471840200101888 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:38:30.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471840200101888 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:30.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471840200101888 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:38:30.313 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471840200101888 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:38:30.314 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471840200101888 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:38:30.315 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471840200101888 [0;39m <==    Columns: id, content
2023-05-17 00:38:30.315 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471840200101888 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:38:30.316 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471840200101888 [0;39m <==      Total: 1
2023-05-17 00:38:30.316 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471840200101888 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:38:30.317 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471840200101888 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:38:30.318 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471840200101888 [0;39m <==    Updates: 1
2023-05-17 00:38:30.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471840200101888 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:38:30.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471840200101888 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:38:31.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471845686251520 [0;39m ------------- 开始 -------------
2023-05-17 00:38:31.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471845686251520 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:38:31.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471845686251520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:38:31.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471845686251520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:31.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471845686251520 [0;39m 请求参数: [2]
2023-05-17 00:38:31.621 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471845686251520 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:38:31.622 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471845686251520 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:38:31.623 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471845686251520 [0;39m <==      Total: 0
2023-05-17 00:38:31.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471845686251520 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:38:31.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471845686251520 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:38:33.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:34.135 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39471819757064193 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:38:34.135 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39471819757064193 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:38:34.135 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39471819757064193 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:38:34.139 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39471819757064193 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:38:34.146 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:34.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471856281063424 [0;39m ------------- 开始 -------------
2023-05-17 00:38:34.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471856281063424 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:38:34.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471856281063424 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:38:34.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471856281063424 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:34.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471856281063424 [0;39m 请求参数: [{"content":"天天","ebookId":2,"userId":1}]
2023-05-17 00:38:34.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856281063424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:34.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856281063424 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:34.152 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471856281063424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:34.152 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471856281063424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:34.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856281063424 [0;39m <==      Total: 1
2023-05-17 00:38:34.153 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39471856281063424 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:38:34.154 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39471856281063424 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:38:34.155 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39471856281063424 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:38:34.155 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39471856281063424 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 166, 1
2023-05-17 00:38:34.155 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39471856281063424 [0;39m <==      Total: 1
2023-05-17 00:38:34.156 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39471856281063424 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:38:34.159 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39471856281063424 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 天天(String), 2023-05-17 00:38:34.156(Timestamp), null
2023-05-17 00:38:34.168 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39471856281063424 [0;39m <==    Updates: 1
2023-05-17 00:38:34.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471856281063424 [0;39m 返回结果: {"success":true}
2023-05-17 00:38:34.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471856281063424 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-17 00:38:34.170 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39471856281063424 [0;39m ------------- LoginInterceptor 结束 耗时：35 ms -------------
2023-05-17 00:38:34.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471856419475456 [0;39m ------------- 开始 -------------
2023-05-17 00:38:34.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471856419475456 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:38:34.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471856419475456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:38:34.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471856419475456 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:34.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471856419475456 [0;39m 请求参数: [2]
2023-05-17 00:38:34.181 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471856419475456 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:38:34.181 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471856419475456 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:38:34.182 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471856419475456 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:38:34.183 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471856419475456 [0;39m <==        Row: 2, 1, 2, null, null, 天天, 2023-05-17 00:38:34, null
2023-05-17 00:38:34.183 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471856419475456 [0;39m <==      Total: 1
2023-05-17 00:38:34.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856419475456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:34.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856419475456 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:34.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471856419475456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:34.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471856419475456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:34.186 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856419475456 [0;39m <==      Total: 1
2023-05-17 00:38:34.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471856419475456 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684255114000,"ebookId":2,"id":2,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:38:34.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471856419475456 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:38:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471859892359168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:38:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471859892359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:38:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471859892359168 [0;39m ==> Parameters: 
2023-05-17 00:38:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471859892359168 [0;39m <==    Updates: 2
2023-05-17 00:38:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471859892359168 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 00:38:35.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:37.121 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39471831249457152 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:38:37.122 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39471831249457152 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:38:37.122 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39471831249457152 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:38:37.152 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39471831249457152 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:38:37.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471868893335552 [0;39m ------------- 开始 -------------
2023-05-17 00:38:37.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471868893335552 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:38:37.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471868893335552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:38:37.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471868893335552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:37.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471868893335552 [0;39m 请求参数: [{"content":"请求","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:38:37.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:37.155 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:37.156 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471868893335552 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:37.156 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471868893335552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:37.156 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m <==      Total: 1
2023-05-17 00:38:37.157 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:37.157 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:37.158 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471868893335552 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:37.158 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471868893335552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:37.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m <==      Total: 1
2023-05-17 00:38:37.159 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471868893335552 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:38:37.159 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471868893335552 [0;39m ==> Parameters: null
2023-05-17 00:38:37.160 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471868893335552 [0;39m <==      Total: 0
2023-05-17 00:38:37.160 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39471868893335552 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor118.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$2353dd06.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:38:37.163 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39471868893335552 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:38:39.610 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:53.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:57.403 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39471831291400192 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:38:57.404 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39471831291400192 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:38:57.404 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39471831291400192 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:38:57.408 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39471831291400192 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:38:57.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471953857351680 [0;39m ------------- 开始 -------------
2023-05-17 00:38:57.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471953857351680 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:38:57.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471953857351680 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:38:57.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471953857351680 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:57.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471953857351680 [0;39m 请求参数: [{"content":"额温枪二群无","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:38:57.413 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:57.414 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:57.415 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471953857351680 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:57.415 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471953857351680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:57.416 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m <==      Total: 1
2023-05-17 00:38:57.416 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:57.416 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:57.417 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471953857351680 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:57.417 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471953857351680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:57.418 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m <==      Total: 1
2023-05-17 00:38:57.418 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471953857351680 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:38:57.418 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471953857351680 [0;39m ==> Parameters: null
2023-05-17 00:38:57.419 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471953857351680 [0;39m <==      Total: 0
2023-05-17 00:38:57.420 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39471953857351680 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor118.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$2353dd06.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:38:57.421 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39471953857351680 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:39:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39471964754153472 [0;39m 生成今日电子书快照开始
2023-05-17 00:39:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471964754153472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:39:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471964754153472 [0;39m ==> Parameters: 
2023-05-17 00:39:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471964754153472 [0;39m <==    Updates: 0
2023-05-17 00:39:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39471964754153472 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-17 00:39:04.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471985750839296 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471985750839296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471985750839296 [0;39m ==> Parameters: 
2023-05-17 00:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471985750839296 [0;39m <==    Updates: 2
2023-05-17 00:39:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471985750839296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:39:05.760 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:07.805 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:15.588 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:17.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:25.055 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：s6NxL6QMZ6，session id：1！当前连接数：0
2023-05-17 00:39:25.101 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:39:25.101 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:39:25.101 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:39:25.101 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 00:39:25.101 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 00:39:25.384 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:39:25.384 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:39:29.677 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:39:29.693 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 12252 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:39:29.693 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:39:29.740 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:39:29.740 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:39:30.397 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:39:30.397 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:39:30.412 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2023-05-17 00:39:30.587 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$3299d05d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.603 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$d4d4455e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.916 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.916 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.916 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.916 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.916 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.932 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.932 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.932 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.932 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.948 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:31.763 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:31.763 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:32.143 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:39:32.159 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:39:32.159 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:39:32.159 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:39:32.238 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:39:32.238 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2498 ms
2023-05-17 00:39:32.918 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:39:33.251 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:39:33.298 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:39:33.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:37.966 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:39:37.966 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:39:37.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:37.998 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:39:38.013 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:39:38.029 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 8.735 seconds (JVM running for 9.68)
2023-05-17 00:39:38.029 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:39:38.029 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:39:42.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:55.271 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:39:55.271 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:39:55.271 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2023-05-17 00:39:55.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472196732719104 [0;39m ------------- 开始 -------------
2023-05-17 00:39:55.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472196732719104 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:39:55.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472196732719104 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:39:55.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472196732719104 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:39:55.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472196732719104 [0;39m 请求参数: [2]
2023-05-17 00:39:55.377 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39472196732719104 [0;39m HikariPool-1 - Starting...
2023-05-17 00:39:55.923 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39472196732719104 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:39:55.942 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472196732719104 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:39:56.101 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472196732719104 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:39:56.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472196732719104 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:39:56.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472196732719104 [0;39m <==        Row: 2, 1, 2, null, null, 天天, 2023-05-17 00:38:34, null
2023-05-17 00:39:56.128 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472196732719104 [0;39m <==      Total: 1
2023-05-17 00:39:56.135 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472196732719104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:56.135 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472196732719104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:56.135 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472196732719104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:56.135 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472196732719104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:56.135 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472196732719104 [0;39m <==      Total: 1
2023-05-17 00:39:56.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472196732719104 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684255114000,"ebookId":2,"id":2,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:39:56.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472196732719104 [0;39m ------------- 结束 耗时：855 ms -------------
2023-05-17 00:39:59.081 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:39:59.081 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:39:59.082 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:39:59.216 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:39:59.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472213308608512 [0;39m ------------- 开始 -------------
2023-05-17 00:39:59.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472213308608512 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:39:59.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472213308608512 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:39:59.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472213308608512 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:39:59.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472213308608512 [0;39m 请求参数: [{"content":"由于","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:39:59.270 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:59.270 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:59.271 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213308608512 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:59.271 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213308608512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:59.273 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m <==      Total: 1
2023-05-17 00:39:59.273 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:59.273 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:59.274 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213308608512 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:59.274 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213308608512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:59.274 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m <==      Total: 1
2023-05-17 00:39:59.275 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472213308608512 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:39:59.277 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472213308608512 [0;39m ==> Parameters: 1(Long), 2(Long), 2(Long), 1(Long), 由于(String), 2023-05-17 00:39:59.275(Timestamp), null
2023-05-17 00:39:59.284 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472213308608512 [0;39m <==    Updates: 1
2023-05-17 00:39:59.286 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472213308608512 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:39:59.286 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472213308608512 [0;39m ==> Parameters: 3(Long)
2023-05-17 00:39:59.287 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472213308608512 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:39:59.287 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472213308608512 [0;39m <==        Row: 3, 1, 2, 2, 1, 由于, 2023-05-17 00:39:59, null
2023-05-17 00:39:59.288 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472213308608512 [0;39m <==      Total: 1
2023-05-17 00:39:59.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472213308608512 [0;39m 返回结果: {"content":{"content":"由于","createTime":1684255199000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:39:59.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472213308608512 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:39:59.290 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472213308608512 [0;39m ------------- LoginInterceptor 结束 耗时：209 ms -------------
2023-05-17 00:39:59.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472213434437632 [0;39m ------------- 开始 -------------
2023-05-17 00:39:59.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472213434437632 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:39:59.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472213434437632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:39:59.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472213434437632 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:39:59.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472213434437632 [0;39m 请求参数: [2]
2023-05-17 00:39:59.299 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472213434437632 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:39:59.299 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472213434437632 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:39:59.301 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472213434437632 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:39:59.301 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472213434437632 [0;39m <==        Row: 2, 1, 2, null, null, 天天, 2023-05-17 00:38:34, null
2023-05-17 00:39:59.303 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472213434437632 [0;39m <==        Row: 3, 1, 2, 2, 1, 由于, 2023-05-17 00:39:59, null
2023-05-17 00:39:59.303 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472213434437632 [0;39m <==      Total: 2
2023-05-17 00:39:59.304 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:59.304 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:59.305 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:59.305 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:59.306 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m <==      Total: 1
2023-05-17 00:39:59.307 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:59.307 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:59.309 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:59.309 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:59.309 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m <==      Total: 1
2023-05-17 00:39:59.310 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:59.310 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:59.311 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:59.311 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:59.312 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m <==      Total: 1
2023-05-17 00:39:59.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472213434437632 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684255114000,"ebookId":2,"id":2,"name":"test","replies":[{"content":"由于","createTime":1684255199000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:39:59.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472213434437632 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:40:00.032 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39472216513056768 [0;39m 生成今日电子书快照开始
2023-05-17 00:40:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472216513056768 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:40:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472216513056768 [0;39m ==> Parameters: 
2023-05-17 00:40:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472216513056768 [0;39m <==    Updates: 0
2023-05-17 00:40:00.032 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39472216513056768 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:40:03.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:04.785 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:40:04.785 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:40:04.785 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:40:04.788 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:40:04.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472236461166592 [0;39m ------------- 开始 -------------
2023-05-17 00:40:04.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472236461166592 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:40:04.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472236461166592 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:40:04.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472236461166592 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:04.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472236461166592 [0;39m 请求参数: [{"content":"通天塔","ebookId":2,"parentId":3,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:40:04.790 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.791 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.792 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236461166592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.792 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236461166592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.792 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m <==      Total: 1
2023-05-17 00:40:04.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.794 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236461166592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.794 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236461166592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m <==      Total: 1
2023-05-17 00:40:04.795 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472236461166592 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:40:04.797 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472236461166592 [0;39m ==> Parameters: 1(Long), 2(Long), 3(Long), 1(Long), 通天塔(String), 2023-05-17 00:40:04.795(Timestamp), null
2023-05-17 00:40:04.804 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472236461166592 [0;39m <==    Updates: 1
2023-05-17 00:40:04.804 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472236461166592 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:40:04.804 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472236461166592 [0;39m ==> Parameters: 4(Long)
2023-05-17 00:40:04.808 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472236461166592 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:40:04.808 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472236461166592 [0;39m <==        Row: 4, 1, 2, 3, 1, 通天塔, 2023-05-17 00:40:05, null
2023-05-17 00:40:04.809 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472236461166592 [0;39m <==      Total: 1
2023-05-17 00:40:04.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472236461166592 [0;39m 返回结果: {"content":{"content":"通天塔","createTime":1684255205000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:40:04.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472236461166592 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 00:40:04.810 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472236461166592 [0;39m ------------- LoginInterceptor 结束 耗时：25 ms -------------
2023-05-17 00:40:04.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472236607967232 [0;39m ------------- 开始 -------------
2023-05-17 00:40:04.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472236607967232 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:04.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472236607967232 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:04.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472236607967232 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:04.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472236607967232 [0;39m 请求参数: [2]
2023-05-17 00:40:04.824 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472236607967232 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:04.825 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472236607967232 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:04.826 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472236607967232 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:40:04.827 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472236607967232 [0;39m <==        Row: 2, 1, 2, null, null, 天天, 2023-05-17 00:38:34, null
2023-05-17 00:40:04.827 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472236607967232 [0;39m <==        Row: 3, 1, 2, 2, 1, 由于, 2023-05-17 00:39:59, null
2023-05-17 00:40:04.828 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472236607967232 [0;39m <==        Row: 4, 1, 2, 3, 1, 通天塔, 2023-05-17 00:40:05, null
2023-05-17 00:40:04.828 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472236607967232 [0;39m <==      Total: 3
2023-05-17 00:40:04.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m <==      Total: 1
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m <==      Total: 1
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.836 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.836 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m <==      Total: 1
2023-05-17 00:40:04.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m <==      Total: 1
2023-05-17 00:40:04.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m <==      Total: 1
2023-05-17 00:40:04.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472236607967232 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684255114000,"ebookId":2,"id":2,"name":"test","replies":[{"content":"由于","createTime":1684255199000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"通天塔","createTime":1684255205000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:40:04.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472236607967232 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:40:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472237421662208 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:40:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472237421662208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:40:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472237421662208 [0;39m ==> Parameters: 
2023-05-17 00:40:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472237421662208 [0;39m <==    Updates: 2
2023-05-17 00:40:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472237421662208 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 00:40:05.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:07.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:08.302 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:40:08.302 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:40:08.303 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:40:08.304 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:40:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472251212533760 [0;39m ------------- 开始 -------------
2023-05-17 00:40:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472251212533760 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:40:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472251212533760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:40:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472251212533760 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472251212533760 [0;39m 请求参数: [{"content":"嘤嘤嘤","ebookId":2,"parentId":4,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:40:08.306 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.307 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.309 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251212533760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.309 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251212533760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.310 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m <==      Total: 1
2023-05-17 00:40:08.311 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.311 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.314 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251212533760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.315 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251212533760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.315 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m <==      Total: 1
2023-05-17 00:40:08.316 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472251212533760 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:40:08.316 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472251212533760 [0;39m ==> Parameters: 1(Long), 2(Long), 4(Long), 1(Long), 嘤嘤嘤(String), 2023-05-17 00:40:08.315(Timestamp), null
2023-05-17 00:40:08.320 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472251212533760 [0;39m <==    Updates: 1
2023-05-17 00:40:08.320 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472251212533760 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:40:08.322 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472251212533760 [0;39m ==> Parameters: 5(Long)
2023-05-17 00:40:08.322 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472251212533760 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:40:08.322 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472251212533760 [0;39m <==        Row: 5, 1, 2, 4, 1, 嘤嘤嘤, 2023-05-17 00:40:08, null
2023-05-17 00:40:08.323 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472251212533760 [0;39m <==      Total: 1
2023-05-17 00:40:08.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472251212533760 [0;39m 返回结果: {"content":{"content":"嘤嘤嘤","createTime":1684255208000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:40:08.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472251212533760 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:40:08.328 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472251212533760 [0;39m ------------- LoginInterceptor 结束 耗时：26 ms -------------
2023-05-17 00:40:08.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472251334168576 [0;39m ------------- 开始 -------------
2023-05-17 00:40:08.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472251334168576 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:08.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472251334168576 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:08.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472251334168576 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:08.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472251334168576 [0;39m 请求参数: [2]
2023-05-17 00:40:08.336 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472251334168576 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:08.337 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472251334168576 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:08.338 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472251334168576 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:40:08.338 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472251334168576 [0;39m <==        Row: 2, 1, 2, null, null, 天天, 2023-05-17 00:38:34, null
2023-05-17 00:40:08.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472251334168576 [0;39m <==        Row: 3, 1, 2, 2, 1, 由于, 2023-05-17 00:39:59, null
2023-05-17 00:40:08.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472251334168576 [0;39m <==        Row: 4, 1, 2, 3, 1, 通天塔, 2023-05-17 00:40:05, null
2023-05-17 00:40:08.340 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472251334168576 [0;39m <==        Row: 5, 1, 2, 4, 1, 嘤嘤嘤, 2023-05-17 00:40:08, null
2023-05-17 00:40:08.341 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472251334168576 [0;39m <==      Total: 4
2023-05-17 00:40:08.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.343 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.344 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.344 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.345 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.346 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.346 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.347 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.347 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.350 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.350 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.351 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.351 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.352 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.352 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.353 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.353 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.353 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.355 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.355 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.355 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.355 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.356 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.356 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.356 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.357 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.357 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.357 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.358 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.359 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.359 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.359 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472251334168576 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684255114000,"ebookId":2,"id":2,"name":"test","replies":[{"content":"由于","createTime":1684255199000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"通天塔","createTime":1684255205000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嘤嘤嘤","createTime":1684255208000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:40:08.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472251334168576 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-17 00:40:09.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:33.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:33.817 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472363229810688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:40:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472363229810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:40:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472363229810688 [0;39m ==> Parameters: 
2023-05-17 00:40:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472363229810688 [0;39m <==    Updates: 2
2023-05-17 00:40:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472363229810688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:40:39.750 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:41.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472388936699904 [0;39m ------------- 开始 -------------
2023-05-17 00:40:41.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472388936699904 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:41.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472388936699904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:41.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472388936699904 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:41.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472388936699904 [0;39m 请求参数: [2]
2023-05-17 00:40:41.143 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472388936699904 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:41.143 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472388936699904 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:41.144 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472388936699904 [0;39m <==      Total: 0
2023-05-17 00:40:41.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472388936699904 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:40:41.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472388936699904 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:40:45.577 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：haoCM8JvYt，session id：0，当前连接数：1
2023-05-17 00:40:45.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472407878176768 [0;39m ------------- 开始 -------------
2023-05-17 00:40:45.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472407878176768 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:40:45.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472407878176768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:40:45.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472407878176768 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:45.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472407878176768 [0;39m 请求参数: [2]
2023-05-17 00:40:45.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472407890759680 [0;39m ------------- 开始 -------------
2023-05-17 00:40:45.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472407890759680 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:45.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472407890759680 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:45.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472407890759680 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:45.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472407890759680 [0;39m 请求参数: [2]
2023-05-17 00:40:45.662 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472407890759680 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:45.663 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472407890759680 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:45.664 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472407890759680 [0;39m <==      Total: 0
2023-05-17 00:40:45.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472407890759680 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:40:45.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472407890759680 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:40:45.704 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472407878176768 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:40:45.705 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472407878176768 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:45.706 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472407878176768 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:40:45.706 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472407878176768 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 167, 1
2023-05-17 00:40:45.707 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472407878176768 [0;39m <==      Total: 1
2023-05-17 00:40:45.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472407878176768 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":167,"voteCount":1}],"success":true}
2023-05-17 00:40:45.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472407878176768 [0;39m ------------- 结束 耗时：61 ms -------------
2023-05-17 00:40:45.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472408331161600 [0;39m ------------- 开始 -------------
2023-05-17 00:40:45.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472408331161600 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:40:45.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472408331161600 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:40:45.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472408331161600 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:45.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472408331161600 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:40:45.766 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472408331161600 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:40:45.766 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472408331161600 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:40:45.769 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472408331161600 [0;39m <==    Columns: id, content
2023-05-17 00:40:45.769 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472408331161600 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:40:45.770 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472408331161600 [0;39m <==      Total: 1
2023-05-17 00:40:45.771 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472408331161600 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:40:45.772 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472408331161600 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:40:45.784 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472408331161600 [0;39m <==    Updates: 1
2023-05-17 00:40:45.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472408331161600 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:40:45.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472408331161600 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 00:40:47.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472417613156352 [0;39m ------------- 开始 -------------
2023-05-17 00:40:47.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472417613156352 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:47.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472417613156352 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:47.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472417613156352 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:47.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472417613156352 [0;39m 请求参数: [2]
2023-05-17 00:40:47.980 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472417613156352 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:47.981 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472417613156352 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:47.981 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472417613156352 [0;39m <==      Total: 0
2023-05-17 00:40:47.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472417613156352 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:40:47.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472417613156352 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:40:57.439 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39472236461166592 [0;39m 连接关闭，token：haoCM8JvYt，session id：0！当前连接数：0
2023-05-17 00:40:57.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:58.678 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39472236607967232 [0;39m 有新连接：token：c7OJwrL2Po，session id：1，当前连接数：1
2023-05-17 00:40:58.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472462940999680 [0;39m ------------- 开始 -------------
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472462940999680 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472462940999680 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472462945193984 [0;39m ------------- 开始 -------------
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472462940999680 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472462945193984 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472462940999680 [0;39m 请求参数: [2]
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472462945193984 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:58.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472462945193984 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:58.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472462945193984 [0;39m 请求参数: [2]
2023-05-17 00:40:58.789 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472462945193984 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:58.789 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472462940999680 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:40:58.789 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472462945193984 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:58.789 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472462940999680 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:58.790 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472462945193984 [0;39m <==      Total: 0
2023-05-17 00:40:58.790 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472462940999680 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:40:58.790 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472462940999680 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 168, 1
2023-05-17 00:40:58.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472462945193984 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:40:58.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472462945193984 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:40:58.791 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472462940999680 [0;39m <==      Total: 1
2023-05-17 00:40:58.792 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472462940999680 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":168,"voteCount":1}],"success":true}
2023-05-17 00:40:58.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472462940999680 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:40:58.852 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472463222018048 [0;39m ------------- 开始 -------------
2023-05-17 00:40:58.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472463222018048 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:40:58.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472463222018048 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:40:58.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472463222018048 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:58.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472463222018048 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:40:58.854 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472463222018048 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:40:58.855 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472463222018048 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:40:58.856 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472463222018048 [0;39m <==    Columns: id, content
2023-05-17 00:40:58.856 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472463222018048 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:40:58.857 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472463222018048 [0;39m <==      Total: 1
2023-05-17 00:40:58.857 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472463222018048 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:40:58.858 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472463222018048 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:40:58.861 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472463222018048 [0;39m <==    Updates: 1
2023-05-17 00:40:58.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472463222018048 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:40:58.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472463222018048 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:40:59.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472466975920128 [0;39m ------------- 开始 -------------
2023-05-17 00:40:59.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472466975920128 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:59.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472466975920128 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:59.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472466975920128 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:59.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472466975920128 [0;39m 请求参数: [2]
2023-05-17 00:40:59.749 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472466975920128 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:59.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472466975920128 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:59.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472466975920128 [0;39m <==      Total: 0
2023-05-17 00:40:59.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472466975920128 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:40:59.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472466975920128 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:41:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39472468095799296 [0;39m 生成今日电子书快照开始
2023-05-17 00:41:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472468095799296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:41:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472468095799296 [0;39m ==> Parameters: 
2023-05-17 00:41:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472468095799296 [0;39m <==    Updates: 0
2023-05-17 00:41:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39472468095799296 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:41:01.417 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39472407890759680 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:41:01.418 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39472407890759680 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:41:01.418 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39472407890759680 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:41:01.423 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39472407890759680 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:41:01.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472474034933760 [0;39m ------------- 开始 -------------
2023-05-17 00:41:01.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472474034933760 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:41:01.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472474034933760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:41:01.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472474034933760 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:01.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472474034933760 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"userId":1}]
2023-05-17 00:41:01.432 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474034933760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:01.438 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474034933760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:01.439 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472474034933760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:01.439 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472474034933760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:01.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474034933760 [0;39m <==      Total: 1
2023-05-17 00:41:01.440 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39472474034933760 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:41:01.440 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39472474034933760 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:01.441 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39472474034933760 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:41:01.442 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39472474034933760 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 167, 1
2023-05-17 00:41:01.442 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39472474034933760 [0;39m <==      Total: 1
2023-05-17 00:41:01.443 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39472474034933760 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:41:01.443 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39472474034933760 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 额外企鹅(String), 2023-05-17 00:41:01.442(Timestamp), null
2023-05-17 00:41:01.451 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39472474034933760 [0;39m <==    Updates: 1
2023-05-17 00:41:01.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472474034933760 [0;39m 返回结果: {"success":true}
2023-05-17 00:41:01.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472474034933760 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-17 00:41:01.454 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472474034933760 [0;39m ------------- LoginInterceptor 结束 耗时：36 ms -------------
2023-05-17 00:41:01.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472474173345792 [0;39m ------------- 开始 -------------
2023-05-17 00:41:01.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472474173345792 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:41:01.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472474173345792 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:41:01.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472474173345792 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:01.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472474173345792 [0;39m 请求参数: [2]
2023-05-17 00:41:01.466 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472474173345792 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:41:01.467 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472474173345792 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:01.468 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472474173345792 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:01.468 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472474173345792 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:41:01.469 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472474173345792 [0;39m <==      Total: 1
2023-05-17 00:41:01.469 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474173345792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:01.470 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474173345792 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:01.470 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472474173345792 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:01.470 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472474173345792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:01.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474173345792 [0;39m <==      Total: 1
2023-05-17 00:41:01.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472474173345792 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:41:01.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472474173345792 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:41:03.519 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:03.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472489071513600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:41:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472489071513600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:41:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472489071513600 [0;39m ==> Parameters: 
2023-05-17 00:41:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472489071513600 [0;39m <==    Updates: 2
2023-05-17 00:41:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472489071513600 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:41:07.557 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:07.567 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39472408331161600 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:41:07.568 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39472408331161600 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:41:07.568 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39472408331161600 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:41:07.569 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39472408331161600 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:41:07.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472499787960320 [0;39m ------------- 开始 -------------
2023-05-17 00:41:07.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472499787960320 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:41:07.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472499787960320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:41:07.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472499787960320 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:07.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472499787960320 [0;39m 请求参数: [{"content":"二位","ebookId":2,"parentId":6,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:41:07.571 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:07.571 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:07.572 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499787960320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:07.572 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499787960320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:07.573 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m <==      Total: 1
2023-05-17 00:41:07.573 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:07.573 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:07.574 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499787960320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:07.574 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499787960320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:07.574 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m <==      Total: 1
2023-05-17 00:41:07.575 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472499787960320 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:41:07.575 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472499787960320 [0;39m ==> Parameters: 1(Long), 2(Long), 6(Long), 1(Long), 二位(String), 2023-05-17 00:41:07.575(Timestamp), null
2023-05-17 00:41:07.584 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472499787960320 [0;39m <==    Updates: 1
2023-05-17 00:41:07.586 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472499787960320 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:41:07.586 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472499787960320 [0;39m ==> Parameters: 7(Long)
2023-05-17 00:41:07.587 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472499787960320 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:07.588 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472499787960320 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:41:07.588 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472499787960320 [0;39m <==      Total: 1
2023-05-17 00:41:07.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472499787960320 [0;39m 返回结果: {"content":{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:41:07.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472499787960320 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-17 00:41:07.590 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472499787960320 [0;39m ------------- LoginInterceptor 结束 耗时：22 ms -------------
2023-05-17 00:41:07.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472499897012224 [0;39m ------------- 开始 -------------
2023-05-17 00:41:07.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472499897012224 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:41:07.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472499897012224 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:41:07.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472499897012224 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:07.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472499897012224 [0;39m 请求参数: [2]
2023-05-17 00:41:07.597 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472499897012224 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:41:07.597 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472499897012224 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:07.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472499897012224 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:07.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472499897012224 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:41:07.599 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472499897012224 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:41:07.599 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472499897012224 [0;39m <==      Total: 2
2023-05-17 00:41:07.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:07.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:07.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:07.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:07.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m <==      Total: 1
2023-05-17 00:41:07.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:07.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:07.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:07.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:07.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m <==      Total: 1
2023-05-17 00:41:07.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:07.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:07.604 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:07.604 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:07.605 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m <==      Total: 1
2023-05-17 00:41:07.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472499897012224 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:41:07.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472499897012224 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:41:16.178 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39472236461166592 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:41:16.178 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39472236461166592 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:41:16.178 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39472236461166592 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:41:16.180 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39472236461166592 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:41:16.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472535909306368 [0;39m ------------- 开始 -------------
2023-05-17 00:41:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472535909306368 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:41:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472535909306368 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:41:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472535909306368 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:16.184 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472535909306368 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"parentId":7,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:41:16.185 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.185 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.187 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472535909306368 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.187 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472535909306368 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.188 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m <==      Total: 1
2023-05-17 00:41:16.189 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.189 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.190 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472535909306368 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.190 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472535909306368 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.191 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m <==      Total: 1
2023-05-17 00:41:16.191 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472535909306368 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:41:16.192 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472535909306368 [0;39m ==> Parameters: 1(Long), 2(Long), 7(Long), 1(Long), 额外企鹅(String), 2023-05-17 00:41:16.191(Timestamp), null
2023-05-17 00:41:16.228 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472535909306368 [0;39m <==    Updates: 1
2023-05-17 00:41:16.230 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472535909306368 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:41:16.230 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472535909306368 [0;39m ==> Parameters: 8(Long)
2023-05-17 00:41:16.231 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472535909306368 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:16.231 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472535909306368 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:41:16.232 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472535909306368 [0;39m <==      Total: 1
2023-05-17 00:41:16.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472535909306368 [0;39m 返回结果: {"content":{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:41:16.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472535909306368 [0;39m ------------- 结束 耗时：50 ms -------------
2023-05-17 00:41:16.233 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472535909306368 [0;39m ------------- LoginInterceptor 结束 耗时：55 ms -------------
2023-05-17 00:41:16.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472536169353216 [0;39m ------------- 开始 -------------
2023-05-17 00:41:16.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472536169353216 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:41:16.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472536169353216 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:41:16.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472536169353216 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:16.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472536169353216 [0;39m 请求参数: [2]
2023-05-17 00:41:16.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472536169353216 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:41:16.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472536169353216 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:16.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472536169353216 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:16.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472536169353216 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:41:16.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472536169353216 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:41:16.250 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472536169353216 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:41:16.250 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472536169353216 [0;39m <==      Total: 3
2023-05-17 00:41:16.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.252 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.252 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m <==      Total: 1
2023-05-17 00:41:16.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.253 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.253 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m <==      Total: 1
2023-05-17 00:41:16.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.254 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.256 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.256 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m <==      Total: 1
2023-05-17 00:41:16.257 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.257 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.258 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.258 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m <==      Total: 1
2023-05-17 00:41:16.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m <==      Total: 1
2023-05-17 00:41:16.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472536169353216 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:41:16.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472536169353216 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:41:19.760 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:21.777 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:33.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:33.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472614892244992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472614892244992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472614892244992 [0;39m ==> Parameters: 
2023-05-17 00:41:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472614892244992 [0;39m <==    Updates: 2
2023-05-17 00:41:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472614892244992 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:41:35.530 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:35.842 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39472462945193984 [0;39m 连接关闭，token：c7OJwrL2Po，session id：1！当前连接数：0
2023-05-17 00:41:37.053 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39472462940999680 [0;39m 有新连接：token：OM8x4bPBaB，session id：2，当前连接数：1
2023-05-17 00:41:37.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472623939358720 [0;39m ------------- 开始 -------------
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472623939358720 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472623943553024 [0;39m ------------- 开始 -------------
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472623939358720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472623943553024 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472623939358720 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472623943553024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472623943553024 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472623939358720 [0;39m 请求参数: [2]
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472623943553024 [0;39m 请求参数: [2]
2023-05-17 00:41:37.173 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472623943553024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:41:37.174 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472623939358720 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:41:37.174 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472623943553024 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:37.174 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472623939358720 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:37.175 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472623939358720 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:41:37.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472623943553024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:37.175 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472623939358720 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 169, 1
2023-05-17 00:41:37.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472623943553024 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:41:37.175 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472623939358720 [0;39m <==      Total: 1
2023-05-17 00:41:37.176 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472623943553024 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:41:37.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472623939358720 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":169,"voteCount":1}],"success":true}
2023-05-17 00:41:37.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472623939358720 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:41:37.176 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472623943553024 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:41:37.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472623943553024 [0;39m <==      Total: 3
2023-05-17 00:41:37.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:37.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:37.178 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:37.178 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:37.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m <==      Total: 1
2023-05-17 00:41:37.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:37.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:37.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:37.181 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:37.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m <==      Total: 1
2023-05-17 00:41:37.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:37.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:37.183 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:37.183 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:37.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m <==      Total: 1
2023-05-17 00:41:37.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:37.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:37.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:37.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:37.186 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m <==      Total: 1
2023-05-17 00:41:37.186 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:37.187 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:37.187 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:37.188 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:37.188 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m <==      Total: 1
2023-05-17 00:41:37.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472623943553024 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:41:37.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472623943553024 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:41:37.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472624287485952 [0;39m ------------- 开始 -------------
2023-05-17 00:41:37.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472624287485952 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:41:37.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472624287485952 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:41:37.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472624287485952 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:37.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472624287485952 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:41:37.254 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472624287485952 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:41:37.255 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472624287485952 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:41:37.255 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472624287485952 [0;39m <==    Columns: id, content
2023-05-17 00:41:37.256 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472624287485952 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:41:37.256 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472624287485952 [0;39m <==      Total: 1
2023-05-17 00:41:37.257 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472624287485952 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:41:37.257 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472624287485952 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:41:37.264 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472624287485952 [0;39m <==    Updates: 1
2023-05-17 00:41:37.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472624287485952 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:41:37.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472624287485952 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:41:37.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:39.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472633217159168 [0;39m ------------- 开始 -------------
2023-05-17 00:41:39.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472633217159168 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:41:39.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472633217159168 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:41:39.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472633217159168 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:39.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472633217159168 [0;39m 请求参数: [2]
2023-05-17 00:41:39.384 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472633217159168 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:41:39.384 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472633217159168 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:39.385 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472633217159168 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:39.385 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472633217159168 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:41:39.386 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472633217159168 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:41:39.386 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472633217159168 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:41:39.386 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472633217159168 [0;39m <==      Total: 3
2023-05-17 00:41:39.386 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:39.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:39.388 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:39.388 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:39.388 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m <==      Total: 1
2023-05-17 00:41:39.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:39.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:39.390 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:39.390 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:39.390 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m <==      Total: 1
2023-05-17 00:41:39.390 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:39.391 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:39.391 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:39.391 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:39.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m <==      Total: 1
2023-05-17 00:41:39.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:39.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:39.393 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:39.393 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:39.393 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m <==      Total: 1
2023-05-17 00:41:39.394 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:39.394 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:39.395 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:39.395 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:39.395 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m <==      Total: 1
2023-05-17 00:41:39.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472633217159168 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:41:39.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472633217159168 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:41:45.855 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39472719703707648 [0;39m 生成今日电子书快照开始
2023-05-17 00:42:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472719703707648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:42:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472719703707648 [0;39m ==> Parameters: 
2023-05-17 00:42:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472719703707648 [0;39m <==    Updates: 0
2023-05-17 00:42:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39472719703707648 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:42:03.495 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:03.829 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472740712976384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:42:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472740712976384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:42:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472740712976384 [0;39m ==> Parameters: 
2023-05-17 00:42:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472740712976384 [0;39m <==    Updates: 2
2023-05-17 00:42:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472740712976384 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:42:05.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:07.564 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:09.594 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:11.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:33.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472866542096384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472866542096384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472866542096384 [0;39m ==> Parameters: 
2023-05-17 00:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472866542096384 [0;39m <==    Updates: 2
2023-05-17 00:42:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472866542096384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:42:37.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:39.584 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39472971403890688 [0;39m 生成今日电子书快照开始
2023-05-17 00:43:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472971403890688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:43:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472971403890688 [0;39m ==> Parameters: 
2023-05-17 00:43:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472971403890688 [0;39m <==    Updates: 0
2023-05-17 00:43:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39472971403890688 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-17 00:43:01.624 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:03.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:03.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472992350244864 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:43:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472992350244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:43:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472992350244864 [0;39m ==> Parameters: 
2023-05-17 00:43:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472992350244864 [0;39m <==    Updates: 2
2023-05-17 00:43:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472992350244864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:43:05.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:09.783 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:25.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:27.764 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:33.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473118191947776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473118191947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473118191947776 [0;39m ==> Parameters: 
2023-05-17 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473118191947776 [0;39m <==    Updates: 2
2023-05-17 00:43:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473118191947776 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:43:35.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:37.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:51.853 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39473223024381952 [0;39m 生成今日电子书快照开始
2023-05-17 00:44:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473223024381952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:44:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473223024381952 [0;39m ==> Parameters: 
2023-05-17 00:44:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473223024381952 [0;39m <==    Updates: 0
2023-05-17 00:44:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39473223024381952 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-17 00:44:03.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:03.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473244012679168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:44:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473244012679168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:44:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473244012679168 [0;39m ==> Parameters: 
2023-05-17 00:44:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473244012679168 [0;39m <==    Updates: 2
2023-05-17 00:44:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473244012679168 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 00:44:05.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:07.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:15.939 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:33.486 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:33.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473369866964992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:44:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473369866964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:44:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473369866964992 [0;39m ==> Parameters: 
2023-05-17 00:44:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473369866964992 [0;39m <==    Updates: 2
2023-05-17 00:44:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473369866964992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:44:37.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:41.592 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:58.630 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39472535909306368 [0;39m 连接关闭，token：OM8x4bPBaB，session id：2！当前连接数：0
2023-05-17 00:45:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39473474711982080 [0;39m 生成今日电子书快照开始
2023-05-17 00:45:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473474711982080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:45:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473474711982080 [0;39m ==> Parameters: 
2023-05-17 00:45:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473474711982080 [0;39m <==    Updates: 0
2023-05-17 00:45:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39473474711982080 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:45:00.548 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39472536169353216 [0;39m 有新连接：token：xMd5dgkJjL，session id：3，当前连接数：1
2023-05-17 00:45:00.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39473477509582848 [0;39m ------------- 开始 -------------
2023-05-17 00:45:00.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39473477509582848 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:45:00.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39473477509582848 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:45:00.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39473477509582848 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:45:00.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39473477509582848 [0;39m 请求参数: [2]
2023-05-17 00:45:00.680 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39473477509582848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:45:00.680 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39473477509582848 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:45:00.681 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39473477509582848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:45:00.682 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39473477509582848 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 170, 1
2023-05-17 00:45:00.682 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39473477509582848 [0;39m <==      Total: 1
2023-05-17 00:45:00.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39473477509582848 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":170,"voteCount":1}],"success":true}
2023-05-17 00:45:00.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39473477509582848 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:45:00.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39473477568303104 [0;39m ------------- 开始 -------------
2023-05-17 00:45:00.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39473477568303104 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:45:00.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39473477568303104 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:45:00.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39473477568303104 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:45:00.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39473477568303104 [0;39m 请求参数: [2]
2023-05-17 00:45:00.694 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473477568303104 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:45:00.694 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473477568303104 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:45:00.696 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473477568303104 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:45:00.696 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473477568303104 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:45:00.697 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473477568303104 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:45:00.698 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473477568303104 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:45:00.698 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473477568303104 [0;39m <==      Total: 3
2023-05-17 00:45:00.699 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:00.699 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:00.700 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:00.700 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:00.701 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m <==      Total: 1
2023-05-17 00:45:00.702 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:00.702 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:00.703 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:00.703 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:00.704 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m <==      Total: 1
2023-05-17 00:45:00.704 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:00.705 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:00.705 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:00.706 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:00.706 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m <==      Total: 1
2023-05-17 00:45:00.707 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:00.707 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:00.708 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:00.708 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:00.709 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m <==      Total: 1
2023-05-17 00:45:00.709 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:00.710 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:00.710 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:00.711 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:00.711 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m <==      Total: 1
2023-05-17 00:45:00.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39473477568303104 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:45:00.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39473477568303104 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 00:45:00.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39473478365220864 [0;39m ------------- 开始 -------------
2023-05-17 00:45:00.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39473478365220864 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:45:00.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39473478365220864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:45:00.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39473478365220864 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:45:00.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39473478365220864 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:45:00.883 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39473478365220864 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:45:00.883 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39473478365220864 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:45:00.884 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39473478365220864 [0;39m <==    Columns: id, content
2023-05-17 00:45:00.884 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39473478365220864 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:45:00.885 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39473478365220864 [0;39m <==      Total: 1
2023-05-17 00:45:00.885 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39473478365220864 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:45:00.885 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39473478365220864 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:45:00.897 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39473478365220864 [0;39m <==    Updates: 1
2023-05-17 00:45:00.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39473478365220864 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:45:00.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39473478365220864 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-17 00:45:03.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:03.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473495708667904 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:45:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473495708667904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:45:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473495708667904 [0;39m ==> Parameters: 
2023-05-17 00:45:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473495708667904 [0;39m <==    Updates: 2
2023-05-17 00:45:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473495708667904 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:45:05.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:07.521 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:09.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:13.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39473531473498112 [0;39m ------------- 开始 -------------
2023-05-17 00:45:13.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39473531473498112 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:45:13.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39473531473498112 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:45:13.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39473531473498112 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:45:13.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39473531473498112 [0;39m 请求参数: [2]
2023-05-17 00:45:13.545 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473531473498112 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:45:13.545 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473531473498112 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:45:13.547 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473531473498112 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:45:13.547 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473531473498112 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:45:13.548 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473531473498112 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:45:13.548 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473531473498112 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:45:13.548 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473531473498112 [0;39m <==      Total: 3
2023-05-17 00:45:13.548 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:13.549 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:13.550 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:13.550 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:13.550 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m <==      Total: 1
2023-05-17 00:45:13.551 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:13.551 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:13.552 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:13.552 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:13.552 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m <==      Total: 1
2023-05-17 00:45:13.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:13.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:13.554 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:13.554 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:13.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m <==      Total: 1
2023-05-17 00:45:13.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:13.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:13.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:13.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:13.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m <==      Total: 1
2023-05-17 00:45:13.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:13.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:13.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:13.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:13.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m <==      Total: 1
2023-05-17 00:45:13.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39473531473498112 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:45:13.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39473531473498112 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:45:33.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:33.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473621483261952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:45:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473621483261952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:45:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473621483261952 [0;39m ==> Parameters: 
2023-05-17 00:45:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473621483261952 [0;39m <==    Updates: 2
2023-05-17 00:45:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473621483261952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:45:35.648 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:39.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:57.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39473726399582208 [0;39m 生成今日电子书快照开始
2023-05-17 00:46:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473726399582208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:46:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473726399582208 [0;39m ==> Parameters: 
2023-05-17 00:46:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473726399582208 [0;39m <==    Updates: 0
2023-05-17 00:46:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39473726399582208 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-17 00:46:03.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:03.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473747337547776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:46:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473747337547776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:46:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473747337547776 [0;39m ==> Parameters: 
2023-05-17 00:46:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473747337547776 [0;39m <==    Updates: 2
2023-05-17 00:46:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473747337547776 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 00:46:07.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:19.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:21.747 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:33.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:35.025 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473873233776640 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:46:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473873233776640 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:46:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473873233776640 [0;39m ==> Parameters: 
2023-05-17 00:46:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473873233776640 [0;39m <==    Updates: 2
2023-05-17 00:46:35.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473873233776640 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:46:35.531 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:37.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:43.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:45.786 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39473977999101952 [0;39m 生成今日电子书快照开始
2023-05-17 00:47:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473977999101952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:47:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473977999101952 [0;39m ==> Parameters: 
2023-05-17 00:47:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473977999101952 [0;39m <==    Updates: 0
2023-05-17 00:47:00.035 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39473977999101952 [0;39m 生成今日电子书快照结束，耗时：16毫秒
2023-05-17 00:47:03.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:03.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473998983204864 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:47:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473998983204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:47:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473998983204864 [0;39m ==> Parameters: 
2023-05-17 00:47:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473998983204864 [0;39m <==    Updates: 2
2023-05-17 00:47:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473998983204864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:47:07.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:09.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:11.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:33.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:33.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474124850073600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:47:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474124850073600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:47:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474124850073600 [0;39m ==> Parameters: 
2023-05-17 00:47:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474124850073600 [0;39m <==    Updates: 2
2023-05-17 00:47:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474124850073600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:47:37.553 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:39.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:41.252 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39472499787960320 [0;39m 连接关闭，token：xMd5dgkJjL，session id：3！当前连接数：0
2023-05-17 00:47:42.748 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39472499897012224 [0;39m 有新连接：token：BvzC8YtWFU，session id：4，当前连接数：1
2023-05-17 00:47:42.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474157876023296 [0;39m ------------- 开始 -------------
2023-05-17 00:47:42.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474157876023296 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:47:42.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474157876023296 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:47:42.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474157876023296 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:42.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474157876023296 [0;39m 请求参数: [2]
2023-05-17 00:47:42.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474157884411904 [0;39m ------------- 开始 -------------
2023-05-17 00:47:42.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474157884411904 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:47:42.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474157884411904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:47:42.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474157884411904 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:42.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474157884411904 [0;39m 请求参数: [2]
2023-05-17 00:47:42.891 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474157876023296 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:47:42.892 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474157876023296 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:42.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474157884411904 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:47:42.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474157884411904 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:42.892 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474157876023296 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:47:42.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474157884411904 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:47:42.893 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474157876023296 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 171, 1
2023-05-17 00:47:42.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474157884411904 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:47:42.893 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474157876023296 [0;39m <==      Total: 1
2023-05-17 00:47:42.894 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474157884411904 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:47:42.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474157876023296 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":171,"voteCount":1}],"success":true}
2023-05-17 00:47:42.894 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474157884411904 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:47:42.894 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474157884411904 [0;39m <==      Total: 3
2023-05-17 00:47:42.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474157876023296 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:47:42.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:42.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:42.896 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:42.896 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:42.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m <==      Total: 1
2023-05-17 00:47:42.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:42.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:42.898 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:42.898 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:42.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m <==      Total: 1
2023-05-17 00:47:42.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:42.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:42.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:42.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:42.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m <==      Total: 1
2023-05-17 00:47:42.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:42.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:42.901 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:42.901 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:42.901 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m <==      Total: 1
2023-05-17 00:47:42.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:42.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:42.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:42.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:42.904 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m <==      Total: 1
2023-05-17 00:47:42.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474157884411904 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:47:42.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474157884411904 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:47:42.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474158127681536 [0;39m ------------- 开始 -------------
2023-05-17 00:47:42.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474158127681536 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:47:42.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474158127681536 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:47:42.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474158127681536 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:42.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474158127681536 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:47:42.952 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474158127681536 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:47:42.953 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474158127681536 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:47:42.954 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474158127681536 [0;39m <==    Columns: id, content
2023-05-17 00:47:42.954 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474158127681536 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:47:42.954 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474158127681536 [0;39m <==      Total: 1
2023-05-17 00:47:42.955 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474158127681536 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:47:42.955 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474158127681536 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:47:42.964 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474158127681536 [0;39m <==    Updates: 1
2023-05-17 00:47:42.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474158127681536 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:47:42.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474158127681536 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:47:43.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474162066132992 [0;39m ------------- 开始 -------------
2023-05-17 00:47:43.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474162066132992 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:47:43.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474162066132992 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:47:43.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474162066132992 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:43.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474162066132992 [0;39m 请求参数: [2]
2023-05-17 00:47:43.889 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474162066132992 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:47:43.890 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474162066132992 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:43.890 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474162066132992 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:47:43.891 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474162066132992 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:47:43.891 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474162066132992 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:47:43.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474162066132992 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:47:43.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474162066132992 [0;39m <==      Total: 3
2023-05-17 00:47:43.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:43.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:43.894 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:43.894 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:43.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m <==      Total: 1
2023-05-17 00:47:43.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:43.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:43.895 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:43.896 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:43.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m <==      Total: 1
2023-05-17 00:47:43.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:43.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:43.897 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:43.897 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:43.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m <==      Total: 1
2023-05-17 00:47:43.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:43.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:43.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:43.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:43.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m <==      Total: 1
2023-05-17 00:47:43.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:43.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:43.901 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:43.901 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:43.901 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m <==      Total: 1
2023-05-17 00:47:43.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474162066132992 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:47:43.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474162066132992 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:47:58.058 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39473478365220864 [0;39m 连接关闭，token：BvzC8YtWFU，session id：4！当前连接数：0
2023-05-17 00:47:58.781 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39473531473498112 [0;39m 有新连接：token：6KD9pHstWr，session id：5，当前连接数：1
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474224729034753 [0;39m ------------- 开始 -------------
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474224729034752 [0;39m ------------- 开始 -------------
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474224729034753 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474224729034752 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474224729034753 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474224729034752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474224729034753 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:58.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474224729034752 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:58.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474224729034753 [0;39m 请求参数: [2]
2023-05-17 00:47:58.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474224729034752 [0;39m 请求参数: [2]
2023-05-17 00:47:58.831 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474224729034753 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:47:58.831 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474224729034752 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:47:58.831 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474224729034753 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:58.831 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474224729034752 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:58.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474224729034753 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:47:58.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474224729034752 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:47:58.832 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474224729034753 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 172, 1
2023-05-17 00:47:58.832 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474224729034752 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:47:58.832 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474224729034753 [0;39m <==      Total: 1
2023-05-17 00:47:58.832 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474224729034752 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:47:58.833 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474224729034752 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:47:58.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474224729034753 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":172,"voteCount":1}],"success":true}
2023-05-17 00:47:58.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474224729034753 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:47:58.833 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474224729034752 [0;39m <==      Total: 3
2023-05-17 00:47:58.833 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:58.834 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:58.834 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:58.834 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:58.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m <==      Total: 1
2023-05-17 00:47:58.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:58.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:58.836 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:58.837 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:58.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m <==      Total: 1
2023-05-17 00:47:58.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:58.838 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:58.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:58.839 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:58.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m <==      Total: 1
2023-05-17 00:47:58.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:58.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:58.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:58.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:58.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m <==      Total: 1
2023-05-17 00:47:58.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:58.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:58.842 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:58.842 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:58.842 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m <==      Total: 1
2023-05-17 00:47:58.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474224729034752 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:47:58.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474224729034752 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:47:58.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474224905195520 [0;39m ------------- 开始 -------------
2023-05-17 00:47:58.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474224905195520 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:47:58.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474224905195520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:47:58.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474224905195520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:58.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474224905195520 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:47:58.872 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474224905195520 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:47:58.872 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474224905195520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:47:58.874 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474224905195520 [0;39m <==    Columns: id, content
2023-05-17 00:47:58.875 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474224905195520 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:47:58.875 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474224905195520 [0;39m <==      Total: 1
2023-05-17 00:47:58.876 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474224905195520 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:47:58.876 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474224905195520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:47:58.879 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474224905195520 [0;39m <==    Updates: 1
2023-05-17 00:47:58.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474224905195520 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:47:58.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474224905195520 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:47:59.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474228076089344 [0;39m ------------- 开始 -------------
2023-05-17 00:47:59.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474228076089344 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:47:59.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474228076089344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:47:59.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474228076089344 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:59.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474228076089344 [0;39m 请求参数: [2]
2023-05-17 00:47:59.627 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474228076089344 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:47:59.627 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474228076089344 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:59.628 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474228076089344 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:47:59.628 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474228076089344 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:47:59.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474228076089344 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:47:59.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474228076089344 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:47:59.629 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474228076089344 [0;39m <==      Total: 3
2023-05-17 00:47:59.629 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:59.629 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:59.631 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:59.631 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:59.632 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m <==      Total: 1
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m <==      Total: 1
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m <==      Total: 1
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m <==      Total: 1
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m <==      Total: 1
2023-05-17 00:47:59.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474228076089344 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:47:59.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474228076089344 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:48:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39474229699284992 [0;39m 生成今日电子书快照开始
2023-05-17 00:48:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474229699284992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:48:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474229699284992 [0;39m ==> Parameters: 
2023-05-17 00:48:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474229699284992 [0;39m <==    Updates: 0
2023-05-17 00:48:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39474229699284992 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:48:01.711 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:03.754 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:03.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474250679193600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:48:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474250679193600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:48:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474250679193600 [0;39m ==> Parameters: 
2023-05-17 00:48:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474250679193600 [0;39m <==    Updates: 2
2023-05-17 00:48:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474250679193600 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:48:05.798 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:09.395 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474157876023296 [0;39m 连接关闭，token：6KD9pHstWr，session id：5！当前连接数：0
2023-05-17 00:48:09.818 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474157884411904 [0;39m 有新连接：token：6aomgLzq9s，session id：6，当前连接数：1
2023-05-17 00:48:09.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474271004790784 [0;39m ------------- 开始 -------------
2023-05-17 00:48:09.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474271004790785 [0;39m ------------- 开始 -------------
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474271004790785 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474271004790784 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474271004790784 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474271004790785 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474271004790785 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474271004790784 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474271004790784 [0;39m 请求参数: [2]
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474271004790785 [0;39m 请求参数: [2]
2023-05-17 00:48:09.863 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474271004790785 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:09.863 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474271004790784 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:09.863 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474271004790785 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:09.863 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474271004790784 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:09.864 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474271004790785 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:09.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474271004790784 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:09.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474271004790784 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 173, 1
2023-05-17 00:48:09.864 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474271004790785 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:09.864 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474271004790784 [0;39m <==      Total: 1
2023-05-17 00:48:09.865 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474271004790785 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:09.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474271004790784 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":173,"voteCount":1}],"success":true}
2023-05-17 00:48:09.865 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474271004790785 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:09.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474271004790784 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:48:09.865 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474271004790785 [0;39m <==      Total: 3
2023-05-17 00:48:09.866 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:09.866 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:09.867 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:09.867 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:09.867 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m <==      Total: 1
2023-05-17 00:48:09.868 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:09.868 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:09.869 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:09.869 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:09.869 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m <==      Total: 1
2023-05-17 00:48:09.870 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:09.870 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:09.871 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:09.871 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:09.871 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m <==      Total: 1
2023-05-17 00:48:09.872 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:09.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:09.873 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:09.874 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:09.874 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:09.874 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m <==      Total: 1
2023-05-17 00:48:09.874 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:09.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:09.875 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:09.875 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:09.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m <==      Total: 1
2023-05-17 00:48:09.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474271004790785 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:09.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474271004790785 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:48:09.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474271197728768 [0;39m ------------- 开始 -------------
2023-05-17 00:48:09.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474271197728768 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:09.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474271197728768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:09.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474271197728768 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:09.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474271197728768 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:09.910 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474271197728768 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:09.910 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474271197728768 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:09.911 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474271197728768 [0;39m <==    Columns: id, content
2023-05-17 00:48:09.911 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474271197728768 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:09.912 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474271197728768 [0;39m <==      Total: 1
2023-05-17 00:48:09.912 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474271197728768 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:09.912 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474271197728768 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:09.920 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474271197728768 [0;39m <==    Updates: 1
2023-05-17 00:48:09.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474271197728768 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:09.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474271197728768 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:48:10.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474275501084672 [0;39m ------------- 开始 -------------
2023-05-17 00:48:10.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474275501084672 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:10.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474275501084672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:10.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474275501084672 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:10.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474275501084672 [0;39m 请求参数: [2]
2023-05-17 00:48:10.934 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474275501084672 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:10.935 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474275501084672 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:10.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474275501084672 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:10.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474275501084672 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:10.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474275501084672 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:10.937 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474275501084672 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:10.937 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474275501084672 [0;39m <==      Total: 3
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m <==      Total: 1
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m <==      Total: 1
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m <==      Total: 1
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:10.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:10.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m <==      Total: 1
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:10.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:10.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m <==      Total: 1
2023-05-17 00:48:10.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474275501084672 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:10.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474275501084672 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:48:16.239 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474224729034753 [0;39m 连接关闭，token：6aomgLzq9s，session id：6！当前连接数：0
2023-05-17 00:48:16.384 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474224729034752 [0;39m 有新连接：token：KqDooykTlj，session id：7，当前连接数：1
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474298485870592 [0;39m ------------- 开始 -------------
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474298485870593 [0;39m ------------- 开始 -------------
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474298485870592 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474298485870593 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474298485870592 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474298485870593 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:16.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474298485870592 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:16.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474298485870593 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:16.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474298485870593 [0;39m 请求参数: [2]
2023-05-17 00:48:16.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474298485870592 [0;39m 请求参数: [2]
2023-05-17 00:48:16.414 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474298485870593 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:16.415 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474298485870593 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:16.415 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474298485870592 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:16.416 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474298485870592 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:16.415 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474298485870593 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:16.416 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474298485870593 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:16.416 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474298485870592 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:16.416 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474298485870593 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:16.416 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474298485870592 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 174, 1
2023-05-17 00:48:16.417 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474298485870593 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:16.417 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474298485870592 [0;39m <==      Total: 1
2023-05-17 00:48:16.417 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474298485870593 [0;39m <==      Total: 3
2023-05-17 00:48:16.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474298485870592 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":174,"voteCount":1}],"success":true}
2023-05-17 00:48:16.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474298485870592 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:48:16.417 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:16.418 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:16.418 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:16.418 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:16.419 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m <==      Total: 1
2023-05-17 00:48:16.419 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:16.419 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:16.419 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:16.421 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:16.421 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m <==      Total: 1
2023-05-17 00:48:16.421 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:16.421 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:16.422 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:16.422 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:16.422 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m <==      Total: 1
2023-05-17 00:48:16.423 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:16.423 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:16.423 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:16.423 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:16.424 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m <==      Total: 1
2023-05-17 00:48:16.424 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:16.424 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:16.424 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:16.425 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:16.425 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m <==      Total: 1
2023-05-17 00:48:16.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474298485870593 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:16.427 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474298485870593 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:48:16.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474298662031360 [0;39m ------------- 开始 -------------
2023-05-17 00:48:16.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474298662031360 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:16.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474298662031360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:16.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474298662031360 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:16.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474298662031360 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:16.458 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474298662031360 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:16.458 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474298662031360 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:16.459 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474298662031360 [0;39m <==    Columns: id, content
2023-05-17 00:48:16.460 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474298662031360 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:16.460 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474298662031360 [0;39m <==      Total: 1
2023-05-17 00:48:16.461 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474298662031360 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:16.461 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474298662031360 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:16.462 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474298662031360 [0;39m <==    Updates: 1
2023-05-17 00:48:16.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474298662031360 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:16.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474298662031360 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:48:17.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474302923444224 [0;39m ------------- 开始 -------------
2023-05-17 00:48:17.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474302923444224 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:17.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474302923444224 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:17.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474302923444224 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:17.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474302923444224 [0;39m 请求参数: [2]
2023-05-17 00:48:17.473 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474302923444224 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:17.473 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474302923444224 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:17.474 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474302923444224 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:17.474 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474302923444224 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:17.474 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474302923444224 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:17.475 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474302923444224 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:17.475 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474302923444224 [0;39m <==      Total: 3
2023-05-17 00:48:17.475 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:17.475 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:17.477 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m <==      Total: 1
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m <==      Total: 1
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m <==      Total: 1
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m <==      Total: 1
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m <==      Total: 1
2023-05-17 00:48:17.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474302923444224 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:17.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474302923444224 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:48:27.040 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474271004790784 [0;39m 连接关闭，token：KqDooykTlj，session id：7！当前连接数：0
2023-05-17 00:48:27.208 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474271004790785 [0;39m 有新连接：token：2PMxAzO4hQ，session id：8，当前连接数：1
2023-05-17 00:48:27.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474343947931649 [0;39m ------------- 开始 -------------
2023-05-17 00:48:27.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474343947931648 [0;39m ------------- 开始 -------------
2023-05-17 00:48:27.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474343947931648 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:27.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474343947931649 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474343947931649 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474343947931648 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474343947931649 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474343947931648 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474343947931648 [0;39m 请求参数: [2]
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474343947931649 [0;39m 请求参数: [2]
2023-05-17 00:48:27.254 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474343947931648 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:27.255 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474343947931648 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:27.256 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474343947931649 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:27.256 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474343947931648 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:27.256 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474343947931649 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:27.256 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474343947931648 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:27.256 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474343947931649 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:27.257 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474343947931648 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:27.257 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474343947931649 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 175, 1
2023-05-17 00:48:27.257 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474343947931649 [0;39m <==      Total: 1
2023-05-17 00:48:27.257 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474343947931648 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:27.257 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474343947931648 [0;39m <==      Total: 3
2023-05-17 00:48:27.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474343947931649 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":175,"voteCount":1}],"success":true}
2023-05-17 00:48:27.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474343947931649 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:48:27.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:27.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:27.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:27.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:27.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m <==      Total: 1
2023-05-17 00:48:27.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:27.260 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:27.261 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:27.261 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:27.261 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m <==      Total: 1
2023-05-17 00:48:27.262 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:27.262 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:27.263 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:27.263 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:27.263 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m <==      Total: 1
2023-05-17 00:48:27.264 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:27.264 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:27.265 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:27.265 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:27.265 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m <==      Total: 1
2023-05-17 00:48:27.265 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:27.266 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:27.266 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:27.266 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:27.267 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m <==      Total: 1
2023-05-17 00:48:27.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474343947931648 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:27.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474343947931648 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:48:27.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474344258310144 [0;39m ------------- 开始 -------------
2023-05-17 00:48:27.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474344258310144 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:27.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474344258310144 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:27.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474344258310144 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:27.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474344258310144 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:27.327 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474344258310144 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:27.327 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474344258310144 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:27.328 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474344258310144 [0;39m <==    Columns: id, content
2023-05-17 00:48:27.328 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474344258310144 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:27.328 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474344258310144 [0;39m <==      Total: 1
2023-05-17 00:48:27.328 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474344258310144 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:27.330 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474344258310144 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:27.331 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474344258310144 [0;39m <==    Updates: 1
2023-05-17 00:48:27.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474344258310144 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:27.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474344258310144 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:48:27.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:28.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474347320152064 [0;39m ------------- 开始 -------------
2023-05-17 00:48:28.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474347320152064 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:28.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474347320152064 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:28.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474347320152064 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:28.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474347320152064 [0;39m 请求参数: [2]
2023-05-17 00:48:28.057 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474347320152064 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:28.058 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474347320152064 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:28.059 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474347320152064 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:28.059 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474347320152064 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:28.060 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474347320152064 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:28.060 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474347320152064 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:28.060 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474347320152064 [0;39m <==      Total: 3
2023-05-17 00:48:28.060 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:28.061 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:28.062 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:28.062 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:28.062 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m <==      Total: 1
2023-05-17 00:48:28.062 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:28.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:28.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:28.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:28.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m <==      Total: 1
2023-05-17 00:48:28.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:28.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:28.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:28.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:28.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m <==      Total: 1
2023-05-17 00:48:28.065 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:28.065 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:28.065 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:28.065 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:28.065 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m <==      Total: 1
2023-05-17 00:48:28.066 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:28.066 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:28.066 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:28.066 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:28.066 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m <==      Total: 1
2023-05-17 00:48:28.067 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474347320152064 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:28.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474347320152064 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:48:33.839 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474376499924992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:48:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474376499924992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:48:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474376499924992 [0;39m ==> Parameters: 
2023-05-17 00:48:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474376499924992 [0;39m <==    Updates: 2
2023-05-17 00:48:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474376499924992 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:48:37.533 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:37.840 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474298485870592 [0;39m 连接关闭，token：2PMxAzO4hQ，session id：8！当前连接数：0
2023-05-17 00:48:38.058 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474298485870593 [0;39m 有新连接：token：TPGWu8XNv1，session id：9，当前连接数：1
2023-05-17 00:48:38.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474389472907264 [0;39m ------------- 开始 -------------
2023-05-17 00:48:38.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474389472907264 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:38.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474389472907265 [0;39m ------------- 开始 -------------
2023-05-17 00:48:38.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474389472907264 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:38.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474389472907264 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:38.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474389472907264 [0;39m 请求参数: [2]
2023-05-17 00:48:38.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474389472907265 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:38.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474389472907265 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:38.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474389472907265 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:38.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474389472907265 [0;39m 请求参数: [2]
2023-05-17 00:48:38.110 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474389472907265 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:38.110 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474389472907265 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:38.110 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474389472907264 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:38.111 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474389472907264 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:38.111 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474389472907265 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:38.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474389472907264 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:38.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474389472907264 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 176, 1
2023-05-17 00:48:38.111 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474389472907265 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:38.112 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474389472907264 [0;39m <==      Total: 1
2023-05-17 00:48:38.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474389472907264 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":176,"voteCount":1}],"success":true}
2023-05-17 00:48:38.112 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474389472907265 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:38.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474389472907264 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:48:38.113 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474389472907265 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:38.113 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474389472907265 [0;39m <==      Total: 3
2023-05-17 00:48:38.113 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:38.113 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:38.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:38.115 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:38.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m <==      Total: 1
2023-05-17 00:48:38.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:38.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:38.117 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:38.117 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:38.118 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m <==      Total: 1
2023-05-17 00:48:38.118 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:38.118 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:38.119 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:38.119 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:38.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m <==      Total: 1
2023-05-17 00:48:38.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:38.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:38.120 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:38.121 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:38.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m <==      Total: 1
2023-05-17 00:48:38.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:38.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:38.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:38.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:38.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m <==      Total: 1
2023-05-17 00:48:38.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474389472907265 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:38.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474389472907265 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-17 00:48:38.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474389737148416 [0;39m ------------- 开始 -------------
2023-05-17 00:48:38.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474389737148416 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:38.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474389737148416 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:38.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474389737148416 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:38.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474389737148416 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:38.173 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474389737148416 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:38.174 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474389737148416 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:38.175 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474389737148416 [0;39m <==    Columns: id, content
2023-05-17 00:48:38.175 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474389737148416 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:38.175 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474389737148416 [0;39m <==      Total: 1
2023-05-17 00:48:38.176 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474389737148416 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:38.176 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474389737148416 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:38.202 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474389737148416 [0;39m <==    Updates: 1
2023-05-17 00:48:38.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474389737148416 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:38.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474389737148416 [0;39m ------------- 结束 耗时：33 ms -------------
2023-05-17 00:48:38.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474393205837824 [0;39m ------------- 开始 -------------
2023-05-17 00:48:38.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474393205837824 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:38.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474393205837824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:38.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474393205837824 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:38.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474393205837824 [0;39m 请求参数: [2]
2023-05-17 00:48:38.999 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474393205837824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:38.999 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474393205837824 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:39.000 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474393205837824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:39.000 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474393205837824 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:39.001 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474393205837824 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:39.001 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474393205837824 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:39.001 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474393205837824 [0;39m <==      Total: 3
2023-05-17 00:48:39.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:39.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:39.002 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:39.002 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:39.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m <==      Total: 1
2023-05-17 00:48:39.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:39.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:39.005 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:39.005 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:39.005 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m <==      Total: 1
2023-05-17 00:48:39.006 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:39.006 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:39.007 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:39.007 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:39.007 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m <==      Total: 1
2023-05-17 00:48:39.007 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:39.008 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:39.008 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:39.009 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:39.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m <==      Total: 1
2023-05-17 00:48:39.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:39.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:39.010 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:39.010 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:39.010 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m <==      Total: 1
2023-05-17 00:48:39.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474393205837824 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:39.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474393205837824 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:48:45.085 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474343947931649 [0;39m 连接关闭，token：TPGWu8XNv1，session id：9！当前连接数：0
2023-05-17 00:48:45.270 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474343947931648 [0;39m 有新连接：token：o28uuG9ktS，session id：a，当前连接数：1
2023-05-17 00:48:45.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474419671896064 [0;39m ------------- 开始 -------------
2023-05-17 00:48:45.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474419671896065 [0;39m ------------- 开始 -------------
2023-05-17 00:48:45.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474419671896065 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:45.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474419671896064 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474419671896065 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474419671896064 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474419671896064 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474419671896065 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474419671896064 [0;39m 请求参数: [2]
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474419671896065 [0;39m 请求参数: [2]
2023-05-17 00:48:45.307 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474419671896064 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:45.308 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474419671896064 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:45.308 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474419671896065 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:45.308 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474419671896065 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:45.324 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474419671896064 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:45.324 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474419671896065 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:45.343 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474419671896064 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:45.325 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474419671896065 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 177, 1
2023-05-17 00:48:45.343 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474419671896065 [0;39m <==      Total: 1
2023-05-17 00:48:45.343 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474419671896064 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:45.344 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474419671896064 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:45.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474419671896065 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":177,"voteCount":1}],"success":true}
2023-05-17 00:48:45.344 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474419671896064 [0;39m <==      Total: 3
2023-05-17 00:48:45.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474419671896065 [0;39m ------------- 结束 耗时：38 ms -------------
2023-05-17 00:48:45.345 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:45.345 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:45.346 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:45.346 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:45.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m <==      Total: 1
2023-05-17 00:48:45.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:45.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:45.348 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:45.348 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:45.348 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m <==      Total: 1
2023-05-17 00:48:45.348 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:45.349 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:45.349 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:45.349 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:45.350 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m <==      Total: 1
2023-05-17 00:48:45.350 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:45.350 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:45.351 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:45.351 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:45.351 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m <==      Total: 1
2023-05-17 00:48:45.352 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:45.352 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:45.353 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:45.353 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:45.353 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m <==      Total: 1
2023-05-17 00:48:45.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474419671896064 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:45.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474419671896064 [0;39m ------------- 结束 耗时：48 ms -------------
2023-05-17 00:48:45.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474419931942912 [0;39m ------------- 开始 -------------
2023-05-17 00:48:45.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474419931942912 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:45.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474419931942912 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:45.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474419931942912 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:45.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474419931942912 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:45.368 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474419931942912 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:45.368 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474419931942912 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:45.368 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474419931942912 [0;39m <==    Columns: id, content
2023-05-17 00:48:45.368 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474419931942912 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:45.368 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474419931942912 [0;39m <==      Total: 1
2023-05-17 00:48:45.368 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474419931942912 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:45.373 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474419931942912 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:45.375 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474419931942912 [0;39m <==    Updates: 1
2023-05-17 00:48:45.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474419931942912 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:45.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474419931942912 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:48:46.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474423077670912 [0;39m ------------- 开始 -------------
2023-05-17 00:48:46.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474423077670912 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:46.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474423077670912 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:46.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474423077670912 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:46.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474423077670912 [0;39m 请求参数: [2]
2023-05-17 00:48:46.119 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474423077670912 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:46.119 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474423077670912 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:46.120 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474423077670912 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:46.120 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474423077670912 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:46.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474423077670912 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:46.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474423077670912 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:46.122 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474423077670912 [0;39m <==      Total: 3
2023-05-17 00:48:46.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:46.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:46.123 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:46.123 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:46.123 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m <==      Total: 1
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m <==      Total: 1
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m <==      Total: 1
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m <==      Total: 1
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m <==      Total: 1
2023-05-17 00:48:46.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474423077670912 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:46.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474423077670912 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:48:51.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:55.430 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474389472907264 [0;39m 连接关闭，token：o28uuG9ktS，session id：a！当前连接数：0
2023-05-17 00:48:55.596 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474389472907265 [0;39m 有新连接：token：nMK5LP94Zh，session id：b，当前连接数：1
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474462978084865 [0;39m ------------- 开始 -------------
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474462978084864 [0;39m ------------- 开始 -------------
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474462978084865 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474462978084864 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474462978084865 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474462978084864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474462978084865 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474462978084864 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:55.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474462978084865 [0;39m 请求参数: [2]
2023-05-17 00:48:55.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474462978084864 [0;39m 请求参数: [2]
2023-05-17 00:48:55.632 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474462978084865 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:55.632 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474462978084864 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:55.633 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474462978084865 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:55.633 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474462978084864 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:55.633 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474462978084865 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:55.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474462978084865 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:55.633 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474462978084864 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:55.634 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474462978084864 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 178, 1
2023-05-17 00:48:55.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474462978084865 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:55.635 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474462978084865 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:55.635 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474462978084864 [0;39m <==      Total: 1
2023-05-17 00:48:55.635 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474462978084865 [0;39m <==      Total: 3
2023-05-17 00:48:55.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474462978084864 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":178,"voteCount":1}],"success":true}
2023-05-17 00:48:55.635 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:55.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474462978084864 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:48:55.635 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:55.637 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:55.637 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:55.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m <==      Total: 1
2023-05-17 00:48:55.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:55.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:55.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:55.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:55.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m <==      Total: 1
2023-05-17 00:48:55.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:55.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:55.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:55.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:55.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m <==      Total: 1
2023-05-17 00:48:55.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:55.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:55.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:55.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:55.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m <==      Total: 1
2023-05-17 00:48:55.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:55.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:55.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:55.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:55.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m <==      Total: 1
2023-05-17 00:48:55.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474462978084865 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:55.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474462978084865 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:48:55.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474463191994368 [0;39m ------------- 开始 -------------
2023-05-17 00:48:55.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474463191994368 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:55.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474463191994368 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:55.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474463191994368 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:55.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474463191994368 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:55.687 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474463191994368 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:55.687 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474463191994368 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:55.688 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474463191994368 [0;39m <==    Columns: id, content
2023-05-17 00:48:55.688 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474463191994368 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:55.688 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474463191994368 [0;39m <==      Total: 1
2023-05-17 00:48:55.690 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474463191994368 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:55.690 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474463191994368 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:55.697 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474463191994368 [0;39m <==    Updates: 1
2023-05-17 00:48:55.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474463191994368 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:55.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474463191994368 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:48:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474466958479360 [0;39m ------------- 开始 -------------
2023-05-17 00:48:56.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474466958479360 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:56.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474466958479360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:56.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474466958479360 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:56.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474466958479360 [0;39m 请求参数: [2]
2023-05-17 00:48:56.582 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474466958479360 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:56.582 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474466958479360 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:56.583 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474466958479360 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:56.583 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474466958479360 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:56.583 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474466958479360 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:56.584 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474466958479360 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:56.584 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474466958479360 [0;39m <==      Total: 3
2023-05-17 00:48:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:56.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:56.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:56.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:56.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m <==      Total: 1
2023-05-17 00:48:56.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:56.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:56.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m <==      Total: 1
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m <==      Total: 1
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m <==      Total: 1
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m <==      Total: 1
2023-05-17 00:48:56.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474466958479360 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:56.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474466958479360 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:49:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39474481307193344 [0;39m 生成今日电子书快照开始
2023-05-17 00:49:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474481307193344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:49:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474481307193344 [0;39m ==> Parameters: 
2023-05-17 00:49:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474481307193344 [0;39m <==    Updates: 0
2023-05-17 00:49:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39474481307193344 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-17 00:49:03.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39474419671896065 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39474419671896065 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39474419671896065 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39474419671896065 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474496469602304 [0;39m ------------- 开始 -------------
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474496469602304 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474496469602304 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474496469602304 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474496469602304 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"parentId":6,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496469602304 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496469602304 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m <==      Total: 1
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496469602304 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496469602304 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m <==      Total: 1
2023-05-17 00:49:03.622 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39474496469602304 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:49:03.622 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39474496469602304 [0;39m ==> Parameters: 1(Long), 2(Long), 6(Long), 1(Long), 额外企鹅(String), 2023-05-17 00:49:03.622(Timestamp), null
2023-05-17 00:49:03.622 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39474496469602304 [0;39m <==    Updates: 1
2023-05-17 00:49:03.622 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39474496469602304 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:49:03.622 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39474496469602304 [0;39m ==> Parameters: 9(Long)
2023-05-17 00:49:03.622 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39474496469602304 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:49:03.622 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39474496469602304 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 00:49:03.622 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39474496469602304 [0;39m <==      Total: 1
2023-05-17 00:49:03.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474496469602304 [0;39m 返回结果: {"content":{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:49:03.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474496469602304 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:49:03.629 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39474496469602304 [0;39m ------------- LoginInterceptor 结束 耗时：13 ms -------------
2023-05-17 00:49:03.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474496540905472 [0;39m ------------- 开始 -------------
2023-05-17 00:49:03.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474496540905472 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:49:03.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474496540905472 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:49:03.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474496540905472 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:49:03.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474496540905472 [0;39m 请求参数: [2]
2023-05-17 00:49:03.634 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474496540905472 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:49:03.634 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474496540905472 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:49:03.635 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474496540905472 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:49:03.635 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474496540905472 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:49:03.635 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474496540905472 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:49:03.636 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474496540905472 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:49:03.637 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474496540905472 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 00:49:03.637 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474496540905472 [0;39m <==      Total: 4
2023-05-17 00:49:03.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.642 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.642 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474496540905472 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:49:03.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474496540905472 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:49:03.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474502287101952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:49:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474502287101952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:49:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474502287101952 [0;39m ==> Parameters: 
2023-05-17 00:49:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474502287101952 [0;39m <==    Updates: 2
2023-05-17 00:49:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474502287101952 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:49:07.589 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:13.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:15.991 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:33.831 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474628166553600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:49:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474628166553600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:49:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474628166553600 [0;39m ==> Parameters: 
2023-05-17 00:49:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474628166553600 [0;39m <==    Updates: 2
2023-05-17 00:49:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474628166553600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:49:35.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:37.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:41.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39474732998987776 [0;39m 生成今日电子书快照开始
2023-05-17 00:50:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474732998987776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:50:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474732998987776 [0;39m ==> Parameters: 
2023-05-17 00:50:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474732998987776 [0;39m <==    Updates: 0
2023-05-17 00:50:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39474732998987776 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 00:50:03.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474753966313472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:50:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474753966313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:50:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474753966313472 [0;39m ==> Parameters: 
2023-05-17 00:50:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474753966313472 [0;39m <==    Updates: 2
2023-05-17 00:50:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474753966313472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:50:05.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:07.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:09.589 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:31.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:33.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:33.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474879837376512 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:50:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474879837376512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:50:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474879837376512 [0;39m ==> Parameters: 
2023-05-17 00:50:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474879837376512 [0;39m <==    Updates: 2
2023-05-17 00:50:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474879837376512 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:50:35.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:37.763 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:39.802 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:55.723 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:57.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39474984682393600 [0;39m 生成今日电子书快照开始
2023-05-17 00:51:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474984682393600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:51:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474984682393600 [0;39m ==> Parameters: 
2023-05-17 00:51:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474984682393600 [0;39m <==    Updates: 0
2023-05-17 00:51:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39474984682393600 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-17 00:51:03.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:03.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475005599387648 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:51:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475005599387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:51:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475005599387648 [0;39m ==> Parameters: 
2023-05-17 00:51:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475005599387648 [0;39m <==    Updates: 2
2023-05-17 00:51:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475005599387648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:51:07.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:19.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:21.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:33.500 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:33.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475131504005120 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:51:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475131504005120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:51:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475131504005120 [0;39m ==> Parameters: 
2023-05-17 00:51:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475131504005120 [0;39m <==    Updates: 2
2023-05-17 00:51:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475131504005120 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:51:37.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:43.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:45.854 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39475236307079168 [0;39m 生成今日电子书快照开始
2023-05-17 00:52:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475236307079168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:52:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475236307079168 [0;39m ==> Parameters: 
2023-05-17 00:52:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475236307079168 [0;39m <==    Updates: 0
2023-05-17 00:52:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39475236307079168 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 00:52:03.475 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:03.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475257270210560 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:52:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475257270210560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:52:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475257270210560 [0;39m ==> Parameters: 
2023-05-17 00:52:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475257270210560 [0;39m <==    Updates: 2
2023-05-17 00:52:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475257270210560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:52:05.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:07.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:09.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:11.615 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:33.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:33.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475383090941952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475383090941952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475383090941952 [0;39m ==> Parameters: 
2023-05-17 00:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475383090941952 [0;39m <==    Updates: 2
2023-05-17 00:52:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475383090941952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:52:35.511 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:37.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:39.581 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39475487965319168 [0;39m 生成今日电子书快照开始
2023-05-17 00:53:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475487965319168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:53:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475487965319168 [0;39m ==> Parameters: 
2023-05-17 00:53:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475487965319168 [0;39m <==    Updates: 0
2023-05-17 00:53:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39475487965319168 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:53:01.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:03.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:03.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475508945227776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475508945227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475508945227776 [0;39m ==> Parameters: 
2023-05-17 00:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475508945227776 [0;39m <==    Updates: 2
2023-05-17 00:53:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475508945227776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:53:05.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:07.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:09.760 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:25.662 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:27.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:33.802 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475634770153472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:53:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475634770153472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:53:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475634770153472 [0;39m ==> Parameters: 
2023-05-17 00:53:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475634770153472 [0;39m <==    Updates: 2
2023-05-17 00:53:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475634770153472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:53:37.555 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:51.858 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39475739623559168 [0;39m 生成今日电子书快照开始
2023-05-17 00:54:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475739623559168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:54:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475739623559168 [0;39m ==> Parameters: 
2023-05-17 00:54:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475739623559168 [0;39m <==    Updates: 0
2023-05-17 00:54:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39475739623559168 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:54:03.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475760599273472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:54:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475760599273472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:54:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475760599273472 [0;39m ==> Parameters: 
2023-05-17 00:54:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475760599273472 [0;39m <==    Updates: 2
2023-05-17 00:54:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475760599273472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:54:05.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:07.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:15.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:33.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:33.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:35.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475886482919424 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:54:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475886482919424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:54:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475886482919424 [0;39m ==> Parameters: 
2023-05-17 00:54:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475886482919424 [0;39m <==    Updates: 2
2023-05-17 00:54:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475886482919424 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:54:35.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:37.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:39.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:41.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39475991327936512 [0;39m 生成今日电子书快照开始
2023-05-17 00:55:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475991327936512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:55:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475991327936512 [0;39m ==> Parameters: 
2023-05-17 00:55:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475991327936512 [0;39m <==    Updates: 0
2023-05-17 00:55:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39475991327936512 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:55:03.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476012253319168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476012253319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476012253319168 [0;39m ==> Parameters: 
2023-05-17 00:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476012253319168 [0;39m <==    Updates: 2
2023-05-17 00:55:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476012253319168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:55:07.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:09.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:13.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476049872031744 [0;39m ------------- 开始 -------------
2023-05-17 00:55:13.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476049872031744 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:55:13.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476049872031744 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:55:13.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476049872031744 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:55:13.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476049872031744 [0;39m 请求参数: [2]
2023-05-17 00:55:13.978 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39476049872031744 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:55:13.978 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39476049872031744 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:55:13.978 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39476049872031744 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:55:13.978 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39476049872031744 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 179, 1
2023-05-17 00:55:13.978 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39476049872031744 [0;39m <==      Total: 1
2023-05-17 00:55:13.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476049872031744 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":179,"voteCount":1}],"success":true}
2023-05-17 00:55:13.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476049872031744 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-17 00:55:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476049905586176 [0;39m ------------- 开始 -------------
2023-05-17 00:55:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476049905586176 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:55:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476049905586176 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:55:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476049905586176 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:55:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476049905586176 [0;39m 请求参数: [2]
2023-05-17 00:55:13.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476049905586176 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:55:13.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476049905586176 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:55:13.990 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476049905586176 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:55:13.990 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476049905586176 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:55:13.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476049905586176 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:55:13.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476049905586176 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:55:13.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476049905586176 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 00:55:13.991 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476049905586176 [0;39m <==      Total: 4
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.996 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.996 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.996 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.998 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476049905586176 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:55:13.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476049905586176 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:55:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476050543120384 [0;39m ------------- 开始 -------------
2023-05-17 00:55:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476050543120384 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:55:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476050543120384 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:55:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476050543120384 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:55:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476050543120384 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:55:14.136 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39476050543120384 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:55:14.136 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39476050543120384 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:55:14.142 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39476050543120384 [0;39m <==    Columns: id, content
2023-05-17 00:55:14.142 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39476050543120384 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:55:14.143 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39476050543120384 [0;39m <==      Total: 1
2023-05-17 00:55:14.144 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39476050543120384 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:55:14.144 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39476050543120384 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:55:14.152 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39476050543120384 [0;39m <==    Updates: 1
2023-05-17 00:55:14.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476050543120384 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:55:14.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476050543120384 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:55:33.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:33.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476138103410688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:55:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476138103410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:55:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476138103410688 [0;39m ==> Parameters: 
2023-05-17 00:55:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476138103410688 [0;39m <==    Updates: 2
2023-05-17 00:55:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476138103410688 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-17 00:55:35.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:37.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:39.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:55.784 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:57.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39476242990370816 [0;39m 生成今日电子书快照开始
2023-05-17 00:56:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476242990370816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:56:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476242990370816 [0;39m ==> Parameters: 
2023-05-17 00:56:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476242990370816 [0;39m <==    Updates: 0
2023-05-17 00:56:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39476242990370816 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:56:03.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:03.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476263936724992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:56:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476263936724992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:56:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476263936724992 [0;39m ==> Parameters: 
2023-05-17 00:56:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476263936724992 [0;39m <==    Updates: 2
2023-05-17 00:56:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476263936724992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:56:05.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476267657072640 [0;39m ------------- 开始 -------------
2023-05-17 00:56:05.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476267657072640 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:56:05.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476267657072640 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:56:05.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476267657072640 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:56:05.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476267657072640 [0;39m 请求参数: [2]
2023-05-17 00:56:05.902 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476267657072640 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:56:05.902 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476267657072640 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:56:05.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476267657072640 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:56:05.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476267657072640 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:56:05.904 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476267657072640 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:56:05.904 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476267657072640 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:56:05.904 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476267657072640 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 00:56:05.904 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476267657072640 [0;39m <==      Total: 4
2023-05-17 00:56:05.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.906 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.906 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.911 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476267657072640 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:56:05.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476267657072640 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:56:07.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:19.864 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:21.898 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:33.469 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:33.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476389749067776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:56:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476389749067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:56:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476389749067776 [0;39m ==> Parameters: 
2023-05-17 00:56:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476389749067776 [0;39m <==    Updates: 2
2023-05-17 00:56:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476389749067776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:56:37.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:45.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39476494577307648 [0;39m 生成今日电子书快照开始
2023-05-17 00:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476494577307648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476494577307648 [0;39m ==> Parameters: 
2023-05-17 00:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476494577307648 [0;39m <==    Updates: 0
2023-05-17 00:57:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39476494577307648 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:57:03.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476515586576384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:57:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476515586576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:57:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476515586576384 [0;39m ==> Parameters: 
2023-05-17 00:57:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476515586576384 [0;39m <==    Updates: 2
2023-05-17 00:57:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476515586576384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:57:05.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:07.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:09.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:11.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:33.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:33.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476641398919168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476641398919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476641398919168 [0;39m ==> Parameters: 
2023-05-17 00:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476641398919168 [0;39m <==    Updates: 2
2023-05-17 00:57:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476641398919168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:57:35.534 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:37.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:39.612 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39476746256519168 [0;39m 生成今日电子书快照开始
2023-05-17 00:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476746256519168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476746256519168 [0;39m ==> Parameters: 
2023-05-17 00:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476746256519168 [0;39m <==    Updates: 0
2023-05-17 00:58:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39476746256519168 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:58:01.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:03.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:03.816 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476767274176512 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:58:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476767274176512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:58:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476767274176512 [0;39m ==> Parameters: 
2023-05-17 00:58:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476767274176512 [0;39m <==    Updates: 2
2023-05-17 00:58:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476767274176512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:58:05.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:09.797 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
