2023-05-15 00:00:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38737374355787776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:00:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38737374355787776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:00:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38737374355787776 [0;39m ==> Parameters: 
2023-05-15 00:00:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38737374355787776 [0;39m <==    Updates: 5
2023-05-15 00:00:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38737374355787776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:00:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38737395310530560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:00:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737395310530560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:00:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737395310530560 [0;39m ==> Parameters: 
2023-05-15 00:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737395310530560 [0;39m <==    Updates: 2
2023-05-15 00:00:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38737395310530560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:00:15.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:00:21.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:00:21.653 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:00:23.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:00:25.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:00:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38737521122873344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:00:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737521122873344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:00:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737521122873344 [0;39m ==> Parameters: 
2023-05-15 00:00:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737521122873344 [0;39m <==    Updates: 2
2023-05-15 00:00:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38737521122873344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:00:37.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:00:39.761 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:00:51.311 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:00:51.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:00:53.361 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:00:55.402 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38737626026610688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:01:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38737626026610688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:01:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38737626026610688 [0;39m ==> Parameters: 
2023-05-15 00:01:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38737626026610688 [0;39m <==    Updates: 0
2023-05-15 00:01:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38737626026610688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:01:01.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:03.861 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38737647019102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:01:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737647019102208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:01:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737647019102208 [0;39m ==> Parameters: 
2023-05-15 00:01:05.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737647019102208 [0;39m <==    Updates: 2
2023-05-15 00:01:05.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38737647019102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-15 00:01:21.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:21.660 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:23.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:25.373 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:27.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:29.440 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:35.024 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38737772877582336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:01:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737772877582336 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:01:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737772877582336 [0;39m ==> Parameters: 
2023-05-15 00:01:35.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737772877582336 [0;39m <==    Updates: 2
2023-05-15 00:01:35.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38737772877582336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:01:51.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:51.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:53.373 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:55.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:01:57.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:02:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38737877676462080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:02:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38737877676462080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:02:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38737877676462080 [0;39m ==> Parameters: 
2023-05-15 00:02:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38737877676462080 [0;39m <==    Updates: 0
2023-05-15 00:02:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38737877676462080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 00:02:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38737898618621952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:02:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737898618621952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:02:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737898618621952 [0;39m ==> Parameters: 
2023-05-15 00:02:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38737898618621952 [0;39m <==    Updates: 2
2023-05-15 00:02:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38737898618621952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 00:02:21.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:02:21.645 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:02:23.578 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:02:25.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:02:27.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:02:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38738024485490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:02:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738024485490688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:02:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738024485490688 [0;39m ==> Parameters: 
2023-05-15 00:02:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738024485490688 [0;39m <==    Updates: 2
2023-05-15 00:02:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38738024485490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:02:43.588 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:02:45.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:02:51.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:02:51.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:02:55.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38738129347284992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738129347284992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:03:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738129347284992 [0;39m ==> Parameters: 
2023-05-15 00:03:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738129347284992 [0;39m <==    Updates: 0
2023-05-15 00:03:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38738129347284992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 00:03:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38738150302027776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:03:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738150302027776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:03:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738150302027776 [0;39m ==> Parameters: 
2023-05-15 00:03:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738150302027776 [0;39m <==    Updates: 2
2023-05-15 00:03:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38738150302027776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:03:07.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:09.748 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:21.309 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:21.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:23.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:25.412 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:31.785 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:33.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38738276143730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:03:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738276143730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:03:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738276143730688 [0;39m ==> Parameters: 
2023-05-15 00:03:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738276143730688 [0;39m <==    Updates: 2
2023-05-15 00:03:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38738276143730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:03:51.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:51.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:53.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:55.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:57.427 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:03:59.465 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:04:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38738381005524992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:04:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738381005524992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:04:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738381005524992 [0;39m ==> Parameters: 
2023-05-15 00:04:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738381005524992 [0;39m <==    Updates: 0
2023-05-15 00:04:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38738381005524992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:04:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38738401943490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:04:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738401943490560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:04:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738401943490560 [0;39m ==> Parameters: 
2023-05-15 00:04:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738401943490560 [0;39m <==    Updates: 2
2023-05-15 00:04:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38738401943490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 00:04:21.630 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:04:23.361 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:04:25.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:04:27.446 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:04:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38738527797776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:04:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738527797776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:04:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738527797776384 [0;39m ==> Parameters: 
2023-05-15 00:04:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738527797776384 [0;39m <==    Updates: 2
2023-05-15 00:04:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38738527797776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 00:04:49.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:04:51.533 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:04:51.657 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:04:53.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:04:55.637 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:04:57.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38738632621821952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:05:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738632621821952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:05:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738632621821952 [0;39m ==> Parameters: 
2023-05-15 00:05:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738632621821952 [0;39m <==    Updates: 0
2023-05-15 00:05:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38738632621821952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:05:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38738653639479296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:05:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738653639479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:05:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738653639479296 [0;39m ==> Parameters: 
2023-05-15 00:05:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738653639479296 [0;39m <==    Updates: 2
2023-05-15 00:05:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38738653639479296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 00:05:13.583 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:15.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:21.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:21.659 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:25.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38738779439239168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:05:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738779439239168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:05:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738779439239168 [0;39m ==> Parameters: 
2023-05-15 00:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738779439239168 [0;39m <==    Updates: 2
2023-05-15 00:05:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38738779439239168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:05:37.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:39.730 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:51.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:51.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:53.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:05:55.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38738884330393600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:06:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738884330393600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:06:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738884330393600 [0;39m ==> Parameters: 
2023-05-15 00:06:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38738884330393600 [0;39m <==    Updates: 0
2023-05-15 00:06:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38738884330393600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:06:01.769 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:03.806 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38738905306107904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:06:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738905306107904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:06:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738905306107904 [0;39m ==> Parameters: 
2023-05-15 00:06:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38738905306107904 [0;39m <==    Updates: 2
2023-05-15 00:06:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38738905306107904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:06:21.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:21.651 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:25.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:27.453 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:29.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38739031093284864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:06:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739031093284864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:06:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739031093284864 [0;39m ==> Parameters: 
2023-05-15 00:06:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739031093284864 [0;39m <==    Updates: 2
2023-05-15 00:06:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38739031093284864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:06:51.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:51.657 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:53.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:55.383 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:06:57.426 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:07:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38739135934107648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:07:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739135934107648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:07:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739135934107648 [0;39m ==> Parameters: 
2023-05-15 00:07:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739135934107648 [0;39m <==    Updates: 0
2023-05-15 00:07:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38739135934107648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:07:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38739156901433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:07:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739156901433344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:07:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739156901433344 [0;39m ==> Parameters: 
2023-05-15 00:07:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739156901433344 [0;39m <==    Updates: 2
2023-05-15 00:07:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38739156901433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:07:15.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739200169873408 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:07:15.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739200169873409 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:07:15.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739200169873408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:07:15.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739200169873409 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:07:15.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739200169873408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:07:15.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739200169873409 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:07:15.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739200169873408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:07:15.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739200169873409 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:07:15.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739200169873408 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:07:15.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739200169873409 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:07:15.327 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739200169873409 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:07:15.327 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739200169873408 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:07:15.327 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739200169873409 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:15.328 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739200169873408 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:15.329 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739200169873408 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:07:15.329 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739200169873409 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:07:15.329 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739200169873408 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 373, 7
2023-05-15 00:07:15.329 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739200169873408 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:07:15.330 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739200169873408 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:07:15.329 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739200169873409 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:07:15.330 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739200169873408 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:07:15.330 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739200169873408 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:07:15.330 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739200169873408 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:07:15.330 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739200169873408 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:07:15.331 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739200169873408 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:07:15.330 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739200169873409 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:07:15.331 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739200169873408 [0;39m <==      Total: 8
2023-05-15 00:07:15.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739200169873408 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":373,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:07:15.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739200169873408 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-15 00:07:15.331 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739200169873409 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:07:15.333 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739200169873409 [0;39m <==      Total: 3
2023-05-15 00:07:15.335 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:07:15.335 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:15.337 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739200169873409 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:07:15.337 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739200169873409 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:07:15.337 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m <==      Total: 1
2023-05-15 00:07:15.338 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:07:15.339 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:15.339 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739200169873409 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:07:15.339 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739200169873409 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:07:15.340 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m <==      Total: 1
2023-05-15 00:07:15.340 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:07:15.341 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:07:15.341 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739200169873409 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:07:15.341 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739200169873409 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:07:15.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m <==      Total: 1
2023-05-15 00:07:15.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:07:15.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:15.343 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739200169873409 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:07:15.343 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739200169873409 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:07:15.343 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739200169873409 [0;39m <==      Total: 1
2023-05-15 00:07:15.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739200169873409 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","userId":1},{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replyname":"test","replytouserId":1,"userId":2}],"success":true}
2023-05-15 00:07:15.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739200169873409 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š26 ms -------------
2023-05-15 00:07:15.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739200497029120 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:07:15.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739200497029120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:07:15.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739200497029120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:07:15.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739200497029120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:07:15.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739200497029120 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:07:15.397 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739200497029120 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:07:15.397 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739200497029120 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:15.398 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38739200497029120 [0;39m <==    Columns: id, content
2023-05-15 00:07:15.398 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38739200497029120 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:07:15.399 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739200497029120 [0;39m <==      Total: 1
2023-05-15 00:07:15.399 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739200497029120 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:07:15.400 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739200497029120 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:15.413 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739200497029120 [0;39m <==    Updates: 1
2023-05-15 00:07:15.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739200497029120 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:07:15.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739200497029120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-15 00:07:17.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739211100229632 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:07:17.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739211100229632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:07:17.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739211100229632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:07:17.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739211100229632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:07:17.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739211100229632 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:07:17.926 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739211100229632 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:07:17.926 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739211100229632 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:17.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739211100229632 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:07:17.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739211100229632 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 374, 7
2023-05-15 00:07:17.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739211100229632 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:07:17.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739211100229632 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:07:17.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739211100229632 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:07:17.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739211100229632 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:07:17.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739211100229632 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:07:17.929 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739211100229632 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:07:17.929 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739211100229632 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:07:17.929 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739211100229632 [0;39m <==      Total: 8
2023-05-15 00:07:17.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739211100229632 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":374,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:07:17.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739211100229632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 00:07:17.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739211150561280 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:07:17.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739211150561280 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:07:17.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739211150561280 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:07:17.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739211150561280 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:07:17.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739211150561280 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:07:17.936 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739211150561280 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:07:17.937 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739211150561280 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:17.937 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739211150561280 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:07:17.937 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739211150561280 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:07:17.937 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739211150561280 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:07:17.938 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739211150561280 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:07:17.938 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739211150561280 [0;39m <==      Total: 3
2023-05-15 00:07:17.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:07:17.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:17.939 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739211150561280 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:07:17.939 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739211150561280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:07:17.939 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m <==      Total: 1
2023-05-15 00:07:17.939 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:07:17.939 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:17.940 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739211150561280 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:07:17.940 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739211150561280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:07:17.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m <==      Total: 1
2023-05-15 00:07:17.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:07:17.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:07:17.941 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739211150561280 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:07:17.941 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739211150561280 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:07:17.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m <==      Total: 1
2023-05-15 00:07:17.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:07:17.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:17.942 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739211150561280 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:07:17.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739211150561280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:07:17.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739211150561280 [0;39m <==      Total: 1
2023-05-15 00:07:17.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739211150561280 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","userId":1},{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replyname":"test","replytouserId":1,"userId":2}],"success":true}
2023-05-15 00:07:17.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739211150561280 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 00:07:18.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739211783901184 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:07:18.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739211783901184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:07:18.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739211783901184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:07:18.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739211783901184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:07:18.088 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739211783901184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:07:18.088 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739211783901184 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:07:18.088 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739211783901184 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:18.089 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38739211783901184 [0;39m <==    Columns: id, content
2023-05-15 00:07:18.089 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38739211783901184 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:07:18.090 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739211783901184 [0;39m <==      Total: 1
2023-05-15 00:07:18.091 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739211783901184 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:07:18.091 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739211783901184 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:07:18.111 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739211783901184 [0;39m <==    Updates: 1
2023-05-15 00:07:18.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739211783901184 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:07:18.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739211783901184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-15 00:07:19.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:07:21.519 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:07:21.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:07:22.033 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šXD09jgDOWWï¼Œsession idï¼šfï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 00:07:22.092 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-15 00:07:22.099 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-15 00:07:22.104 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-15 00:07:22.106 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-15 00:07:22.153 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-15 00:07:22.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:07:22.302 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-15 00:07:22.303 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-15 00:07:30.336 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-15 00:07:30.353 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 25296 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-15 00:07:30.353 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-15 00:07:30.408 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-15 00:07:30.408 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-15 00:07:31.226 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-15 00:07:31.229 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-15 00:07:31.258 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2023-05-15 00:07:31.532 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$6dbc17d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:31.545 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.061 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.064 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$a916367e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.064 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.066 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.070 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.070 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.073 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.075 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.076 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.093 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.094 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.098 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.101 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:32.120 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:33.296 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:33.297 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 00:07:33.713 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-15 00:07:33.720 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-15 00:07:33.721 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-15 00:07:33.721 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-15 00:07:33.810 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-15 00:07:33.810 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3400 ms
2023-05-15 00:07:34.599 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-15 00:07:35.015 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-15 00:07:35.070 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-15 00:07:35.442 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:07:37.487 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:07:39.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:07:39.530 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-15 00:07:39.530 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-15 00:07:39.539 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-15 00:07:39.554 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-15 00:07:39.570 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 9.733 seconds (JVM running for 10.823)
2023-05-15 00:07:39.573 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-15 00:07:39.574 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-15 00:07:43.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:07:50.999 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 00:07:50.999 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-15 00:07:51.000 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-15 00:07:51.070 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šjcNPJOcM4Cï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 00:07:51.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739350523088896 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:07:51.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739350523088896 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:07:51.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739350523088896 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:07:51.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739350523088896 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:07:51.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739350598586368 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:07:51.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739350598586368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:07:51.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739350598586368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:07:51.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739350598586368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:07:51.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739350523088896 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:07:51.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739350598586368 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:07:58.930 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38739350523088896 [0;39m HikariPool-1 - Starting...
2023-05-15 00:08:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38739387642679296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:08:03.681 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38739350523088896 [0;39m HikariPool-1 - Start completed.
2023-05-15 00:08:03.690 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739350598586368 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:08:03.717 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739350598586368 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:08:03.719 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739387642679296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:08:03.722 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739387642679296 [0;39m ==> Parameters: 
2023-05-15 00:08:03.725 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739387642679296 [0;39m <==    Updates: 0
2023-05-15 00:08:03.727 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38739387642679296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3712æ¯«ç§’
2023-05-15 00:08:03.728 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739350523088896 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:08:03.730 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739350523088896 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:08:03.748 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739350598586368 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:08:03.748 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739350523088896 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:08:03.748 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739350598586368 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 375, 7
2023-05-15 00:08:03.749 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739350598586368 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:08:03.750 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739350598586368 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:08:03.750 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739350598586368 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:08:03.750 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739350598586368 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:08:03.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739350598586368 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:08:03.753 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739350598586368 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:08:03.753 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739350598586368 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:08:03.754 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739350598586368 [0;39m <==      Total: 8
2023-05-15 00:08:03.754 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739350523088896 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:08:03.760 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739350523088896 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:08:03.762 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739350523088896 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:08:03.763 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739350523088896 [0;39m <==      Total: 3
2023-05-15 00:08:06.775 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38739415996174336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:08:06.779 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:08:06.781 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739415996174336 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:08:06.782 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739415996174336 [0;39m ==> Parameters: 
2023-05-15 00:08:12.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:08:14.121 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739415996174336 [0;39m <==    Updates: 2
2023-05-15 00:08:14.121 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38739415996174336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7345æ¯«ç§’
2023-05-15 00:08:14.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:08:14.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:08:14.128 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739350523088896 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:08:14.132 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739350523088896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:08:14.134 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m <==      Total: 1
2023-05-15 00:08:35.055 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38739534615285760 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:08:36.097 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739534615285760 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:08:36.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739534615285760 [0;39m ==> Parameters: 
2023-05-15 00:08:36.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739534615285760 [0;39m <==    Updates: 2
2023-05-15 00:08:36.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38739534615285760 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 00:08:36.779 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:08:36.782 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:08:36.790 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739350523088896 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:08:36.791 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739350523088896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:08:36.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739350598586368 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":375,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:08:36.796 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m <==      Total: 1
2023-05-15 00:08:36.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739350598586368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š45614 ms -------------
2023-05-15 00:08:38.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:08:43.426 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:08:44.048 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:08:44.051 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:08:44.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739350523088896 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:08:44.055 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739350523088896 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:08:44.057 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m <==      Total: 1
2023-05-15 00:08:47.062 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:08:47.067 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:08:47.071 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739350523088896 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:08:47.073 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739350523088896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:08:47.075 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739350523088896 [0;39m <==      Total: 1
2023-05-15 00:08:51.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:09:01.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38739643939819520 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:09:01.124 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739643939819520 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:09:01.125 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739643939819520 [0;39m ==> Parameters: 
2023-05-15 00:09:05.170 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739643939819520 [0;39m <==    Updates: 0
2023-05-15 00:09:05.178 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38739643939819520 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4055æ¯«ç§’
2023-05-15 00:09:05.701 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38739663153926144 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:09:06.394 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739663153926144 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:09:06.395 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739663153926144 [0;39m ==> Parameters: 
2023-05-15 00:09:06.397 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739663153926144 [0;39m <==    Updates: 2
2023-05-15 00:09:06.397 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38739663153926144 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š695æ¯«ç§’
2023-05-15 00:09:11.856 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:09:15.550 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:09:19.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739716908126208 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:09:20.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739716908126208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:09:20.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739716908126208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:09:20.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739716908126208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:09:23.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739716908126208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:09:23.902 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739716908126208 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:09:23.903 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739716908126208 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:09:23.905 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38739716908126208 [0;39m <==    Columns: id, content
2023-05-15 00:09:23.906 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38739716908126208 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:09:23.906 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739716908126208 [0;39m <==      Total: 1
2023-05-15 00:09:23.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739350523088896 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:09:23.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739350523088896 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š92742 ms -------------
2023-05-15 00:09:23.907 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739716908126208 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:09:23.908 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739716908126208 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:09:23.917 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739716908126208 [0;39m <==    Updates: 1
2023-05-15 00:09:23.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739716908126208 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:09:23.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739716908126208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5401 ms -------------
2023-05-15 00:09:34.930 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:09:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38739786063810560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:09:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739786063810560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:09:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739786063810560 [0;39m ==> Parameters: 
2023-05-15 00:09:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739786063810560 [0;39m <==    Updates: 2
2023-05-15 00:09:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38739786063810560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 00:09:35.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:09:35.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739789423448064 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:09:35.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739789423448064 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:09:35.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739789423448064 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:09:35.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739789423448064 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:09:35.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739789423448064 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:09:41.917 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739789423448064 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:09:41.918 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739789423448064 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:09:41.919 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739789423448064 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:09:41.920 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739789423448064 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:09:41.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739789423448064 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:09:41.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739789423448064 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:09:41.922 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739789423448064 [0;39m <==      Total: 3
2023-05-15 00:09:41.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:09:41.924 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:09:41.925 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739789423448064 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:09:41.925 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739789423448064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:09:41.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m <==      Total: 1
2023-05-15 00:09:41.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:09:41.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:09:41.928 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739789423448064 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:09:41.928 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739789423448064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:09:41.928 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m <==      Total: 1
2023-05-15 00:09:41.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:09:41.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:09:41.930 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739789423448064 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:09:41.930 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739789423448064 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:09:41.930 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m <==      Total: 1
2023-05-15 00:09:41.931 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:09:41.931 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:09:41.932 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739789423448064 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:09:41.932 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739789423448064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:09:41.932 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739789423448064 [0;39m <==      Total: 1
2023-05-15 00:09:41.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739789423448064 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:09:41.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739789423448064 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6126 ms -------------
2023-05-15 00:09:43.948 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:09:45.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:09:59.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739890673946625 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:09:59.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739890673946624 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:09:59.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739890673946625 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 00:09:59.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739890673946624 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 00:09:59.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739890673946624 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 00:09:59.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739890673946625 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 00:09:59.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739890673946624 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:09:59.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739890673946625 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:09:59.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739890673946624 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 00:09:59.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739890673946625 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 00:09:59.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739890690723840 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:09:59.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739890690723840 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 00:09:59.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739890690723840 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 00:09:59.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739890690723840 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:09:59.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739890690723840 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 00:09:59.954 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38739890673946625 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 00:09:59.954 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38739890673946624 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 00:09:59.955 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38739890673946625 [0;39m ==> Parameters: 
2023-05-15 00:09:59.955 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38739890673946624 [0;39m ==> Parameters: 
2023-05-15 00:09:59.956 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38739890690723840 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 00:09:59.956 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38739890690723840 [0;39m ==> Parameters: 
2023-05-15 00:09:59.956 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38739890673946624 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 00:09:59.957 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 00:09:59.957 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 00:09:59.957 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38739890673946624 [0;39m <==        Row: 2023-05-14, 466, 12, 252, 0
2023-05-15 00:09:59.957 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 00:09:59.957 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38739890690723840 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-15 00:09:59.958 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 00:09:59.958 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38739890690723840 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-15 00:09:59.958 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 00:09:59.958 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 00:09:59.958 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 00:09:59.958 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38739890673946624 [0;39m <==        Row: 2023-05-15, 468, 12, 2, 0
2023-05-15 00:09:59.958 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38739890690723840 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-15 00:09:59.959 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 00:09:59.959 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38739890673946624 [0;39m <==      Total: 2
2023-05-15 00:09:59.959 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38739890690723840 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-15 00:09:59.959 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 00:09:59.959 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38739890690723840 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-15 00:09:59.959 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 00:09:59.959 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 00:09:59.959 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38739890690723840 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-15 00:09:59.959 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 00:09:59.959 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38739890690723840 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-15 00:09:59.961 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 00:09:59.961 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 00:09:59.961 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38739890690723840 [0;39m <==      Total: 6
2023-05-15 00:09:59.961 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 00:09:59.961 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38739890673946625 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 00:09:59.963 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38739890673946625 [0;39m <==      Total: 15
2023-05-15 00:09:59.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739890673946624 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683993600000,"viewCount":466,"viewIncrease":252,"voteCount":12,"voteIncrease":0},{"date":1684080000000,"viewCount":468,"viewIncrease":2,"voteCount":12,"voteIncrease":0}],"success":true}
2023-05-15 00:09:59.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739890673946624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-15 00:09:59.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739890690723840 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-15 00:09:59.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739890690723840 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 00:09:59.972 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739890673946625 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 00:09:59.972 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739890673946625 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š26 ms -------------
2023-05-15 00:10:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38739890950770688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739890950770688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:10:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739890950770688 [0;39m ==> Parameters: 
2023-05-15 00:10:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38739890950770688 [0;39m <==    Updates: 0
2023-05-15 00:10:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38739890950770688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-15 00:10:04.897 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:10:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38739911888736256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:10:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739911888736256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:10:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739911888736256 [0;39m ==> Parameters: 
2023-05-15 00:10:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38739911888736256 [0;39m <==    Updates: 2
2023-05-15 00:10:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38739911888736256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:10:05.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:10:05.839 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38739350598586368 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 00:10:05.841 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38739350598586368 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š1 ms -------------
2023-05-15 00:10:05.848 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38739350523088896 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 00:10:05.849 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38739350523088896 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/logout/38625629557624832
2023-05-15 00:10:05.849 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38739350523088896 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38625629557624832
2023-05-15 00:10:06.037 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38739350523088896 [0;39m å·²ç™»å½•ï¼š{"id":2,"loginName":"1","name":"demo","token":"38625629557624832"}
2023-05-15 00:10:06.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739916263395328 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:10:06.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739916263395328 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/logout/38625629557624832 GET
2023-05-15 00:10:06.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739916263395328 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.logout
2023-05-15 00:10:06.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739916263395328 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:10:06.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739916263395328 [0;39m è¯·æ±‚å‚æ•°: ["38625629557624832"]
2023-05-15 00:10:06.052 INFO  com.jiawa.wiki.controller.UserController          :97   [32m38739916263395328 [0;39m ä»Žredisä¸­åˆ é™¤token: 38625629557624832
2023-05-15 00:10:06.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739916263395328 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 00:10:06.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739916263395328 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 00:10:06.055 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38739916263395328 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š206 ms -------------
2023-05-15 00:10:06.950 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:10:07.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739924094160896 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:10:07.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739924094160896 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-15 00:10:07.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739924094160896 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-15 00:10:07.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739924094160896 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:10:07.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739924094160896 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-15 00:10:07.920 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38739924094160896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-15 00:10:07.920 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38739924094160896 [0;39m ==> Parameters: test(String)
2023-05-15 00:10:07.921 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38739924094160896 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:10:07.922 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38739924094160896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:10:07.922 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38739924094160896 [0;39m <==      Total: 1
2023-05-15 00:10:07.927 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38739924094160896 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38739924148686848ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-15 00:10:07.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739924094160896 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"test","token":"38739924148686848"},"success":true}
2023-05-15 00:10:07.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739924094160896 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-15 00:10:09.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:10:09.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739929974575104 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:10:09.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739929974575104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 00:10:09.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739929974575104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 00:10:09.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739929974575104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:10:09.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739929974575104 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-15 00:10:09.354 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38739929974575104 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 00:10:09.355 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38739929974575104 [0;39m ==> Parameters: 202(Long)
2023-05-15 00:10:09.356 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38739929974575104 [0;39m <==    Columns: count(0)
2023-05-15 00:10:09.356 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38739929974575104 [0;39m <==        Row: 1
2023-05-15 00:10:09.356 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38739929974575104 [0;39m <==      Total: 1
2023-05-15 00:10:09.359 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38739929974575104 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 00:10:09.359 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38739929974575104 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-15 00:10:09.360 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38739929974575104 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 00:10:09.361 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38739929974575104 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 410, 12
2023-05-15 00:10:09.362 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38739929974575104 [0;39m <==      Total: 1
2023-05-15 00:10:09.363 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38739929974575104 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 00:10:09.363 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38739929974575104 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 00:10:09.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739929974575104 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":410,"voteCount":12}],"total":1},"success":true}
2023-05-15 00:10:09.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739929974575104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š56 ms -------------
2023-05-15 00:10:11.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:10:11.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739938115719168 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:10:11.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739938115719168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:10:11.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739938115719168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:10:11.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739938115719168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:10:11.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739938124107776 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:10:11.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739938115719168 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:10:11.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739938124107776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:10:11.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739938124107776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:10:11.260 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739938124107776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:10:11.260 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739938124107776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:10:11.261 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739938115719168 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:10:11.261 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739938124107776 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:10:11.262 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739938115719168 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:11.262 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739938124107776 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:11.263 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739938124107776 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:10:11.263 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739938115719168 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:10:11.263 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739938115719168 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 376, 7
2023-05-15 00:10:11.263 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739938124107776 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:10:11.263 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739938115719168 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:10:11.264 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739938115719168 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:10:11.264 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739938124107776 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:10:11.264 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739938115719168 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:10:11.264 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739938124107776 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:10:11.264 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739938115719168 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:10:11.265 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739938124107776 [0;39m <==      Total: 3
2023-05-15 00:10:11.265 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739938115719168 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:10:11.265 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739938115719168 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:10:11.265 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:10:11.265 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38739938115719168 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:10:11.265 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:11.267 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739938124107776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:10:11.267 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739938124107776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:10:11.267 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m <==      Total: 1
2023-05-15 00:10:11.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:10:11.268 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38739938115719168 [0;39m <==      Total: 8
2023-05-15 00:10:11.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:11.269 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739938124107776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:10:11.270 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739938124107776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:10:11.270 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m <==      Total: 1
2023-05-15 00:10:11.271 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:10:11.271 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:10:11.272 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739938124107776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:10:11.273 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739938124107776 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:10:11.273 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m <==      Total: 1
2023-05-15 00:10:11.273 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:10:11.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739938115719168 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":376,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:10:11.274 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:11.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739938115719168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 00:10:11.274 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739938124107776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:10:11.274 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739938124107776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:10:11.275 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739938124107776 [0;39m <==      Total: 1
2023-05-15 00:10:11.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739938124107776 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:10:11.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739938124107776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 00:10:11.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739938321240064 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:10:11.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739938321240064 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:10:11.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739938321240064 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:10:11.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739938321240064 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:10:11.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739938321240064 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:10:11.308 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739938321240064 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:10:11.308 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739938321240064 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:11.308 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38739938321240064 [0;39m <==    Columns: id, content
2023-05-15 00:10:11.310 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38739938321240064 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:10:11.310 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38739938321240064 [0;39m <==      Total: 1
2023-05-15 00:10:11.311 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739938321240064 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:10:11.311 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739938321240064 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:11.313 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38739938321240064 [0;39m <==    Updates: 1
2023-05-15 00:10:11.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739938321240064 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:10:11.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739938321240064 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 00:10:13.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:10:23.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38739989420445696 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:10:23.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38739989420445696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:10:23.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38739989420445696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:10:23.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38739989420445696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:10:23.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38739989420445696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:10:23.493 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739989420445696 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:10:23.493 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739989420445696 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:23.494 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739989420445696 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:10:23.495 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739989420445696 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:10:23.495 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739989420445696 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:10:23.496 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38739989420445696 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:10:23.496 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38739989420445696 [0;39m <==      Total: 3
2023-05-15 00:10:23.496 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:10:23.497 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:23.497 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739989420445696 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:10:23.498 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739989420445696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:10:23.498 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m <==      Total: 1
2023-05-15 00:10:23.499 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:10:23.499 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:23.500 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739989420445696 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:10:23.500 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739989420445696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:10:23.500 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m <==      Total: 1
2023-05-15 00:10:23.500 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:10:23.500 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:10:23.502 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739989420445696 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:10:23.502 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739989420445696 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:10:23.503 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m <==      Total: 1
2023-05-15 00:10:23.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:10:23.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:10:23.505 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739989420445696 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:10:23.505 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38739989420445696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:10:23.505 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38739989420445696 [0;39m <==      Total: 1
2023-05-15 00:10:23.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38739989420445696 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:10:23.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38739989420445696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 00:10:34.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:10:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38740037734633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:10:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740037734633472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:10:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740037734633472 [0;39m ==> Parameters: 
2023-05-15 00:10:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740037734633472 [0;39m <==    Updates: 2
2023-05-15 00:10:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38740037734633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-15 00:10:35.364 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:10:36.961 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:10:39.003 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:10:41.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38740142604816384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:11:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740142604816384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:11:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740142604816384 [0;39m ==> Parameters: 
2023-05-15 00:11:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740142604816384 [0;39m <==    Updates: 0
2023-05-15 00:11:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38740142604816384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 00:11:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38740163580530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:11:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740163580530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:11:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740163580530688 [0;39m ==> Parameters: 
2023-05-15 00:11:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740163580530688 [0;39m <==    Updates: 2
2023-05-15 00:11:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38740163580530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 00:11:05.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:05.354 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:05.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38740165539270656 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:11:05.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38740165539270656 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:11:05.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38740165539270656 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:11:05.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38740165539270656 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:11:05.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38740165539270656 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:11:05.481 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38740165539270656 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:11:05.481 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38740165539270656 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:11:05.482 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740165539270656 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:11:05.482 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740165539270656 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:11:05.483 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740165539270656 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:11:05.483 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740165539270656 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:11:05.484 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38740165539270656 [0;39m <==      Total: 3
2023-05-15 00:11:05.484 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:11:05.485 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:11:05.487 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740165539270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:11:05.487 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740165539270656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:11:05.487 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m <==      Total: 1
2023-05-15 00:11:05.488 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:11:05.488 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:11:05.489 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740165539270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:11:05.489 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740165539270656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:11:05.490 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m <==      Total: 1
2023-05-15 00:11:05.491 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:11:05.492 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:11:05.493 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740165539270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:11:05.493 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740165539270656 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:11:05.494 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m <==      Total: 1
2023-05-15 00:11:05.494 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:11:05.494 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:11:05.495 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740165539270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:11:05.495 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740165539270656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:11:05.495 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740165539270656 [0;39m <==      Total: 1
2023-05-15 00:11:05.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38740165539270656 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:11:05.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38740165539270656 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-15 00:11:06.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38740170845065216 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:11:06.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38740170845065216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:11:06.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38740170845065216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:11:06.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38740170845065216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:11:06.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38740170845065216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:11:06.746 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38740170845065216 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:11:06.746 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38740170845065216 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:11:06.747 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740170845065216 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:11:06.747 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740170845065216 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:11:06.749 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740170845065216 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:11:06.749 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740170845065216 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:11:06.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38740170845065216 [0;39m <==      Total: 3
2023-05-15 00:11:06.750 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:11:06.750 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:11:06.751 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740170845065216 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:11:06.751 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740170845065216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:11:06.752 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m <==      Total: 1
2023-05-15 00:11:06.752 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:11:06.752 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:11:06.753 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740170845065216 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:11:06.753 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740170845065216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:11:06.753 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m <==      Total: 1
2023-05-15 00:11:06.753 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:11:06.755 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:11:06.755 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740170845065216 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:11:06.755 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740170845065216 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:11:06.756 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m <==      Total: 1
2023-05-15 00:11:06.756 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:11:06.756 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:11:06.757 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740170845065216 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:11:06.757 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740170845065216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:11:06.757 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740170845065216 [0;39m <==      Total: 1
2023-05-15 00:11:06.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38740170845065216 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:11:06.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38740170845065216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-15 00:11:07.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:09.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:11.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:27.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:29.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:34.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38740289405456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:11:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740289405456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:11:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740289405456384 [0;39m ==> Parameters: 
2023-05-15 00:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740289405456384 [0;39m <==    Updates: 2
2023-05-15 00:11:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38740289405456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:11:35.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:36.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:39.000 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:51.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:11:53.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:12:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38740394271444992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740394271444992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:12:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740394271444992 [0;39m ==> Parameters: 
2023-05-15 00:12:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740394271444992 [0;39m <==    Updates: 0
2023-05-15 00:12:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38740394271444992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 00:12:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38740415251353600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:12:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740415251353600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:12:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740415251353600 [0;39m ==> Parameters: 
2023-05-15 00:12:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740415251353600 [0;39m <==    Updates: 2
2023-05-15 00:12:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38740415251353600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:12:05.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:12:06.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:12:09.035 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:12:13.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38740450361872384 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:12:13.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38740450361872384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:12:13.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38740450361872384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:12:13.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38740450361872384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:12:13.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38740450361872384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:12:13.388 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38740450361872384 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:12:13.388 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38740450361872384 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:12:13.388 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740450361872384 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:12:13.390 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740450361872384 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:12:13.390 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740450361872384 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:12:13.391 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38740450361872384 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:12:13.391 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38740450361872384 [0;39m <==      Total: 3
2023-05-15 00:12:13.391 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:12:13.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:12:13.392 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740450361872384 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:12:13.393 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740450361872384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:12:13.393 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m <==      Total: 1
2023-05-15 00:12:13.393 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:12:13.394 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:12:13.394 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740450361872384 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:12:13.395 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740450361872384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:12:13.395 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m <==      Total: 1
2023-05-15 00:12:13.395 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:12:13.396 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:12:13.396 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740450361872384 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:12:13.396 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740450361872384 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:12:13.397 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m <==      Total: 1
2023-05-15 00:12:13.397 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:12:13.397 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:12:13.398 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740450361872384 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:12:13.398 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38740450361872384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:12:13.398 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38740450361872384 [0;39m <==      Total: 1
2023-05-15 00:12:13.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38740450361872384 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:12:13.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38740450361872384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 00:12:15.398 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:12:17.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:12:34.929 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:12:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38740541051113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:12:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740541051113472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:12:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740541051113472 [0;39m ==> Parameters: 
2023-05-15 00:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740541051113472 [0;39m <==    Updates: 2
2023-05-15 00:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38740541051113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:12:35.351 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:12:39.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:12:43.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:13:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38740645904519168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:13:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740645904519168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:13:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740645904519168 [0;39m ==> Parameters: 
2023-05-15 00:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740645904519168 [0;39m <==    Updates: 0
2023-05-15 00:13:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38740645904519168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 00:13:04.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:13:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38740666863456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:13:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740666863456256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:13:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740666863456256 [0;39m ==> Parameters: 
2023-05-15 00:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740666863456256 [0;39m <==    Updates: 2
2023-05-15 00:13:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38740666863456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:13:05.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:13:09.002 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:13:11.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:13:33.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:13:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38740792705159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:13:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740792705159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:13:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740792705159168 [0;39m ==> Parameters: 
2023-05-15 00:13:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740792705159168 [0;39m <==    Updates: 2
2023-05-15 00:13:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38740792705159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:13:35.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:13:35.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:13:41.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:13:57.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:13:59.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:14:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38740897537593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:14:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740897537593344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:14:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740897537593344 [0;39m ==> Parameters: 
2023-05-15 00:14:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38740897537593344 [0;39m <==    Updates: 0
2023-05-15 00:14:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38740897537593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 00:14:04.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:14:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38740918538473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:14:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740918538473472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:14:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740918538473472 [0;39m ==> Parameters: 
2023-05-15 00:14:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38740918538473472 [0;39m <==    Updates: 2
2023-05-15 00:14:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38740918538473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 00:14:05.349 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:14:09.004 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:14:23.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:14:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38741044359204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:14:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741044359204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:14:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741044359204864 [0;39m ==> Parameters: 
2023-05-15 00:14:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741044359204864 [0;39m <==    Updates: 2
2023-05-15 00:14:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38741044359204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:14:35.383 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:14:37.361 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:14:39.386 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:14:43.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741080832872448 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:14:43.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741080832872448 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:14:43.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741080832872448 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:14:43.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741080832872448 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:14:43.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741080832872448 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:14:43.705 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741080832872448 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:14:43.706 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741080832872448 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:43.707 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741080832872448 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:14:43.707 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741080832872448 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 377, 7
2023-05-15 00:14:43.708 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741080832872448 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:14:43.708 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741080832872448 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:14:43.708 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741080832872448 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:14:43.708 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741080832872448 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:14:43.709 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741080832872448 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:14:43.710 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741080832872448 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:14:43.710 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741080832872448 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:14:43.710 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741080832872448 [0;39m <==      Total: 8
2023-05-15 00:14:43.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741080832872448 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":377,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:14:43.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741080832872448 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 00:14:43.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741080950312960 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:14:43.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741080950312960 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:14:43.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741080950312960 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:14:43.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741080950312960 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:14:43.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741080950312960 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:14:43.732 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741080950312960 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:14:43.732 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741080950312960 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:43.733 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741080950312960 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:14:43.733 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741080950312960 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:14:43.734 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741080950312960 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:14:43.734 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741080950312960 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:14:43.734 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741080950312960 [0;39m <==      Total: 3
2023-05-15 00:14:43.735 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:14:43.735 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:43.736 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741080950312960 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:14:43.736 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741080950312960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:14:43.736 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m <==      Total: 1
2023-05-15 00:14:43.737 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:14:43.737 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:43.738 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741080950312960 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:14:43.738 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741080950312960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:14:43.738 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m <==      Total: 1
2023-05-15 00:14:43.739 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:14:43.739 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:14:43.739 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741080950312960 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:14:43.740 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741080950312960 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:14:43.740 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m <==      Total: 1
2023-05-15 00:14:43.741 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:14:43.741 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:43.741 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741080950312960 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:14:43.742 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741080950312960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:14:43.742 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741080950312960 [0;39m <==      Total: 1
2023-05-15 00:14:43.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741080950312960 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:14:43.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741080950312960 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 00:14:43.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741081667538944 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:14:43.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741081667538944 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:14:43.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741081667538944 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:14:43.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741081667538944 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:14:43.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741081667538944 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:14:43.902 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741081667538944 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:14:43.902 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741081667538944 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:43.903 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741081667538944 [0;39m <==    Columns: id, content
2023-05-15 00:14:43.903 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741081667538944 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:14:43.904 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741081667538944 [0;39m <==      Total: 1
2023-05-15 00:14:43.904 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741081667538944 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:14:43.904 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741081667538944 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:43.913 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741081667538944 [0;39m <==    Updates: 1
2023-05-15 00:14:43.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741081667538944 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:14:43.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741081667538944 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 00:14:44.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741082481233920 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:14:44.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741082481233920 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:14:44.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741082481233920 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:14:44.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741082481233920 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:14:44.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741082481233920 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:14:44.096 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741082481233920 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:14:44.097 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741082481233920 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:44.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741082493816832 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:14:44.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741082493816832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:14:44.098 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741082481233920 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:14:44.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741082493816832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:14:44.098 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741082481233920 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 378, 7
2023-05-15 00:14:44.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741082493816832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:14:44.099 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741082481233920 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:14:44.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741082493816832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:14:44.099 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741082481233920 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:14:44.099 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741082481233920 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:14:44.099 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741082481233920 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:14:44.100 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741082481233920 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:14:44.100 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741082481233920 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:14:44.100 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741082481233920 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:14:44.100 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741082481233920 [0;39m <==      Total: 8
2023-05-15 00:14:44.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741082481233920 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":378,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:14:44.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741082481233920 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 00:14:44.107 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741082493816832 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:14:44.108 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741082493816832 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:44.109 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741082493816832 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:14:44.109 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741082493816832 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:14:44.111 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741082493816832 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:14:44.111 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741082493816832 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:14:44.111 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741082493816832 [0;39m <==      Total: 3
2023-05-15 00:14:44.112 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:14:44.112 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:44.113 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741082493816832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:14:44.113 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741082493816832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:14:44.113 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m <==      Total: 1
2023-05-15 00:14:44.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:14:44.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:44.115 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741082493816832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:14:44.115 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741082493816832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:14:44.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m <==      Total: 1
2023-05-15 00:14:44.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:14:44.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:14:44.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741082493816832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:14:44.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741082493816832 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:14:44.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m <==      Total: 1
2023-05-15 00:14:44.119 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:14:44.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:44.123 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741082493816832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:14:44.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741082493816832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:14:44.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741082493816832 [0;39m <==      Total: 1
2023-05-15 00:14:44.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741082493816832 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:14:44.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741082493816832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2023-05-15 00:14:44.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741082783223808 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:14:44.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741082783223808 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:14:44.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741082783223808 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:14:44.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741082783223808 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:14:44.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741082783223808 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:14:44.168 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741082783223808 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:14:44.168 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741082783223808 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:44.169 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741082783223808 [0;39m <==    Columns: id, content
2023-05-15 00:14:44.169 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741082783223808 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:14:44.171 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741082783223808 [0;39m <==      Total: 1
2023-05-15 00:14:44.171 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741082783223808 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:14:44.171 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741082783223808 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:14:44.173 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741082783223808 [0;39m <==    Updates: 1
2023-05-15 00:14:44.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741082783223808 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:14:44.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741082783223808 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 00:14:47.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38741149220999168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:15:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741149220999168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741149220999168 [0;39m ==> Parameters: 
2023-05-15 00:15:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741149220999168 [0;39m <==    Updates: 0
2023-05-15 00:15:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38741149220999168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 00:15:01.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741156523282432 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:15:01.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741156523282432 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:15:01.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741156523282432 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:15:01.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741156523282432 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:15:01.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741156523282432 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:15:01.751 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741156523282432 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:15:01.751 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741156523282432 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:01.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741156523282432 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:15:01.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741156523282432 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 379, 7
2023-05-15 00:15:01.753 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741156523282432 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:15:01.753 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741156523282432 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:15:01.753 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741156523282432 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:15:01.753 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741156523282432 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:15:01.754 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741156523282432 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:15:01.754 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741156523282432 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:15:01.754 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741156523282432 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:15:01.754 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741156523282432 [0;39m <==      Total: 8
2023-05-15 00:15:01.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741156523282432 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":379,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:15:01.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741156523282432 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 00:15:01.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741156569419776 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:15:01.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741156569419776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:15:01.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741156569419776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:15:01.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741156569419776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:15:01.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741156569419776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:15:01.760 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741156569419776 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:15:01.761 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741156569419776 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:01.762 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741156569419776 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:15:01.762 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741156569419776 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:15:01.762 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741156569419776 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:15:01.763 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741156569419776 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:15:01.763 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741156569419776 [0;39m <==      Total: 3
2023-05-15 00:15:01.764 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:01.764 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:01.764 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741156569419776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:01.765 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741156569419776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:15:01.765 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m <==      Total: 1
2023-05-15 00:15:01.765 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:01.766 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:01.766 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741156569419776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:01.766 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741156569419776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:15:01.767 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m <==      Total: 1
2023-05-15 00:15:01.767 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:01.767 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:15:01.768 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741156569419776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:01.768 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741156569419776 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:15:01.768 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m <==      Total: 1
2023-05-15 00:15:01.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:01.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:01.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741156569419776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:01.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741156569419776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:15:01.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741156569419776 [0;39m <==      Total: 1
2023-05-15 00:15:01.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741156569419776 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:15:01.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741156569419776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 00:15:01.860 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741156993044480 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:15:01.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741156993044480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:15:01.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741156993044480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:15:01.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741156993044480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:15:01.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741156993044480 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:15:01.862 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741156993044480 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:15:01.862 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741156993044480 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:01.863 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741156993044480 [0;39m <==    Columns: id, content
2023-05-15 00:15:01.863 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741156993044480 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:15:01.864 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741156993044480 [0;39m <==      Total: 1
2023-05-15 00:15:01.864 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741156993044480 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:15:01.864 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741156993044480 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:01.872 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741156993044480 [0;39m <==    Updates: 1
2023-05-15 00:15:01.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741156993044480 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:15:01.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741156993044480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 00:15:04.928 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38741170184130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:15:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741170184130560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:15:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741170184130560 [0;39m ==> Parameters: 
2023-05-15 00:15:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741170184130560 [0;39m <==    Updates: 2
2023-05-15 00:15:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38741170184130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 00:15:05.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:06.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:09.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:11.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:13.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:31.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741282247544832 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:15:31.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741282247544832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:15:31.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741282247544832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:15:31.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741282247544832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:15:31.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741282247544832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:15:31.725 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741282247544832 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:15:31.726 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741282247544832 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:31.727 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741282247544832 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:15:31.727 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741282247544832 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 380, 7
2023-05-15 00:15:31.727 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741282247544832 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:15:31.727 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741282247544832 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:15:31.727 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741282247544832 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:15:31.728 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741282247544832 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:15:31.728 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741282247544832 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:15:31.728 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741282247544832 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:15:31.728 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741282247544832 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:15:31.729 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741282247544832 [0;39m <==      Total: 8
2023-05-15 00:15:31.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741282247544832 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":380,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:15:31.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741282247544832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 00:15:31.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741282293682176 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:15:31.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741282293682176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:15:31.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741282293682176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:15:31.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741282293682176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:15:31.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741282293682176 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:15:31.735 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741282293682176 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:15:31.736 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741282293682176 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:31.737 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741282293682176 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:15:31.737 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741282293682176 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:15:31.737 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741282293682176 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:15:31.738 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741282293682176 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:15:31.738 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741282293682176 [0;39m <==      Total: 3
2023-05-15 00:15:31.738 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:31.739 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:31.740 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741282293682176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:31.740 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741282293682176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:15:31.740 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m <==      Total: 1
2023-05-15 00:15:31.741 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:31.741 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:31.742 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741282293682176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:31.742 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741282293682176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:15:31.742 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m <==      Total: 1
2023-05-15 00:15:31.742 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:31.742 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:15:31.743 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741282293682176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:31.743 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741282293682176 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:15:31.743 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m <==      Total: 1
2023-05-15 00:15:31.744 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:31.745 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:31.746 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741282293682176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:31.746 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741282293682176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:15:31.746 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741282293682176 [0;39m <==      Total: 1
2023-05-15 00:15:31.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741282293682176 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:15:31.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741282293682176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 00:15:31.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741282574700544 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:15:31.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741282574700544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:15:31.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741282574700544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:15:31.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741282574700544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:15:31.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741282574700544 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:15:31.802 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741282574700544 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:15:31.803 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741282574700544 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:31.804 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741282574700544 [0;39m <==    Columns: id, content
2023-05-15 00:15:31.804 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741282574700544 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:15:31.804 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741282574700544 [0;39m <==      Total: 1
2023-05-15 00:15:31.805 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741282574700544 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:15:31.805 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741282574700544 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:31.807 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741282574700544 [0;39m <==    Updates: 1
2023-05-15 00:15:31.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741282574700544 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:15:31.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741282574700544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 00:15:34.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38741296013250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:15:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741296013250560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:15:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741296013250560 [0;39m ==> Parameters: 
2023-05-15 00:15:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741296013250560 [0;39m <==    Updates: 2
2023-05-15 00:15:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38741296013250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 00:15:35.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:39.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:41.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:15:57.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741388527013888 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:15:57.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741388527013888 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:15:57.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741388527013888 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:15:57.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741388527013888 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:15:57.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741388527013888 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:15:57.064 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741388527013888 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:15:57.064 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741388527013888 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:57.065 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741388527013888 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:15:57.065 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741388527013888 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 381, 7
2023-05-15 00:15:57.067 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741388527013888 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:15:57.067 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741388527013888 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:15:57.067 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741388527013888 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:15:57.067 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741388527013888 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:15:57.067 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741388527013888 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:15:57.068 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741388527013888 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:15:57.068 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741388527013888 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:15:57.068 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741388527013888 [0;39m <==      Total: 8
2023-05-15 00:15:57.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741388527013888 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":381,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:15:57.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741388527013888 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 00:15:57.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741388577345536 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:15:57.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741388577345536 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:15:57.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741388577345536 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:15:57.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741388577345536 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:15:57.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741388577345536 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:15:57.075 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741388577345536 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:15:57.075 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741388577345536 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:57.076 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741388577345536 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:15:57.076 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741388577345536 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:15:57.077 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741388577345536 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:15:57.078 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741388577345536 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:15:57.078 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741388577345536 [0;39m <==      Total: 3
2023-05-15 00:15:57.079 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:57.079 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:57.079 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741388577345536 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:57.080 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741388577345536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:15:57.080 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m <==      Total: 1
2023-05-15 00:15:57.080 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:57.080 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:57.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741388577345536 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:57.082 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741388577345536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:15:57.082 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m <==      Total: 1
2023-05-15 00:15:57.082 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:57.083 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:15:57.083 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741388577345536 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:57.083 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741388577345536 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:15:57.084 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m <==      Total: 1
2023-05-15 00:15:57.084 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:15:57.084 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:57.085 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741388577345536 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:15:57.085 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741388577345536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:15:57.085 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741388577345536 [0;39m <==      Total: 1
2023-05-15 00:15:57.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741388577345536 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:15:57.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741388577345536 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 00:15:57.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741388665425920 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:15:57.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741388665425920 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:15:57.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741388665425920 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:15:57.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741388665425920 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:15:57.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741388665425920 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:15:57.097 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741388665425920 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:15:57.097 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741388665425920 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:57.097 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741388665425920 [0;39m <==    Columns: id, content
2023-05-15 00:15:57.099 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741388665425920 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:15:57.099 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741388665425920 [0;39m <==      Total: 1
2023-05-15 00:15:57.099 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741388665425920 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:15:57.100 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741388665425920 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:15:57.107 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741388665425920 [0;39m <==    Updates: 1
2023-05-15 00:15:57.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741388665425920 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:15:57.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741388665425920 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 00:16:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38741400875044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:16:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741400875044864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:16:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741400875044864 [0;39m ==> Parameters: 
2023-05-15 00:16:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741400875044864 [0;39m <==    Updates: 0
2023-05-15 00:16:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38741400875044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-15 00:16:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38741421871730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:16:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741421871730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:16:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741421871730688 [0;39m ==> Parameters: 
2023-05-15 00:16:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741421871730688 [0;39m <==    Updates: 2
2023-05-15 00:16:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38741421871730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 00:16:05.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:05.354 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:09.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:11.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:27.373 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:29.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:30.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741528008593409 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:16:30.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741528008593408 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:16:30.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741528008593409 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:16:30.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741528008593408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:16:30.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741528008593409 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:16:30.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741528008593408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:16:30.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741528008593408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:16:30.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741528008593409 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:16:30.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741528008593408 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:16:30.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741528008593409 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:16:30.318 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741528008593408 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:16:30.318 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741528008593408 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:30.319 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741528008593409 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:16:30.319 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741528008593409 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:30.319 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741528008593408 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:16:30.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741528008593408 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:16:30.320 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741528008593409 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:16:30.320 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741528008593409 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 382, 7
2023-05-15 00:16:30.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741528008593408 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:16:30.320 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741528008593409 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:16:30.320 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741528008593409 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:16:30.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741528008593408 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:16:30.321 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741528008593409 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:16:30.321 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741528008593408 [0;39m <==      Total: 3
2023-05-15 00:16:30.321 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741528008593409 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:16:30.321 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:30.321 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741528008593409 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:16:30.321 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:30.321 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741528008593409 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:16:30.322 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741528008593409 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:16:30.322 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741528008593409 [0;39m <==      Total: 8
2023-05-15 00:16:30.322 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741528008593408 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:30.322 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741528008593408 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:16:30.322 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m <==      Total: 1
2023-05-15 00:16:30.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741528008593409 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":382,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:16:30.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741528008593409 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 00:16:30.323 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:30.323 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:30.323 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741528008593408 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:30.323 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741528008593408 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:16:30.324 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m <==      Total: 1
2023-05-15 00:16:30.324 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:30.324 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:16:30.324 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741528008593408 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:30.325 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741528008593408 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:16:30.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m <==      Total: 1
2023-05-15 00:16:30.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:30.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:30.325 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741528008593408 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:30.327 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741528008593408 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:16:30.327 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741528008593408 [0;39m <==      Total: 1
2023-05-15 00:16:30.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741528008593408 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:16:30.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741528008593408 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 00:16:30.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741528100868096 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:16:30.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741528100868096 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:16:30.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741528100868096 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:16:30.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741528100868096 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:16:30.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741528100868096 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:16:30.341 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741528100868096 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:16:30.341 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741528100868096 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:30.342 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741528100868096 [0;39m <==    Columns: id, content
2023-05-15 00:16:30.342 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741528100868096 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:16:30.342 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741528100868096 [0;39m <==      Total: 1
2023-05-15 00:16:30.342 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741528100868096 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:16:30.342 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741528100868096 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:30.350 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741528100868096 [0;39m <==    Updates: 1
2023-05-15 00:16:30.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741528100868096 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:16:30.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741528100868096 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-15 00:16:34.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38741547654713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:16:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741547654713344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:16:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741547654713344 [0;39m ==> Parameters: 
2023-05-15 00:16:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741547654713344 [0;39m <==    Updates: 2
2023-05-15 00:16:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38741547654713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 00:16:35.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:36.949 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:38.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:39.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741566571024384 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:16:39.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741566571024385 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:16:39.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741566571024384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:16:39.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741566571024385 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:16:39.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741566571024384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:16:39.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741566571024385 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:16:39.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741566571024385 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:16:39.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741566571024384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:16:39.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741566571024385 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:16:39.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741566571024384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:16:39.513 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741566571024385 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:16:39.513 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741566571024384 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:16:39.514 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741566571024384 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:39.514 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741566571024385 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:39.514 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741566571024385 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:16:39.514 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741566571024384 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:16:39.515 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741566571024384 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 383, 7
2023-05-15 00:16:39.515 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741566571024385 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:16:39.515 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741566571024384 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:16:39.515 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741566571024384 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:16:39.515 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741566571024385 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:16:39.515 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741566571024384 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:16:39.515 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741566571024385 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:16:39.515 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741566571024384 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:16:39.516 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741566571024385 [0;39m <==      Total: 3
2023-05-15 00:16:39.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741566571024384 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:16:39.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741566571024384 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:16:39.516 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:39.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741566571024384 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:16:39.516 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:39.516 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741566571024384 [0;39m <==      Total: 8
2023-05-15 00:16:39.517 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741566571024385 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:39.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741566571024384 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":383,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:16:39.517 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741566571024385 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:16:39.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741566571024384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 00:16:39.517 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m <==      Total: 1
2023-05-15 00:16:39.517 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:39.518 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:39.518 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741566571024385 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:39.518 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741566571024385 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:16:39.519 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m <==      Total: 1
2023-05-15 00:16:39.519 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:39.519 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:16:39.519 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741566571024385 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:39.519 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741566571024385 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:16:39.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m <==      Total: 1
2023-05-15 00:16:39.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:39.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:39.521 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741566571024385 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:39.521 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741566571024385 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:16:39.521 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741566571024385 [0;39m <==      Total: 1
2023-05-15 00:16:39.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741566571024385 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:16:39.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741566571024385 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-15 00:16:39.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741566684270592 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:16:39.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741566684270592 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:16:39.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741566684270592 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:16:39.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741566684270592 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:16:39.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741566684270592 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:16:39.539 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741566684270592 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:16:39.539 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741566684270592 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:39.540 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741566684270592 [0;39m <==    Columns: id, content
2023-05-15 00:16:39.541 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741566684270592 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:16:39.541 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741566684270592 [0;39m <==      Total: 1
2023-05-15 00:16:39.541 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741566684270592 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:16:39.541 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741566684270592 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:39.543 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741566684270592 [0;39m <==    Updates: 1
2023-05-15 00:16:39.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741566684270592 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:16:39.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741566684270592 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 00:16:47.135 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38741082783223808 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šjcNPJOcM4Cï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 00:16:48.681 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38741388577345536 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šu3ivsb5feAï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 00:16:48.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741605477388288 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:16:48.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741605477388289 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:16:48.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741605477388288 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:16:48.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741605477388289 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:16:48.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741605477388288 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:16:48.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741605477388288 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:16:48.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741605477388289 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:16:48.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741605477388289 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:16:48.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741605477388288 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:16:48.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741605477388289 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:16:48.788 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741605477388288 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:16:48.790 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741605477388288 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:48.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741605477388288 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:16:48.791 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741605477388289 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:16:48.791 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741605477388289 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:48.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741605477388288 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:16:48.792 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741605477388288 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:16:48.792 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741605477388289 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:16:48.792 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741605477388288 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:16:48.792 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741605477388289 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 384, 7
2023-05-15 00:16:48.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741605477388289 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:16:48.793 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741605477388288 [0;39m <==      Total: 3
2023-05-15 00:16:48.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741605477388289 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:16:48.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741605477388289 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:16:48.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:48.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741605477388289 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:16:48.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:48.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741605477388289 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:16:48.794 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741605477388289 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:16:48.794 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741605477388289 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:16:48.794 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741605477388289 [0;39m <==      Total: 8
2023-05-15 00:16:48.794 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741605477388288 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:48.794 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741605477388288 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:16:48.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m <==      Total: 1
2023-05-15 00:16:48.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741605477388289 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":384,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:16:48.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741605477388289 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 00:16:48.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:48.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:48.796 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741605477388288 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:48.796 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741605477388288 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:16:48.796 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m <==      Total: 1
2023-05-15 00:16:48.797 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:48.797 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:16:48.797 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741605477388288 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:48.797 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741605477388288 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:16:48.798 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m <==      Total: 1
2023-05-15 00:16:48.798 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:16:48.798 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:48.799 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741605477388288 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:16:48.799 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741605477388288 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:16:48.799 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741605477388288 [0;39m <==      Total: 1
2023-05-15 00:16:48.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741605477388288 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:16:48.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741605477388288 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 00:16:48.860 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741605783572480 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:16:48.860 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741605783572480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:16:48.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741605783572480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:16:48.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741605783572480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:16:48.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741605783572480 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:16:48.861 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741605783572480 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:16:48.862 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741605783572480 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:48.864 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741605783572480 [0;39m <==    Columns: id, content
2023-05-15 00:16:48.864 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741605783572480 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:16:48.865 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741605783572480 [0;39m <==      Total: 1
2023-05-15 00:16:48.865 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741605783572480 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:16:48.866 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741605783572480 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:16:48.874 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741605783572480 [0;39m <==    Updates: 1
2023-05-15 00:16:48.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741605783572480 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:16:48.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741605783572480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-15 00:16:51.460 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:16:53.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:17:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38741652541673472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:17:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741652541673472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:17:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741652541673472 [0;39m ==> Parameters: 
2023-05-15 00:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741652541673472 [0;39m <==    Updates: 0
2023-05-15 00:17:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38741652541673472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 00:17:04.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:17:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38741673496416256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:17:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741673496416256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:17:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741673496416256 [0;39m ==> Parameters: 
2023-05-15 00:17:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741673496416256 [0;39m <==    Updates: 2
2023-05-15 00:17:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38741673496416256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 00:17:05.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:17:09.001 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:17:09.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741693792653312 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:17:09.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741693792653312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:17:09.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741693792653312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:17:09.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741693792653312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:17:09.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741693813624832 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:17:09.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741693792653312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:17:09.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741693813624832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:17:09.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741693813624832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:17:09.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741693813624832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:17:09.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741693813624832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:17:09.851 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741693813624832 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:17:09.852 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741693813624832 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:17:09.853 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741693792653312 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:17:09.853 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741693792653312 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:17:09.853 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741693813624832 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:17:09.853 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741693813624832 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:17:09.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741693792653312 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:17:09.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741693792653312 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 385, 7
2023-05-15 00:17:09.854 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741693813624832 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:17:09.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741693792653312 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:17:09.854 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741693813624832 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:17:09.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741693792653312 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:17:09.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741693792653312 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:17:09.855 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741693813624832 [0;39m <==      Total: 3
2023-05-15 00:17:09.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741693792653312 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:17:09.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741693792653312 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:17:09.855 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:17:09.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741693792653312 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:17:09.855 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:17:09.856 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741693792653312 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:17:09.856 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741693792653312 [0;39m <==      Total: 8
2023-05-15 00:17:09.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741693813624832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:17:09.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741693813624832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:17:09.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m <==      Total: 1
2023-05-15 00:17:09.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741693792653312 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":385,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:17:09.857 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:17:09.857 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:17:09.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741693792653312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-15 00:17:09.857 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741693813624832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:17:09.859 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741693813624832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:17:09.860 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m <==      Total: 1
2023-05-15 00:17:09.861 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:17:09.861 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:17:09.862 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741693813624832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:17:09.862 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741693813624832 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:17:09.862 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m <==      Total: 1
2023-05-15 00:17:09.862 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:17:09.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:17:09.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741693813624832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:17:09.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741693813624832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:17:09.864 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741693813624832 [0;39m <==      Total: 1
2023-05-15 00:17:09.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741693813624832 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:17:09.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741693813624832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 00:17:10.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741694958669824 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:17:10.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741694958669824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:17:10.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741694958669824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:17:10.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741694958669824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:17:10.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741694958669824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:17:10.122 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741694958669824 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:17:10.124 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741694958669824 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:17:10.125 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741694958669824 [0;39m <==    Columns: id, content
2023-05-15 00:17:10.126 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741694958669824 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:17:10.126 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741694958669824 [0;39m <==      Total: 1
2023-05-15 00:17:10.126 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741694958669824 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:17:10.127 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741694958669824 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:17:10.166 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741694958669824 [0;39m <==    Updates: 1
2023-05-15 00:17:10.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741694958669824 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:17:10.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741694958669824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š46 ms -------------
2023-05-15 00:17:17.583 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:17:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38741799346507776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:17:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741799346507776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:17:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741799346507776 [0;39m ==> Parameters: 
2023-05-15 00:17:35.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741799346507776 [0;39m <==    Updates: 2
2023-05-15 00:17:35.028 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38741799346507776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 00:17:35.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:17:36.953 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:17:39.010 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:17:41.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:17:43.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:18:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38741904199913472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:18:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741904199913472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741904199913472 [0;39m ==> Parameters: 
2023-05-15 00:18:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38741904199913472 [0;39m <==    Updates: 0
2023-05-15 00:18:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38741904199913472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-15 00:18:04.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:18:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38741925171433472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:18:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741925171433472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:18:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741925171433472 [0;39m ==> Parameters: 
2023-05-15 00:18:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38741925171433472 [0;39m <==    Updates: 2
2023-05-15 00:18:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38741925171433472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 00:18:05.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:18:06.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:18:09.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:18:11.057 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:18:11.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741952744787968 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:18:11.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741952744787968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:18:11.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741952744787968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:18:11.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741952744787968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:18:11.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741952744787968 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:18:11.584 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741952744787968 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:18:11.585 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741952744787968 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741952744787968 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:18:11.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741952744787968 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 386, 7
2023-05-15 00:18:11.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741952744787968 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:18:11.587 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741952744787968 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:18:11.587 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741952744787968 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:18:11.587 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741952744787968 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:18:11.587 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741952744787968 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:18:11.588 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741952744787968 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:18:11.588 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741952744787968 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:18:11.588 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741952744787968 [0;39m <==      Total: 8
2023-05-15 00:18:11.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741952744787968 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":386,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:18:11.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741952744787968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 00:18:11.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741952795119616 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:18:11.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741952795119616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:18:11.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741952795119616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:18:11.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741952795119616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:18:11.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741952795119616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:18:11.595 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741952795119616 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:18:11.595 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741952795119616 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.596 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741952795119616 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:18:11.596 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741952795119616 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:18:11.597 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741952795119616 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:18:11.597 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741952795119616 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:18:11.597 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741952795119616 [0;39m <==      Total: 3
2023-05-15 00:18:11.598 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:18:11.598 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.599 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741952795119616 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:18:11.599 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741952795119616 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:18:11.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m <==      Total: 1
2023-05-15 00:18:11.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:18:11.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741952795119616 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:18:11.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741952795119616 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:18:11.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m <==      Total: 1
2023-05-15 00:18:11.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:18:11.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:18:11.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741952795119616 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:18:11.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741952795119616 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:18:11.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m <==      Total: 1
2023-05-15 00:18:11.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:18:11.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741952795119616 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:18:11.604 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741952795119616 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:18:11.604 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741952795119616 [0;39m <==      Total: 1
2023-05-15 00:18:11.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741952795119616 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:18:11.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741952795119616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 00:18:11.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741953189384192 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:18:11.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741953189384192 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:18:11.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741953189384192 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:18:11.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741953189384192 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:18:11.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741953189384192 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:18:11.689 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741953189384192 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:18:11.689 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741953189384192 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.690 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741953189384192 [0;39m <==    Columns: id, content
2023-05-15 00:18:11.691 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741953189384192 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:18:11.691 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741953189384192 [0;39m <==      Total: 1
2023-05-15 00:18:11.691 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741953189384192 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:18:11.692 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741953189384192 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.694 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741953189384192 [0;39m <==    Updates: 1
2023-05-15 00:18:11.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741953189384192 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:18:11.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741953189384192 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 00:18:11.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741953298436096 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:18:11.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741953298436097 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:18:11.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741953298436097 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:18:11.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741953298436096 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:18:11.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741953298436097 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:18:11.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741953298436096 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:18:11.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741953298436097 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:18:11.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741953298436096 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:18:11.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741953298436097 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:18:11.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741953298436096 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:18:11.715 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741953298436097 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:18:11.715 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741953298436097 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.715 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741953298436096 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:18:11.715 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741953298436096 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.716 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741953298436097 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:18:11.716 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741953298436096 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:18:11.716 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741953298436096 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 387, 7
2023-05-15 00:18:11.716 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741953298436097 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:18:11.717 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741953298436096 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:18:11.717 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741953298436096 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:18:11.717 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741953298436097 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:18:11.717 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741953298436096 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:18:11.717 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38741953298436097 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:18:11.717 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741953298436096 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:18:11.718 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741953298436096 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:18:11.717 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38741953298436097 [0;39m <==      Total: 3
2023-05-15 00:18:11.718 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741953298436096 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:18:11.718 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:18:11.718 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38741953298436096 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:18:11.718 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.718 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38741953298436096 [0;39m <==      Total: 8
2023-05-15 00:18:11.719 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741953298436097 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:18:11.719 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741953298436097 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:18:11.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741953298436096 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":387,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:18:11.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741953298436096 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 00:18:11.719 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m <==      Total: 1
2023-05-15 00:18:11.719 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:18:11.720 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.720 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741953298436097 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:18:11.720 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741953298436097 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:18:11.721 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m <==      Total: 1
2023-05-15 00:18:11.721 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:18:11.721 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:18:11.722 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741953298436097 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:18:11.722 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741953298436097 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:18:11.722 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m <==      Total: 1
2023-05-15 00:18:11.723 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:18:11.723 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.723 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741953298436097 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:18:11.723 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38741953298436097 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:18:11.724 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38741953298436097 [0;39m <==      Total: 1
2023-05-15 00:18:11.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741953298436097 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:18:11.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741953298436097 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 00:18:11.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38741953407488000 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:18:11.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38741953407488000 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:18:11.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38741953407488000 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:18:11.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38741953407488000 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:18:11.741 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38741953407488000 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:18:11.741 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741953407488000 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:18:11.741 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741953407488000 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.742 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741953407488000 [0;39m <==    Columns: id, content
2023-05-15 00:18:11.742 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38741953407488000 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:18:11.743 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38741953407488000 [0;39m <==      Total: 1
2023-05-15 00:18:11.743 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741953407488000 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:18:11.743 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741953407488000 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:18:11.745 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38741953407488000 [0;39m <==    Updates: 1
2023-05-15 00:18:11.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38741953407488000 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:18:11.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38741953407488000 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 00:18:33.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:18:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38742050987970560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:18:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38742050987970560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:18:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38742050987970560 [0;39m ==> Parameters: 
2023-05-15 00:18:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38742050987970560 [0;39m <==    Updates: 2
2023-05-15 00:18:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38742050987970560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 00:18:35.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:18:37.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:18:39.241 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:18:58.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38742155879124992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:19:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38742155879124992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:19:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38742155879124992 [0;39m ==> Parameters: 
2023-05-15 00:19:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38742155879124992 [0;39m <==    Updates: 0
2023-05-15 00:19:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38742155879124992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 00:19:00.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:04.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38742175655268352 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:19:04.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38742175655268353 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:19:04.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38742175655268352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:19:04.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38742175655268353 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:19:04.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38742175655268352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:19:04.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38742175655268353 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:19:04.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38742175655268352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:19:04.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38742175655268353 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:19:04.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38742175655268352 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:19:04.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38742175655268353 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:19:04.729 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38742175655268352 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:19:04.729 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38742175655268353 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:19:04.729 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38742175655268352 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:04.729 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38742175655268353 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:04.730 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742175655268352 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:19:04.730 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742175655268353 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:19:04.730 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742175655268352 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:19:04.730 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742175655268353 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 388, 7
2023-05-15 00:19:04.731 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742175655268353 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:19:04.731 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742175655268352 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:19:04.731 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742175655268353 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:19:04.731 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742175655268352 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:19:04.731 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742175655268353 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:19:04.731 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38742175655268352 [0;39m <==      Total: 3
2023-05-15 00:19:04.731 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742175655268353 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:19:04.732 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742175655268353 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:19:04.732 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:04.732 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742175655268353 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:19:04.732 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:04.732 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742175655268353 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:19:04.732 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38742175655268353 [0;39m <==      Total: 8
2023-05-15 00:19:04.732 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742175655268352 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:04.732 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742175655268352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:19:04.733 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m <==      Total: 1
2023-05-15 00:19:04.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38742175655268353 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":388,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:19:04.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38742175655268353 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 00:19:04.733 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:04.733 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:04.734 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742175655268352 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:04.734 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742175655268352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:19:04.734 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m <==      Total: 1
2023-05-15 00:19:04.734 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:04.735 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:19:04.735 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742175655268352 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:04.736 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742175655268352 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:19:04.736 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m <==      Total: 1
2023-05-15 00:19:04.736 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:04.736 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:04.737 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742175655268352 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:04.737 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742175655268352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:19:04.737 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742175655268352 [0;39m <==      Total: 1
2023-05-15 00:19:04.739 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38742175655268352 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:19:04.739 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38742175655268352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-15 00:19:04.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38742175776903168 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:19:04.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38742175776903168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:19:04.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38742175776903168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:19:04.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38742175776903168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:19:04.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38742175776903168 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:19:04.758 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38742175776903168 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:19:04.758 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38742175776903168 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:04.760 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38742175776903168 [0;39m <==    Columns: id, content
2023-05-15 00:19:04.760 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38742175776903168 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:19:04.760 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38742175776903168 [0;39m <==      Total: 1
2023-05-15 00:19:04.760 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38742175776903168 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:19:04.761 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38742175776903168 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:04.768 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38742175776903168 [0;39m <==    Updates: 1
2023-05-15 00:19:04.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38742175776903168 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:19:04.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38742175776903168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-15 00:19:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38742176850644992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38742176850644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38742176850644992 [0;39m ==> Parameters: 
2023-05-15 00:19:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38742176850644992 [0;39m <==    Updates: 2
2023-05-15 00:19:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38742176850644992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 00:19:05.388 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:05.512 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:07.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:09.458 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:11.249 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38741566684270592 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šu3ivsb5feAï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 00:19:13.315 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38741952744787968 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼štYqWFGWRJQï¼Œsession idï¼š2ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 00:19:13.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38742212502228993 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:19:13.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38742212502228992 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:19:13.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38742212502228993 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 00:19:13.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38742212502228992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:19:13.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38742212502228993 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 00:19:13.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38742212502228992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:19:13.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38742212502228993 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:19:13.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38742212502228992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:19:13.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38742212502228993 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:19:13.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38742212502228992 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:19:13.515 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38742212502228992 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:19:13.516 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38742212502228992 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:13.516 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38742212502228993 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 00:19:13.516 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742212502228992 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:19:13.516 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38742212502228993 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:13.516 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742212502228992 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:19:13.517 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742212502228992 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:19:13.517 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742212502228992 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:19:13.518 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38742212502228992 [0;39m <==      Total: 3
2023-05-15 00:19:13.518 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742212502228993 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 00:19:13.518 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742212502228993 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 389, 7
2023-05-15 00:19:13.518 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:13.518 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:13.518 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742212502228993 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 00:19:13.519 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742212502228993 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-15 00:19:13.519 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742212502228992 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:13.519 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742212502228992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:19:13.519 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742212502228993 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-15 00:19:13.519 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m <==      Total: 1
2023-05-15 00:19:13.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:13.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:13.520 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742212502228993 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-15 00:19:13.521 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742212502228993 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-15 00:19:13.521 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742212502228992 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:13.521 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742212502228993 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-15 00:19:13.521 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742212502228992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:19:13.521 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m <==      Total: 1
2023-05-15 00:19:13.521 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38742212502228993 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-15 00:19:13.522 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:13.522 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38742212502228993 [0;39m <==      Total: 8
2023-05-15 00:19:13.522 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:19:13.522 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742212502228992 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:13.523 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742212502228992 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:19:13.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38742212502228993 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":389,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-15 00:19:13.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38742212502228993 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 00:19:13.523 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m <==      Total: 1
2023-05-15 00:19:13.523 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:13.523 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:13.524 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742212502228992 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:13.524 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742212502228992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:19:13.524 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742212502228992 [0;39m <==      Total: 1
2023-05-15 00:19:13.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38742212502228992 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:19:13.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38742212502228992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 00:19:13.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38742213685022720 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:19:13.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38742213685022720 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 00:19:13.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38742213685022720 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 00:19:13.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38742213685022720 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:19:13.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38742213685022720 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:19:13.796 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38742213685022720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 00:19:13.797 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38742213685022720 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:13.797 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38742213685022720 [0;39m <==    Columns: id, content
2023-05-15 00:19:13.798 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38742213685022720 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 00:19:13.798 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38742213685022720 [0;39m <==      Total: 1
2023-05-15 00:19:13.798 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38742213685022720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 00:19:13.799 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38742213685022720 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:13.802 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38742213685022720 [0;39m <==    Updates: 1
2023-05-15 00:19:13.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38742213685022720 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 00:19:13.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38742213685022720 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 00:19:22.312 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:24.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:34.890 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38742302679764992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 00:19:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38742302679764992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 00:19:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38742302679764992 [0;39m ==> Parameters: 
2023-05-15 00:19:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38742302679764992 [0;39m <==    Updates: 2
2023-05-15 00:19:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38742302679764992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 00:19:35.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:36.934 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:38.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:39.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38742321692545024 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 00:19:39.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38742321692545024 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 00:19:39.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38742321692545024 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 00:19:39.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38742321692545024 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 00:19:39.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38742321692545024 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 00:19:39.548 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38742321692545024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 00:19:39.548 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38742321692545024 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:39.549 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742321692545024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-15 00:19:39.549 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742321692545024 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 00:19:39.549 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742321692545024 [0;39m <==        Row: 2, 1, 1, null, null, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-15 00:19:39.551 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38742321692545024 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-15 00:19:39.551 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38742321692545024 [0;39m <==      Total: 3
2023-05-15 00:19:39.552 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:39.552 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:39.553 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742321692545024 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:39.553 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742321692545024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:19:39.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m <==      Total: 1
2023-05-15 00:19:39.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:39.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:39.554 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742321692545024 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:39.554 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742321692545024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:19:39.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m <==      Total: 1
2023-05-15 00:19:39.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:39.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m ==> Parameters: 2(Long)
2023-05-15 00:19:39.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742321692545024 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:39.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742321692545024 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-15 00:19:39.556 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m <==      Total: 1
2023-05-15 00:19:39.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 00:19:39.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m ==> Parameters: 1(Long)
2023-05-15 00:19:39.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742321692545024 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 00:19:39.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38742321692545024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-15 00:19:39.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38742321692545024 [0;39m <==      Total: 1
2023-05-15 00:19:39.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38742321692545024 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-15 00:19:39.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38742321692545024 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 00:19:46.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:19:48.442 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-15 00:20:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38742407533170688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 00:20:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38742407533170688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 00:20:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38742407533170688 [0;39m ==> Parameters: 
2023-05-15 00:20:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38742407533170688 [0;39m <==    Updates: 0
2023-05-15 00:20:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38742407533170688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:11:35.604 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-15 10:11:35.618 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.5 on åº·ä¿Šæ° with PID 9712 (D:\Coun-Vue\target\classes started by 82413 in D:\Coun-Vue)
2023-05-15 10:11:35.619 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-15 10:11:35.652 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-15 10:11:35.652 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-15 10:11:36.051 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-15 10:11:36.053 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-15 10:11:36.068 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-05-15 10:11:36.189 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$8c30a931] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.199 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.215 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.217 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$2e6b1e32] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.217 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.218 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.220 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.220 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.221 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.223 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.224 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.231 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.232 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.233 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.234 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.243 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.315 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.316 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 10:11:36.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:11:36.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:11:36.692 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-15 10:11:36.697 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-15 10:11:36.697 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-15 10:11:36.698 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-15 10:11:36.744 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-15 10:11:36.744 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1091 ms
2023-05-15 10:11:37.273 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-15 10:11:37.469 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-15 10:11:37.501 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-15 10:11:37.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:11:37.528 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:11:37.529 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-15 10:11:37.529 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-15 10:11:37.530 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:11:37.531 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:11:37.535 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-15 10:11:37.542 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-15 10:11:37.551 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 2.214 seconds (JVM running for 3.033)
2023-05-15 10:11:37.553 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-15 10:11:37.553 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-15 10:11:57.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:11:57.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38891389228027904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:12:00.024 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38891389228027904 [0;39m HikariPool-1 - Starting...
2023-05-15 10:12:00.295 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38891389228027904 [0;39m HikariPool-1 - Start completed.
2023-05-15 10:12:00.299 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38891389228027904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:12:00.311 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38891389228027904 [0;39m ==> Parameters: 
2023-05-15 10:12:00.619 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38891389228027904 [0;39m <==    Updates: 5
2023-05-15 10:12:00.621 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38891389228027904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š605æ¯«ç§’
2023-05-15 10:12:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38891410149216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:12:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891410149216256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:12:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891410149216256 [0;39m ==> Parameters: 
2023-05-15 10:12:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891410149216256 [0;39m <==    Updates: 1
2023-05-15 10:12:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38891410149216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-15 10:12:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:17.550 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:17.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38891535995113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:12:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891535995113472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:12:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891535995113472 [0;39m ==> Parameters: 
2023-05-15 10:12:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891535995113472 [0;39m <==    Updates: 1
2023-05-15 10:12:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38891535995113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 10:12:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:37.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:37.555 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:57.561 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:12:57.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38891640840130560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:13:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38891640840130560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:13:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38891640840130560 [0;39m ==> Parameters: 
2023-05-15 10:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38891640840130560 [0;39m <==    Updates: 0
2023-05-15 10:13:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38891640840130560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:13:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38891661828427776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:13:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891661828427776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:13:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891661828427776 [0;39m ==> Parameters: 
2023-05-15 10:13:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891661828427776 [0;39m <==    Updates: 1
2023-05-15 10:13:05.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38891661828427776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 10:13:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:06.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:17.567 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:17.568 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:24.756 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 10:13:24.757 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-15 10:13:24.761 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 4 ms
2023-05-15 10:13:24.796 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šBR00DOnVz3ï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 10:13:24.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891744875646978 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:13:24.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891744875646977 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:13:24.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891744875646976 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:13:24.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891744875646977 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 10:13:24.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891744875646976 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 10:13:24.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891744875646978 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 10:13:24.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891744875646976 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 10:13:24.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891744875646978 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 10:13:24.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891744875646977 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 10:13:24.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891744875646976 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:13:24.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891744875646978 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:13:24.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891744875646977 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:13:24.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891744875646977 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:13:24.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891744875646978 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:13:24.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891744875646976 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:13:24.865 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38891744875646976 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 10:13:24.865 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38891744875646977 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 10:13:24.865 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38891744875646976 [0;39m ==> Parameters: 
2023-05-15 10:13:24.865 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38891744875646977 [0;39m ==> Parameters: 
2023-05-15 10:13:24.881 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38891744875646976 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 10:13:24.881 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891744875646977 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-15 10:13:24.882 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891744875646977 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-15 10:13:24.882 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38891744875646976 [0;39m <==        Row: 2023-05-15, 124, 10, 124, 10
2023-05-15 10:13:24.884 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38891744875646976 [0;39m <==      Total: 1
2023-05-15 10:13:24.884 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891744875646977 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-15 10:13:24.884 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891744875646977 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-15 10:13:24.884 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891744875646977 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-15 10:13:24.885 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891744875646977 [0;39m <==        Row: 2023-05-13, 56, 0
2023-05-15 10:13:24.885 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38891744875646977 [0;39m <==      Total: 5
2023-05-15 10:13:24.891 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38891744875646978 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 10:13:24.891 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38891744875646978 [0;39m ==> Parameters: 
2023-05-15 10:13:24.905 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891744875646976 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":124,"viewIncrease":124,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 10:13:24.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891744875646977 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":56,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-15 10:13:24.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891744875646976 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š97 ms -------------
2023-05-15 10:13:24.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891744875646977 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š97 ms -------------
2023-05-15 10:13:24.909 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 10:13:24.909 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 10:13:24.910 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 10:13:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 10:13:24.912 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 10:13:24.912 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 10:13:24.912 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 10:13:24.912 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 10:13:24.913 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 10:13:24.913 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 10:13:24.913 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 10:13:24.913 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 10:13:24.914 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 10:13:24.914 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 10:13:24.916 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 10:13:24.916 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891744875646978 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 10:13:24.916 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38891744875646978 [0;39m <==      Total: 15
2023-05-15 10:13:24.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891744875646978 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 10:13:24.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891744875646978 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š117 ms -------------
2023-05-15 10:13:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38891787644964864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:13:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891787644964864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:13:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891787644964864 [0;39m ==> Parameters: 
2023-05-15 10:13:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891787644964864 [0;39m <==    Updates: 1
2023-05-15 10:13:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38891787644964864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:13:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:36.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:37.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:39.405 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šBR00DOnVz3ï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 10:13:40.630 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šS90xYu8Eisï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891811539914753 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891811539914752 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891811539914754 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891811539914753 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891811539914754 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891811539914752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891811539914753 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891811539914754 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891811539914752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891811539914753 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891811539914754 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891811539914752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891811539914753 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891811539914754 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:13:40.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891811539914752 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:13:40.705 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38891811539914752 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 10:13:40.705 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38891811539914753 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 10:13:40.705 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38891811539914754 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 10:13:40.705 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38891811539914753 [0;39m ==> Parameters: 
2023-05-15 10:13:40.705 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38891811539914752 [0;39m ==> Parameters: 
2023-05-15 10:13:40.706 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38891811539914754 [0;39m ==> Parameters: 
2023-05-15 10:13:40.714 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 10:13:40.714 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38891811539914753 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 10:13:40.714 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891811539914752 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-15 10:13:40.714 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 10:13:40.714 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891811539914752 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-15 10:13:40.714 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38891811539914753 [0;39m <==        Row: 2023-05-15, 124, 10, 124, 10
2023-05-15 10:13:40.715 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891811539914752 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-15 10:13:40.715 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38891811539914753 [0;39m <==      Total: 1
2023-05-15 10:13:40.715 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891811539914752 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-15 10:13:40.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891811539914753 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":124,"viewIncrease":124,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 10:13:40.715 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891811539914752 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-15 10:13:40.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891811539914753 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 10:13:40.715 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38891811539914752 [0;39m <==        Row: 2023-05-13, 56, 0
2023-05-15 10:13:40.717 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38891811539914752 [0;39m <==      Total: 5
2023-05-15 10:13:40.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 10:13:40.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891811539914752 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":56,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-15 10:13:40.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 10:13:40.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891811539914752 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-15 10:13:40.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 10:13:40.718 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 10:13:40.718 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 10:13:40.718 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 10:13:40.718 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 10:13:40.718 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 10:13:40.719 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 10:13:40.719 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 10:13:40.719 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 10:13:40.719 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 10:13:40.720 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 10:13:40.720 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38891811539914754 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 10:13:40.720 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38891811539914754 [0;39m <==      Total: 15
2023-05-15 10:13:40.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891811539914754 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 10:13:40.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891811539914754 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-15 10:13:57.575 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:13:57.576 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38891892477399040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:14:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38891892477399040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:14:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38891892477399040 [0;39m ==> Parameters: 
2023-05-15 10:14:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38891892477399040 [0;39m <==    Updates: 0
2023-05-15 10:14:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38891892477399040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:14:01.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891897816748032 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:14:01.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891897816748032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 10:14:01.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891897816748032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 10:14:01.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891897816748032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:14:01.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891897816748032 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-15 10:14:01.347 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38891897816748032 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 10:14:01.348 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38891897816748032 [0;39m ==> Parameters: 201(Long)
2023-05-15 10:14:01.373 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38891897816748032 [0;39m <==    Columns: count(0)
2023-05-15 10:14:01.373 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38891897816748032 [0;39m <==        Row: 0
2023-05-15 10:14:01.374 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38891897816748032 [0;39m <==      Total: 1
2023-05-15 10:14:01.378 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38891897816748032 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-15 10:14:01.378 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38891897816748032 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-15 10:14:01.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891897816748032 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-15 10:14:01.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891897816748032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š108 ms -------------
2023-05-15 10:14:02.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891901004419072 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:14:02.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891901004419072 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 10:14:02.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891901004419072 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 10:14:02.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891901004419072 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:14:02.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891901004419072 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-15 10:14:02.036 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38891901004419072 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 10:14:02.036 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38891901004419072 [0;39m ==> Parameters: 202(Long)
2023-05-15 10:14:02.038 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38891901004419072 [0;39m <==    Columns: count(0)
2023-05-15 10:14:02.038 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38891901004419072 [0;39m <==        Row: 1
2023-05-15 10:14:02.038 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38891901004419072 [0;39m <==      Total: 1
2023-05-15 10:14:02.039 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38891901004419072 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 10:14:02.040 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38891901004419072 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-15 10:14:02.041 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38891901004419072 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 10:14:02.041 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38891901004419072 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 124, 10
2023-05-15 10:14:02.041 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38891901004419072 [0;39m <==      Total: 1
2023-05-15 10:14:02.041 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38891901004419072 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 10:14:02.041 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38891901004419072 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 10:14:02.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891901004419072 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":124,"voteCount":10}],"total":1},"success":true}
2023-05-15 10:14:02.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891901004419072 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-15 10:14:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38891913453113344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:14:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891913453113344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:14:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891913453113344 [0;39m ==> Parameters: 
2023-05-15 10:14:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38891913453113344 [0;39m <==    Updates: 1
2023-05-15 10:14:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38891913453113344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:14:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:08.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891928724574208 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:14:08.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891928724574208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-15 10:14:08.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891928724574208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-15 10:14:08.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891928724574208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:14:08.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891928724574208 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-15 10:14:08.910 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38891928724574208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-15 10:14:08.910 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38891928724574208 [0;39m ==> Parameters: test(String)
2023-05-15 10:14:08.912 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38891928724574208 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:08.912 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38891928724574208 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:08.922 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38891928724574208 [0;39m <==      Total: 1
2023-05-15 10:14:08.922 INFO  com.jiawa.wiki.service.UserService                :128  [32m38891928724574208 [0;39m å¯†ç ä¸å¯¹, è¾“å…¥å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4, æ•°æ®åº“å¯†ç ï¼šdb0887127059810ba9f80186d795edb5
2023-05-15 10:14:08.981 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38891928724574208 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2023-05-15 10:14:09.026 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38891928724574208 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2023-05-15 10:14:12.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891943702433792 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:14:12.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891943702433792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-15 10:14:12.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891943702433792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-15 10:14:12.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891943702433792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:14:12.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891943702433792 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-15 10:14:12.216 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38891943702433792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-15 10:14:12.216 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38891943702433792 [0;39m ==> Parameters: test(String)
2023-05-15 10:14:12.218 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38891943702433792 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:12.218 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38891943702433792 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:12.219 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38891943702433792 [0;39m <==      Total: 1
2023-05-15 10:14:12.223 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38891943702433792 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38891943744376832ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-15 10:14:12.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891943702433792 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38891943744376832"},"success":true}
2023-05-15 10:14:12.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891943702433792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š196 ms -------------
2023-05-15 10:14:16.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891963386302464 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:14:16.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891963386302465 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:14:16.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891963386302464 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 10:14:16.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891963386302465 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:14:16.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891963386302465 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:14:16.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891963386302464 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 10:14:16.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891963386302465 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:14:16.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891963386302464 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:14:16.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891963386302465 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:14:16.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891963386302464 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:14:16.913 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38891963386302465 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:14:16.913 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38891963386302465 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:16.918 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38891963386302464 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 10:14:16.918 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38891963386302464 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:16.918 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38891963386302465 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:14:16.920 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38891963386302465 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:14:16.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38891963386302465 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:14:16.921 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38891963386302465 [0;39m <==      Total: 2
2023-05-15 10:14:16.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891963386302465 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:14:16.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891963386302465 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:16.923 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38891963386302465 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:16.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38891963386302464 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 10:14:16.923 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38891963386302465 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:16.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38891963386302464 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 99, 5
2023-05-15 10:14:16.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891963386302465 [0;39m <==      Total: 1
2023-05-15 10:14:16.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891963386302465 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:14:16.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38891963386302464 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-15 10:14:16.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891963386302465 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:16.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38891963386302464 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-15 10:14:16.924 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38891963386302464 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-15 10:14:16.924 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38891963386302464 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-15 10:14:16.924 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38891963386302464 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-15 10:14:16.924 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38891963386302464 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-15 10:14:16.924 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38891963386302464 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-15 10:14:16.924 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38891963386302465 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:16.924 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38891963386302464 [0;39m <==      Total: 8
2023-05-15 10:14:16.924 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38891963386302465 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:16.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891963386302465 [0;39m <==      Total: 1
2023-05-15 10:14:16.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891963386302465 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 10:14:16.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891963386302465 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-15 10:14:16.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891963386302464 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":99,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-15 10:14:16.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891963386302464 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2023-05-15 10:14:16.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891963596017664 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:14:16.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891963596017664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 10:14:16.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891963596017664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:14:16.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891963596017664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:14:16.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891963596017664 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:14:16.957 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38891963596017664 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:14:16.957 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38891963596017664 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:16.961 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38891963596017664 [0;39m <==    Columns: id, content
2023-05-15 10:14:16.961 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38891963596017664 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 10:14:16.961 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38891963596017664 [0;39m <==      Total: 1
2023-05-15 10:14:16.964 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38891963596017664 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:14:16.964 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38891963596017664 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:17.094 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38891963596017664 [0;39m <==    Updates: 1
2023-05-15 10:14:17.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891963596017664 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 10:14:17.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891963596017664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š139 ms -------------
2023-05-15 10:14:17.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:17.581 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:18.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38891970998964224 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:14:18.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38891970998964224 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:14:18.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38891970998964224 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:14:18.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38891970998964224 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:14:18.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38891970998964224 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:14:18.723 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38891970998964224 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:14:18.723 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38891970998964224 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:18.736 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38891970998964224 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:14:18.736 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38891970998964224 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:14:18.736 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38891970998964224 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:14:18.737 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38891970998964224 [0;39m <==      Total: 2
2023-05-15 10:14:18.737 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891970998964224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:14:18.737 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891970998964224 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:18.744 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38891970998964224 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:18.744 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38891970998964224 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:18.744 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891970998964224 [0;39m <==      Total: 1
2023-05-15 10:14:18.744 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891970998964224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:14:18.745 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891970998964224 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:18.746 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38891970998964224 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:18.746 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38891970998964224 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:18.746 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38891970998964224 [0;39m <==      Total: 1
2023-05-15 10:14:18.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38891970998964224 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 10:14:18.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38891970998964224 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š26 ms -------------
2023-05-15 10:14:26.400 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38891943702433792 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:14:26.400 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38891943702433792 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 10:14:26.401 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38891811539914754 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:14:26.401 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38891811539914754 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleReplyComment/
2023-05-15 10:14:26.402 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38891811539914754 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38891943744376832
2023-05-15 10:14:26.405 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38891811539914754 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38891943744376832"}
2023-05-15 10:14:26.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38892003274133504 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:14:26.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38892003274133504 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleReplyComment/ POST
2023-05-15 10:14:26.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38892003274133504 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-15 10:14:26.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38892003274133504 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:14:26.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38892003274133504 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ww","ebookId":1,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-15 10:14:26.418 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892003274133504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:14:26.418 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892003274133504 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:26.419 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892003274133504 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:26.419 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892003274133504 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:26.419 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892003274133504 [0;39m <==      Total: 1
2023-05-15 10:14:26.420 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892003274133504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:14:26.420 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892003274133504 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:26.421 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892003274133504 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:26.421 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892003274133504 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:26.421 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892003274133504 [0;39m <==      Total: 1
2023-05-15 10:14:26.421 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38892003274133504 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-15 10:14:26.423 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38892003274133504 [0;39m ==> Parameters: 1(Long), 1(Long), 2(Long), 1(Long), ww(String), 2023-05-15 10:14:26.421(Timestamp), null
2023-05-15 10:14:26.489 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38892003274133504 [0;39m <==    Updates: 1
2023-05-15 10:14:26.492 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38892003274133504 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-15 10:14:26.492 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38892003274133504 [0;39m ==> Parameters: 3(Long)
2023-05-15 10:14:26.493 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38892003274133504 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:14:26.493 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38892003274133504 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:14:26.494 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38892003274133504 [0;39m <==      Total: 1
2023-05-15 10:14:26.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38892003274133504 [0;39m è¿”å›žç»“æžœ: {"content":{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},"success":true}
2023-05-15 10:14:26.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38892003274133504 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š78 ms -------------
2023-05-15 10:14:26.495 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38892003274133504 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š94 ms -------------
2023-05-15 10:14:29.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38892016230338560 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:14:29.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38892016230338560 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:14:29.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38892016230338560 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:14:29.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38892016230338560 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:14:29.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38892016230338560 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:14:29.508 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892016230338560 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:14:29.508 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892016230338560 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:29.510 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892016230338560 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:14:29.512 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892016230338560 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:14:29.513 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892016230338560 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:14:29.513 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892016230338560 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:14:29.515 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892016230338560 [0;39m <==      Total: 3
2023-05-15 10:14:29.516 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:14:29.516 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:29.553 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892016230338560 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:29.554 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892016230338560 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:29.554 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m <==      Total: 1
2023-05-15 10:14:29.554 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:14:29.554 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:29.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892016230338560 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:29.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892016230338560 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:29.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m <==      Total: 1
2023-05-15 10:14:29.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:14:29.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:29.614 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892016230338560 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:29.615 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892016230338560 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:29.615 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m <==      Total: 1
2023-05-15 10:14:29.616 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:14:29.616 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:14:29.630 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892016230338560 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:14:29.630 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892016230338560 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:14:29.630 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892016230338560 [0;39m <==      Total: 1
2023-05-15 10:14:29.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38892016230338560 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:14:29.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38892016230338560 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š126 ms -------------
2023-05-15 10:14:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38892039294816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:14:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892039294816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:14:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892039294816256 [0;39m ==> Parameters: 
2023-05-15 10:14:35.067 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892039294816256 [0;39m <==    Updates: 1
2023-05-15 10:14:35.068 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38892039294816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š64æ¯«ç§’
2023-05-15 10:14:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:36.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:37.588 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:37.588 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:57.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:14:57.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38892144156610560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892144156610560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:15:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892144156610560 [0;39m ==> Parameters: 
2023-05-15 10:15:00.205 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892144156610560 [0;39m <==    Updates: 0
2023-05-15 10:15:00.205 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38892144156610560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š200æ¯«ç§’
2023-05-15 10:15:03.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38892158752788480 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:15:03.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38892158752788480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:15:03.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38892158752788480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:15:03.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38892158752788480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:15:03.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38892158752788480 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:15:03.487 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892158752788480 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:15:03.488 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892158752788480 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:03.490 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892158752788480 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:15:03.491 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892158752788480 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:15:03.492 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892158752788480 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:15:03.492 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892158752788480 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:15:03.493 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892158752788480 [0;39m <==      Total: 3
2023-05-15 10:15:03.494 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:03.494 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:03.495 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892158752788480 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:03.495 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892158752788480 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:03.496 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m <==      Total: 1
2023-05-15 10:15:03.496 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:03.496 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:03.499 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892158752788480 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:03.500 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892158752788480 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:03.500 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m <==      Total: 1
2023-05-15 10:15:03.501 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:03.501 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:03.502 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892158752788480 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:03.502 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892158752788480 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:03.502 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m <==      Total: 1
2023-05-15 10:15:03.503 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:03.507 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892158752788480 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:03.507 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892158752788480 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:03.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892158752788480 [0;39m <==      Total: 1
2023-05-15 10:15:03.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38892158752788480 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:15:03.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38892158752788480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š26 ms -------------
2023-05-15 10:15:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38892165165879296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:15:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892165165879296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:15:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892165165879296 [0;39m ==> Parameters: 
2023-05-15 10:15:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892165165879296 [0;39m <==    Updates: 1
2023-05-15 10:15:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38892165165879296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:15:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:17.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:17.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38892290944667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:15:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892290944667648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:15:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892290944667648 [0;39m ==> Parameters: 
2023-05-15 10:15:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892290944667648 [0;39m <==    Updates: 1
2023-05-15 10:15:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38892290944667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:15:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:36.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:37.625 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:37.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:39.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38892309575766016 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:15:39.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38892309575766016 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:15:39.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38892309575766016 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:15:39.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38892309575766016 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:15:39.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38892309575766016 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:15:39.446 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892309575766016 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:15:39.447 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892309575766016 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:39.448 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892309575766016 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:15:39.449 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892309575766016 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:15:39.449 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892309575766016 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:15:39.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892309575766016 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:15:39.450 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892309575766016 [0;39m <==      Total: 3
2023-05-15 10:15:39.450 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:39.451 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:39.452 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892309575766016 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:39.452 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892309575766016 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:39.452 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m <==      Total: 1
2023-05-15 10:15:39.453 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:39.453 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:39.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892309575766016 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:39.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892309575766016 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:39.456 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m <==      Total: 1
2023-05-15 10:15:39.457 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:39.457 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:39.461 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892309575766016 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:39.461 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892309575766016 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:39.461 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m <==      Total: 1
2023-05-15 10:15:39.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:39.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:39.463 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892309575766016 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:39.464 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892309575766016 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:39.464 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892309575766016 [0;39m <==      Total: 1
2023-05-15 10:15:39.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38892309575766016 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:15:39.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38892309575766016 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-15 10:15:41.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38892316567670784 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:15:41.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38892316567670784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:15:41.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38892316567670784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:15:41.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38892316567670784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:15:41.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38892316567670784 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:15:41.113 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892316567670784 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:15:41.113 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892316567670784 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:41.126 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892316567670784 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:15:41.126 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892316567670784 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:15:41.127 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892316567670784 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:15:41.127 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892316567670784 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:15:41.127 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892316567670784 [0;39m <==      Total: 3
2023-05-15 10:15:41.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:41.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:41.129 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892316567670784 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:41.129 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892316567670784 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:41.129 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m <==      Total: 1
2023-05-15 10:15:41.130 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:41.130 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:41.131 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892316567670784 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:41.132 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892316567670784 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:41.132 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m <==      Total: 1
2023-05-15 10:15:41.132 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:41.133 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:41.134 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892316567670784 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:41.134 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892316567670784 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:41.134 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m <==      Total: 1
2023-05-15 10:15:41.135 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:15:41.135 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:15:41.136 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892316567670784 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:15:41.136 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892316567670784 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:15:41.136 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892316567670784 [0;39m <==      Total: 1
2023-05-15 10:15:41.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38892316567670784 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:15:41.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38892316567670784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š26 ms -------------
2023-05-15 10:15:57.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:15:57.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38892395806461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:16:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892395806461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:16:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892395806461952 [0;39m ==> Parameters: 
2023-05-15 10:16:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892395806461952 [0;39m <==    Updates: 0
2023-05-15 10:16:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38892395806461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 10:16:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38892416798953472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:16:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892416798953472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:16:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892416798953472 [0;39m ==> Parameters: 
2023-05-15 10:16:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892416798953472 [0;39m <==    Updates: 1
2023-05-15 10:16:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38892416798953472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:16:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:17.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:17.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38892542602907648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:16:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892542602907648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:16:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892542602907648 [0;39m ==> Parameters: 
2023-05-15 10:16:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892542602907648 [0;39m <==    Updates: 1
2023-05-15 10:16:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38892542602907648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 10:16:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:36.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:37.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:37.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:57.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:16:57.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:17:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38892647489867776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892647489867776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:17:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892647489867776 [0;39m ==> Parameters: 
2023-05-15 10:17:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892647489867776 [0;39m <==    Updates: 0
2023-05-15 10:17:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38892647489867776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-15 10:17:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38892668452999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:17:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892668452999168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:17:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892668452999168 [0;39m ==> Parameters: 
2023-05-15 10:17:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892668452999168 [0;39m <==    Updates: 1
2023-05-15 10:17:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38892668452999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:17:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:17:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:17:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:17:17.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:17:32.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38892781787287553 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:17:32.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38892781787287552 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:17:32.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38892781787287552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:17:32.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38892781787287553 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 10:17:32.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38892781787287552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:17:32.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38892781787287552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:17:32.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38892781787287553 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 10:17:32.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38892781787287552 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:17:32.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38892781787287553 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:17:32.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38892781787287553 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:17:32.031 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892781787287552 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:17:32.032 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38892781787287553 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 10:17:32.032 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892781787287552 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:17:32.032 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38892781787287553 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:17:32.035 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892781787287552 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:17:32.035 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38892781787287553 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 10:17:32.035 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38892781787287553 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 100, 5
2023-05-15 10:17:32.035 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892781787287552 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:17:32.036 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38892781787287553 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-15 10:17:32.036 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38892781787287553 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-15 10:17:32.036 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38892781787287553 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-15 10:17:32.036 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892781787287552 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:17:32.036 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38892781787287553 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-15 10:17:32.036 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38892781787287553 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-15 10:17:32.037 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38892781787287552 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:17:32.037 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38892781787287553 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-15 10:17:32.037 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38892781787287552 [0;39m <==      Total: 3
2023-05-15 10:17:32.037 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38892781787287553 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-15 10:17:32.038 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:17:32.038 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:17:32.039 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38892781787287553 [0;39m <==      Total: 8
2023-05-15 10:17:32.073 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892781787287552 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:17:32.075 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892781787287552 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:17:32.075 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m <==      Total: 1
2023-05-15 10:17:32.076 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:17:32.077 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:17:32.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38892781787287553 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":100,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-15 10:17:32.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38892781787287553 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š50 ms -------------
2023-05-15 10:17:32.085 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892781787287552 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:17:32.085 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892781787287552 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:17:32.086 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m <==      Total: 1
2023-05-15 10:17:32.089 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:17:32.090 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:17:32.103 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892781787287552 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:17:32.104 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892781787287552 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:17:32.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m <==      Total: 1
2023-05-15 10:17:32.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:17:32.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:17:32.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892781787287552 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:17:32.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38892781787287552 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:17:32.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38892781787287552 [0;39m <==      Total: 1
2023-05-15 10:17:32.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38892782571622400 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:17:32.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38892781787287552 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:17:32.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38892782571622400 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 10:17:32.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38892781787287552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š188 ms -------------
2023-05-15 10:17:32.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38892782571622400 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:17:32.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38892782571622400 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:17:32.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38892782571622400 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:17:32.224 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38892782571622400 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:17:32.225 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38892782571622400 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:17:32.246 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38892782571622400 [0;39m <==    Columns: id, content
2023-05-15 10:17:32.246 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38892782571622400 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 10:17:32.246 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38892782571622400 [0;39m <==      Total: 1
2023-05-15 10:17:32.247 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38892782571622400 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:17:32.247 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38892782571622400 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:17:32.477 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38892782571622400 [0;39m <==    Updates: 1
2023-05-15 10:17:32.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38892782571622400 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 10:17:32.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38892782571622400 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š263 ms -------------
2023-05-15 10:17:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38892794256953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:17:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892794256953344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:17:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892794256953344 [0;39m ==> Parameters: 
2023-05-15 10:17:35.076 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892794256953344 [0;39m <==    Updates: 1
2023-05-15 10:17:35.076 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38892794256953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š75æ¯«ç§’
2023-05-15 10:17:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:17:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:17:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:17:37.656 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:17:57.660 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:17:57.662 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38892899143913472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:18:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892899143913472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:18:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892899143913472 [0;39m ==> Parameters: 
2023-05-15 10:18:00.247 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38892899143913472 [0;39m <==    Updates: 0
2023-05-15 10:18:00.262 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38892899143913472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š253æ¯«ç§’
2023-05-15 10:18:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38892920136404992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:18:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892920136404992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:18:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892920136404992 [0;39m ==> Parameters: 
2023-05-15 10:18:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38892920136404992 [0;39m <==    Updates: 1
2023-05-15 10:18:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38892920136404992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 10:18:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:17.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:17.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38893045952942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:18:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893045952942080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:18:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893045952942080 [0;39m ==> Parameters: 
2023-05-15 10:18:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893045952942080 [0;39m <==    Updates: 1
2023-05-15 10:18:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38893045952942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:18:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:37.689 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:37.690 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:57.692 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:18:57.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38893150776987648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:19:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893150776987648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:19:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893150776987648 [0;39m ==> Parameters: 
2023-05-15 10:19:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893150776987648 [0;39m <==    Updates: 0
2023-05-15 10:19:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38893150776987648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:19:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38893171748507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:19:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893171748507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:19:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893171748507648 [0;39m ==> Parameters: 
2023-05-15 10:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893171748507648 [0;39m <==    Updates: 1
2023-05-15 10:19:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38893171748507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 10:19:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:13.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893209157505024 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:13.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893209157505025 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:13.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893209157505024 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:19:13.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893209157505025 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 10:19:13.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893209157505024 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:19:13.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893209157505025 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 10:19:13.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893209157505025 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:13.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893209157505024 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:13.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893209157505025 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:13.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893209157505024 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:13.924 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893209157505024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:19:13.924 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893209157505025 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 10:19:13.925 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893209157505025 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:13.925 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893209157505024 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:13.933 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209157505024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:19:13.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209157505025 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 10:19:13.934 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209157505025 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 101, 5
2023-05-15 10:19:13.934 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209157505024 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:19:13.935 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209157505025 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-15 10:19:13.935 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209157505025 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-15 10:19:13.935 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209157505025 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-15 10:19:13.935 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209157505025 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-15 10:19:13.935 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209157505024 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:19:13.935 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209157505025 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-15 10:19:13.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209157505024 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:19:13.936 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209157505025 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-15 10:19:13.936 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893209157505024 [0;39m <==      Total: 3
2023-05-15 10:19:13.936 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209157505025 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-15 10:19:13.936 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893209157505025 [0;39m <==      Total: 8
2023-05-15 10:19:13.937 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:13.937 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:13.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893209157505025 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":101,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-15 10:19:13.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893209157505025 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 10:19:13.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893209245585408 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:13.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893209245585408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 10:19:13.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893209245585408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 10:19:13.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893209245585408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:13.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893209245585408 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:13.943 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893209245585408 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 10:19:13.944 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893209245585408 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:13.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893209258168320 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:13.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893209258168320 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 10:19:13.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893209258168320 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:19:13.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893209258168320 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:13.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893209258168320 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:13.959 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893209258168320 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:19:13.959 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209157505024 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:13.959 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209245585408 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 10:19:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209245585408 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 101, 5
2023-05-15 10:19:13.960 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209157505024 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209245585408 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-15 10:19:13.960 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m <==      Total: 1
2023-05-15 10:19:13.960 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893209258168320 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209245585408 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-15 10:19:13.960 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209245585408 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-15 10:19:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209245585408 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-15 10:19:13.960 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209245585408 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-15 10:19:13.961 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209245585408 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-15 10:19:13.961 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209245585408 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-15 10:19:13.961 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893209245585408 [0;39m <==      Total: 8
2023-05-15 10:19:13.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893209245585408 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":101,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-15 10:19:13.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893209245585408 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-15 10:19:13.962 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38893209258168320 [0;39m <==    Columns: id, content
2023-05-15 10:19:13.962 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209157505024 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:13.962 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38893209258168320 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 10:19:13.962 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209157505024 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:13.962 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893209258168320 [0;39m <==      Total: 1
2023-05-15 10:19:13.962 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m <==      Total: 1
2023-05-15 10:19:13.963 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893209258168320 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:19:13.963 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:13.963 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:13.963 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893209258168320 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:13.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209157505024 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:13.978 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209157505024 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:13.978 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m <==      Total: 1
2023-05-15 10:19:13.978 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:13.978 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:13.992 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209157505024 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:13.992 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209157505024 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:13.992 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209157505024 [0;39m <==      Total: 1
2023-05-15 10:19:13.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893209157505024 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:19:13.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893209157505024 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š72 ms -------------
2023-05-15 10:19:13.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893209467883520 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:13.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893209467883520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:19:13.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893209467883520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:19:13.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893209467883520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:13.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893209467883520 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:13.995 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893209467883520 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:19:13.996 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893209467883520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.007 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209467883520 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:19:14.008 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209467883520 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:19:14.009 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209467883520 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:19:14.009 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209467883520 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:19:14.009 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893209467883520 [0;39m <==      Total: 3
2023-05-15 10:19:14.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:14.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.011 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209467883520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:14.011 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209467883520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:14.011 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m <==      Total: 1
2023-05-15 10:19:14.011 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:14.011 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.012 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209467883520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:14.013 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209467883520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:14.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m <==      Total: 1
2023-05-15 10:19:14.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:14.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.014 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209467883520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:14.014 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209467883520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:14.014 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m <==      Total: 1
2023-05-15 10:19:14.014 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:14.014 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.015 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209467883520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:14.016 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209467883520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:14.016 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209467883520 [0;39m <==      Total: 1
2023-05-15 10:19:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893209467883520 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:19:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893209467883520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-15 10:19:14.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893209606295552 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:14.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893209606295553 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:14.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893209606295552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 10:19:14.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893209606295552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 10:19:14.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893209606295552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:14.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893209606295553 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:19:14.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893209606295553 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:19:14.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893209606295552 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:14.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893209606295553 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:14.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893209606295553 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:14.029 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893209258168320 [0;39m <==    Updates: 1
2023-05-15 10:19:14.029 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893209606295553 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:19:14.030 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893209606295552 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 10:19:14.030 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893209606295553 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893209258168320 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 10:19:14.030 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893209606295552 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893209258168320 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š86 ms -------------
2023-05-15 10:19:14.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893209631461376 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:14.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893209631461376 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 10:19:14.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893209631461376 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:19:14.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893209631461376 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:14.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893209631461376 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:14.034 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893209631461376 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:19:14.035 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893209631461376 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.045 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38893209631461376 [0;39m <==    Columns: id, content
2023-05-15 10:19:14.045 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209606295552 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 10:19:14.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209606295553 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:19:14.046 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38893209631461376 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 10:19:14.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209606295552 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 102, 5
2023-05-15 10:19:14.046 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893209631461376 [0;39m <==      Total: 1
2023-05-15 10:19:14.046 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209606295553 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:19:14.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209606295552 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-15 10:19:14.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209606295552 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-15 10:19:14.047 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893209631461376 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:19:14.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209606295553 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:19:14.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209606295552 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-15 10:19:14.047 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893209631461376 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209606295552 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-15 10:19:14.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893209606295553 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:19:14.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209606295552 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-15 10:19:14.048 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209606295552 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-15 10:19:14.048 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893209606295553 [0;39m <==      Total: 3
2023-05-15 10:19:14.048 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893209606295552 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-15 10:19:14.048 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893209606295552 [0;39m <==      Total: 8
2023-05-15 10:19:14.048 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:14.048 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893209606295552 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":102,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-15 10:19:14.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893209606295552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-15 10:19:14.049 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209606295553 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:14.049 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209606295553 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:14.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m <==      Total: 1
2023-05-15 10:19:14.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:14.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209606295553 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:14.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209606295553 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:14.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m <==      Total: 1
2023-05-15 10:19:14.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:14.082 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.090 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209606295553 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:14.090 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209606295553 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:14.091 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m <==      Total: 1
2023-05-15 10:19:14.091 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:14.091 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.091 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209606295553 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:14.091 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893209606295553 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:14.091 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893209606295553 [0;39m <==      Total: 1
2023-05-15 10:19:14.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893209606295553 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:19:14.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893209606295553 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š63 ms -------------
2023-05-15 10:19:14.129 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893209631461376 [0;39m <==    Updates: 1
2023-05-15 10:19:14.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893209631461376 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 10:19:14.130 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893209631461376 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š96 ms -------------
2023-05-15 10:19:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893210059280384 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893210059280384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 10:19:14.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893210059280384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:19:14.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893210059280384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:14.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893210059280384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:14.137 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893210059280384 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:19:14.137 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893210059280384 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.139 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38893210059280384 [0;39m <==    Columns: id, content
2023-05-15 10:19:14.139 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38893210059280384 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 10:19:14.139 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893210059280384 [0;39m <==      Total: 1
2023-05-15 10:19:14.140 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893210059280384 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:19:14.140 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893210059280384 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:14.247 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893210059280384 [0;39m <==    Updates: 1
2023-05-15 10:19:14.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893210059280384 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 10:19:14.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893210059280384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š113 ms -------------
2023-05-15 10:19:17.696 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:17.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:20.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893236823134209 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:20.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893236823134208 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:20.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893236823134208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 10:19:20.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893236823134209 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:19:20.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893236823134208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 10:19:20.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893236823134209 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:19:20.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893236823134208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:20.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893236823134209 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:20.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893236823134208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:20.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893236823134209 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:20.520 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893236823134208 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 10:19:20.520 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893236823134209 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:19:20.521 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893236823134209 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:20.521 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893236823134208 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:20.523 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893236823134208 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 10:19:20.523 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893236823134209 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:19:20.523 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893236823134208 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 104, 5
2023-05-15 10:19:20.523 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893236823134209 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:19:20.523 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893236823134208 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-15 10:19:20.523 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893236823134208 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-15 10:19:20.523 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893236823134209 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:19:20.523 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893236823134208 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-15 10:19:20.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893236823134208 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-15 10:19:20.524 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893236823134209 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:19:20.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893236823134208 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-15 10:19:20.524 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893236823134209 [0;39m <==      Total: 3
2023-05-15 10:19:20.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893236823134208 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-15 10:19:20.524 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38893236823134208 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-15 10:19:20.524 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:20.524 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38893236823134208 [0;39m <==      Total: 8
2023-05-15 10:19:20.524 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:20.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893236823134208 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":104,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-15 10:19:20.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893236823134208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 10:19:20.525 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893236823134209 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:20.525 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893236823134209 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:20.525 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m <==      Total: 1
2023-05-15 10:19:20.526 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:20.526 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:20.526 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893236823134209 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:20.526 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893236823134209 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:20.526 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m <==      Total: 1
2023-05-15 10:19:20.527 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:20.527 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:20.528 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893236823134209 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:20.528 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893236823134209 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:20.528 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m <==      Total: 1
2023-05-15 10:19:20.529 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:20.529 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:20.531 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893236823134209 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:20.531 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893236823134209 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:20.531 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893236823134209 [0;39m <==      Total: 1
2023-05-15 10:19:20.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893236823134209 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:19:20.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893236823134209 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-15 10:19:20.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893236907020288 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:20.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893236907020288 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 10:19:20.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893236907020288 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:19:20.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893236907020288 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:20.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893236907020288 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:20.538 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893236907020288 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:19:20.538 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893236907020288 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:20.540 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38893236907020288 [0;39m <==    Columns: id, content
2023-05-15 10:19:20.540 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38893236907020288 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 10:19:20.540 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38893236907020288 [0;39m <==      Total: 1
2023-05-15 10:19:20.540 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893236907020288 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:19:20.540 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893236907020288 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:20.615 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38893236907020288 [0;39m <==    Updates: 1
2023-05-15 10:19:20.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893236907020288 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 10:19:20.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893236907020288 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š79 ms -------------
2023-05-15 10:19:24.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893255332597760 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:24.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893255332597760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:19:24.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893255332597760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:19:24.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893255332597760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:24.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893255332597760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:24.932 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893255332597760 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:19:24.932 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893255332597760 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:24.933 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893255332597760 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:19:24.933 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893255332597760 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:19:24.934 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893255332597760 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:19:24.934 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893255332597760 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:19:24.934 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893255332597760 [0;39m <==      Total: 3
2023-05-15 10:19:24.934 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:24.934 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:24.936 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893255332597760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:24.936 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893255332597760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:24.936 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m <==      Total: 1
2023-05-15 10:19:24.937 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:24.937 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:24.939 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893255332597760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:24.939 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893255332597760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:24.939 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m <==      Total: 1
2023-05-15 10:19:24.939 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:24.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:24.941 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893255332597760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:24.941 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893255332597760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:24.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m <==      Total: 1
2023-05-15 10:19:24.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:24.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:24.942 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893255332597760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:24.942 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893255332597760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:24.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893255332597760 [0;39m <==      Total: 1
2023-05-15 10:19:24.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893255332597760 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:19:24.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893255332597760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 10:19:28.081 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38893209606295553 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:19:28.081 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38893209606295553 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleReplyComment/
2023-05-15 10:19:28.081 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38893209606295553 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38891943744376832
2023-05-15 10:19:28.098 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38893209606295553 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38891943744376832"}
2023-05-15 10:19:28.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893268620152832 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:28.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893268620152832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleReplyComment/ POST
2023-05-15 10:19:28.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893268620152832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-15 10:19:28.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893268620152832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:28.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893268620152832 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ee","ebookId":1,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-15 10:19:28.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893268620152832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:28.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893268620152832 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:28.098 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893268620152832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:28.098 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893268620152832 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:28.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893268620152832 [0;39m <==      Total: 1
2023-05-15 10:19:28.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893268620152832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:28.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893268620152832 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:28.098 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893268620152832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:28.098 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893268620152832 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:28.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893268620152832 [0;39m <==      Total: 1
2023-05-15 10:19:28.098 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38893268620152832 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-15 10:19:28.098 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38893268620152832 [0;39m ==> Parameters: 1(Long), 1(Long), 2(Long), 1(Long), ee(String), 2023-05-15 10:19:28.098(Timestamp), null
2023-05-15 10:19:28.182 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38893268620152832 [0;39m <==    Updates: 1
2023-05-15 10:19:28.182 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38893268620152832 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-15 10:19:28.182 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38893268620152832 [0;39m ==> Parameters: 4(Long)
2023-05-15 10:19:28.182 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38893268620152832 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:19:28.194 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38893268620152832 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 10:19:28.194 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38893268620152832 [0;39m <==      Total: 1
2023-05-15 10:19:28.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893268620152832 [0;39m è¿”å›žç»“æžœ: {"content":{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},"success":true}
2023-05-15 10:19:28.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893268620152832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š98 ms -------------
2023-05-15 10:19:28.200 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38893268620152832 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š119 ms -------------
2023-05-15 10:19:28.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893269052166144 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:19:28.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893269052166144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:19:28.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893269052166144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:19:28.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893269052166144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:19:28.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893269052166144 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:19:28.201 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893269052166144 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:19:28.201 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893269052166144 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:28.201 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893269052166144 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:19:28.212 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893269052166144 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:19:28.212 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893269052166144 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:19:28.213 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893269052166144 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:19:28.214 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893269052166144 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 10:19:28.215 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893269052166144 [0;39m <==      Total: 4
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m <==      Total: 1
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m <==      Total: 1
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m <==      Total: 1
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m <==      Total: 1
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m <==      Total: 1
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:19:28.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893269052166144 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:19:28.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893269052166144 [0;39m <==      Total: 1
2023-05-15 10:19:28.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893269052166144 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:19:28.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893269052166144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-15 10:19:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38893297577627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:19:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893297577627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:19:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893297577627648 [0;39m ==> Parameters: 
2023-05-15 10:19:35.063 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893297577627648 [0;39m <==    Updates: 1
2023-05-15 10:19:35.063 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38893297577627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š61æ¯«ç§’
2023-05-15 10:19:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:37.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:37.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:57.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:19:57.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38893402477170688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:20:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893402477170688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:20:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893402477170688 [0;39m ==> Parameters: 
2023-05-15 10:20:00.189 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893402477170688 [0;39m <==    Updates: 0
2023-05-15 10:20:00.189 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38893402477170688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š177æ¯«ç§’
2023-05-15 10:20:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38893423402553344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893423402553344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893423402553344 [0;39m ==> Parameters: 
2023-05-15 10:20:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893423402553344 [0;39m <==    Updates: 1
2023-05-15 10:20:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38893423402553344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-15 10:20:05.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38893427068375040 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:20:05.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38893427068375040 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:20:05.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38893427068375040 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:20:05.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38893427068375040 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:20:05.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38893427068375040 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:20:05.878 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893427068375040 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:20:05.878 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893427068375040 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:20:05.879 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893427068375040 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:20:05.880 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893427068375040 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:20:05.880 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893427068375040 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:20:05.881 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893427068375040 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:20:05.881 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38893427068375040 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 10:20:05.881 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38893427068375040 [0;39m <==      Total: 4
2023-05-15 10:20:05.882 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:20:05.882 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:20:05.884 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:20:05.884 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:20:05.884 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m <==      Total: 1
2023-05-15 10:20:05.885 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:20:05.887 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:20:05.889 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:20:05.889 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:20:05.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m <==      Total: 1
2023-05-15 10:20:05.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:20:05.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:20:05.891 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:20:05.891 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:20:05.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m <==      Total: 1
2023-05-15 10:20:05.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:20:05.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:20:05.893 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:20:05.893 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:20:05.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m <==      Total: 1
2023-05-15 10:20:05.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:20:05.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:20:05.894 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:20:05.894 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:20:05.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m <==      Total: 1
2023-05-15 10:20:05.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:20:05.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:20:05.895 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:20:05.895 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38893427068375040 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:20:05.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38893427068375040 [0;39m <==      Total: 1
2023-05-15 10:20:05.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38893427068375040 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:20:05.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38893427068375040 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š20 ms -------------
2023-05-15 10:20:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:17.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:17.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38893549231673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:20:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893549231673344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:20:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893549231673344 [0;39m ==> Parameters: 
2023-05-15 10:20:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893549231673344 [0;39m <==    Updates: 1
2023-05-15 10:20:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38893549231673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:20:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:37.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:57.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:20:57.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:21:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38893654122827776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:21:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893654122827776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:21:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893654122827776 [0;39m ==> Parameters: 
2023-05-15 10:21:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893654122827776 [0;39m <==    Updates: 0
2023-05-15 10:21:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38893654122827776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:21:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38893675085959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:21:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893675085959168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:21:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893675085959168 [0;39m ==> Parameters: 
2023-05-15 10:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893675085959168 [0;39m <==    Updates: 1
2023-05-15 10:21:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38893675085959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 10:21:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:21:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:21:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:21:17.757 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:21:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38893800894107648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:21:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893800894107648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:21:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893800894107648 [0;39m ==> Parameters: 
2023-05-15 10:21:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893800894107648 [0;39m <==    Updates: 1
2023-05-15 10:21:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38893800894107648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:21:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:21:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:21:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:21:37.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:21:57.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:21:57.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38893905751707648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:22:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893905751707648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:22:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893905751707648 [0;39m ==> Parameters: 
2023-05-15 10:22:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38893905751707648 [0;39m <==    Updates: 0
2023-05-15 10:22:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38893905751707648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-15 10:22:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38893926714839040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:22:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893926714839040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:22:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893926714839040 [0;39m ==> Parameters: 
2023-05-15 10:22:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38893926714839040 [0;39m <==    Updates: 1
2023-05-15 10:22:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38893926714839040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:22:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:17.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:17.777 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38894052573319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894052573319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894052573319168 [0;39m ==> Parameters: 
2023-05-15 10:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894052573319168 [0;39m <==    Updates: 1
2023-05-15 10:22:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38894052573319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 10:22:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:37.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:37.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:57.807 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:22:57.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38894157422530560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:23:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894157422530560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:23:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894157422530560 [0;39m ==> Parameters: 
2023-05-15 10:23:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894157422530560 [0;39m <==    Updates: 0
2023-05-15 10:23:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38894157422530560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š19æ¯«ç§’
2023-05-15 10:23:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38894178394050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:23:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894178394050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:23:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894178394050560 [0;39m ==> Parameters: 
2023-05-15 10:23:05.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894178394050560 [0;39m <==    Updates: 1
2023-05-15 10:23:05.029 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38894178394050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2023-05-15 10:23:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:17.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:17.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38894304202199040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:23:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894304202199040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:23:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894304202199040 [0;39m ==> Parameters: 
2023-05-15 10:23:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894304202199040 [0;39m <==    Updates: 1
2023-05-15 10:23:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38894304202199040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-15 10:23:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:37.832 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:37.832 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:57.858 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:23:57.858 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38894409122713600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:24:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894409122713600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:24:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894409122713600 [0;39m ==> Parameters: 
2023-05-15 10:24:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894409122713600 [0;39m <==    Updates: 0
2023-05-15 10:24:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38894409122713600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:24:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38894430094233600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:24:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894430094233600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:24:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894430094233600 [0;39m ==> Parameters: 
2023-05-15 10:24:05.061 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894430094233600 [0;39m <==    Updates: 1
2023-05-15 10:24:05.062 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38894430094233600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š46æ¯«ç§’
2023-05-15 10:24:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:17.869 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:17.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38894555864633344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:24:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894555864633344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:24:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894555864633344 [0;39m ==> Parameters: 
2023-05-15 10:24:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894555864633344 [0;39m <==    Updates: 1
2023-05-15 10:24:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38894555864633344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:24:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:36.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:36.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:37.882 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:37.882 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:57.886 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:24:57.889 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38894660772564992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:25:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894660772564992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:25:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894660772564992 [0;39m ==> Parameters: 
2023-05-15 10:25:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894660772564992 [0;39m <==    Updates: 0
2023-05-15 10:25:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38894660772564992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 10:25:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38894681739890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:25:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894681739890688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:25:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894681739890688 [0;39m ==> Parameters: 
2023-05-15 10:25:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894681739890688 [0;39m <==    Updates: 1
2023-05-15 10:25:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38894681739890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:25:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:06.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:17.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:17.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38894807552233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:25:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894807552233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:25:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894807552233472 [0;39m ==> Parameters: 
2023-05-15 10:25:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894807552233472 [0;39m <==    Updates: 1
2023-05-15 10:25:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38894807552233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:25:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:37.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:37.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:57.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:25:57.915 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38894912485330944 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:26:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894912485330944 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:26:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894912485330944 [0;39m ==> Parameters: 
2023-05-15 10:26:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38894912485330944 [0;39m <==    Updates: 0
2023-05-15 10:26:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38894912485330944 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 10:26:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38894933351993344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894933351993344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894933351993344 [0;39m ==> Parameters: 
2023-05-15 10:26:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38894933351993344 [0;39m <==    Updates: 1
2023-05-15 10:26:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38894933351993344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 10:26:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:17.926 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:17.928 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38895059185307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:26:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895059185307648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:26:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895059185307648 [0;39m ==> Parameters: 
2023-05-15 10:26:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895059185307648 [0;39m <==    Updates: 1
2023-05-15 10:26:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38895059185307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:26:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:37.946 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:57.947 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:26:57.950 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38895164097433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:27:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895164097433600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:27:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895164097433600 [0;39m ==> Parameters: 
2023-05-15 10:27:00.069 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895164097433600 [0;39m <==    Updates: 0
2023-05-15 10:27:00.070 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38895164097433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š55æ¯«ç§’
2023-05-15 10:27:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38895185056370688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:27:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895185056370688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:27:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895185056370688 [0;39m ==> Parameters: 
2023-05-15 10:27:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895185056370688 [0;39m <==    Updates: 1
2023-05-15 10:27:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38895185056370688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:27:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:17.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:17.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38895310851936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:27:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895310851936256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:27:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895310851936256 [0;39m ==> Parameters: 
2023-05-15 10:27:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895310851936256 [0;39m <==    Updates: 1
2023-05-15 10:27:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38895310851936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 10:27:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:37.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:37.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:58.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:27:58.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38895415722119168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895415722119168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895415722119168 [0;39m ==> Parameters: 
2023-05-15 10:28:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895415722119168 [0;39m <==    Updates: 0
2023-05-15 10:28:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38895415722119168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 10:28:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38895436727193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:28:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895436727193600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:28:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895436727193600 [0;39m ==> Parameters: 
2023-05-15 10:28:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895436727193600 [0;39m <==    Updates: 1
2023-05-15 10:28:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38895436727193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:28:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:18.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:18.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38895562543730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:28:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895562543730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:28:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895562543730688 [0;39m ==> Parameters: 
2023-05-15 10:28:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895562543730688 [0;39m <==    Updates: 1
2023-05-15 10:28:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38895562543730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:28:36.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:36.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:38.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:38.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:58.057 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:28:58.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38895667367776256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:29:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895667367776256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:29:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895667367776256 [0;39m ==> Parameters: 
2023-05-15 10:29:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895667367776256 [0;39m <==    Updates: 0
2023-05-15 10:29:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38895667367776256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 10:29:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38895688360267776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:29:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895688360267776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:29:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895688360267776 [0;39m ==> Parameters: 
2023-05-15 10:29:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895688360267776 [0;39m <==    Updates: 1
2023-05-15 10:29:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38895688360267776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 10:29:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:18.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:18.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38895814197776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:29:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895814197776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:29:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895814197776384 [0;39m ==> Parameters: 
2023-05-15 10:29:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895814197776384 [0;39m <==    Updates: 1
2023-05-15 10:29:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38895814197776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 10:29:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:38.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:38.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:58.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:29:58.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38895919072153600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:30:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895919072153600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:30:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895919072153600 [0;39m ==> Parameters: 
2023-05-15 10:30:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38895919072153600 [0;39m <==    Updates: 0
2023-05-15 10:30:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38895919072153600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 10:30:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38895940018507776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:30:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895940018507776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:30:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895940018507776 [0;39m ==> Parameters: 
2023-05-15 10:30:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38895940018507776 [0;39m <==    Updates: 1
2023-05-15 10:30:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38895940018507776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 10:30:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:18.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:18.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38896065893765120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:30:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:38.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:38.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:45.447 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m38896065893765120 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1039496f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-15 10:30:55.480 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m38896065893765120 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@223543bd (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-15 10:30:58.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:30:58.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:05.484 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m38896065893765120 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@60bef03 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-15 10:31:05.552 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38896065893765120 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30468ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30468ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30468ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30468ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30468ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30468ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2498)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:560)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 46 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1171)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:576)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2494)
	... 49 common frames omitted
2023-05-15 10:31:05.558 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38896193979420672 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:31:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:15.571 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m38896193979420672 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4f0d9cde (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-15 10:31:18.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:18.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:25.573 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m38896193979420672 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@230c3757 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-15 10:31:35.581 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m38896193979420672 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@35ad7e78 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-15 10:31:35.582 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38896193979420672 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30023ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30023ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30023ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30023ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30023ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30023ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2498)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:560)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 42 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1171)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:576)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2494)
	... 45 common frames omitted
2023-05-15 10:31:35.584 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38896319917592576 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:31:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:38.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:38.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:45.598 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m38896319917592576 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2346987b (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-15 10:31:55.604 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m38896319917592576 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@444289d0 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-15 10:31:58.135 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:31:58.136 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:05.609 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m38896319917592576 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@277a096e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-15 10:32:05.612 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38896319917592576 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30025ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30025ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30025ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30025ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30025ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30025ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2498)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:560)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 46 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at jdk.internal.reflect.GeneratedConstructorAccessor61.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1171)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:576)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2494)
	... 49 common frames omitted
2023-05-15 10:32:05.620 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38896445897707520 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:32:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:15.621 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m38896445897707520 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7f35f15c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-15 10:32:18.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:18.141 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:35.631 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38896445897707520 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2498)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:560)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 42 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at jdk.internal.reflect.GeneratedConstructorAccessor61.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1171)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:576)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2494)
	... 45 common frames omitted
2023-05-15 10:32:35.632 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38896571777159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:32:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:38.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:38.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:58.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:32:58.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:05.644 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38896571777159168 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:33:05.648 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38896697673388032 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:33:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:18.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:18.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:35.651 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38896697673388032 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:33:35.656 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38896823536062464 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:33:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:38.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:38.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:58.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:58.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:33:59.200 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38893236823134208 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šS90xYu8Eisï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 10:34:00.127 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38893236823134209 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šs36Ol2GQOiï¼Œsession idï¼š2ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 10:34:00.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38896926300704769 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:34:00.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38896926300704768 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:34:00.160 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38896926300704768 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 10:34:00.161 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38896926300704768 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 10:34:00.161 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38896926300704769 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:34:00.161 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38896926300704769 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:34:00.161 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38896926300704768 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:34:00.161 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38896926300704769 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:34:00.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38896926300704769 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:34:00.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38896926300704768 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:34:02.959 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38893268620152832 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:34:02.960 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38893268620152832 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 10:34:02.966 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38893269052166144 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:34:02.966 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38893269052166144 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 10:34:02.966 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38893269052166144 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38891943744376832
2023-05-15 10:34:03.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38896941203066880 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:34:03.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38896941203066880 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 10:34:03.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38896941203066880 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 10:34:03.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38896941203066880 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:34:03.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38896941203066880 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:34:03.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38896941211455489 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:34:03.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38896941211455488 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:34:03.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38896941211455489 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 10:34:03.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38896941211455488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 10:34:03.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38896941211455489 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 10:34:03.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38896941211455488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 10:34:03.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38896941211455488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:34:03.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38896941211455489 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:34:03.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38896941211455488 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:34:03.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38896941211455489 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:34:05.667 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38896823536062464 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:34:05.670 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38896949423902720 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:34:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:18.186 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:18.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:22.140 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38893269052166144 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.net.SocketException: Connection reset
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:74)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:272)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.convertLettuceAccessException(LettuceStringCommands.java:800)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:70)
	at org.springframework.data.redis.connection.DefaultedRedisConnection.get(DefaultedRedisConnection.java:267)
	at org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:57)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:60)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:229)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:189)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:96)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:53)
	at com.jiawa.wiki.interceptor.LoginInterceptor.preHandle(LoginInterceptor.java:53)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1056)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.lettuce.core.RedisException: java.net.SocketException: Connection reset
	at io.lettuce.core.internal.Exceptions.bubble(Exceptions.java:83)
	at io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:250)
	at io.lettuce.core.FutureSyncInvocationHandler.handleInvocation(FutureSyncInvocationHandler.java:75)
	at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)
	at jdk.proxy2/jdk.proxy2.$Proxy146.get(Unknown Source)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:68)
	... 49 common frames omitted
Caused by: java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)
	at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-15 10:34:22.153 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38893269052166144 [0;39m Resolved [org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.net.SocketException: Connection reset]
2023-05-15 10:34:30.176 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38896926300704769 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CommentMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CommentMapper.selectListByEbookId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy106.selectListByEbookId(Unknown Source)
	at com.jiawa.wiki.service.CommentService.selectByEbookId(CommentService.java:49)
	at com.jiawa.wiki.controller.DocController.CommentResp(DocController.java:49)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$89e293d1.CommentResp(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CommentMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CommentMapper.selectListByEbookId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:34:30.176 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38896926300704768 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapper.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy98.selectByExample(Unknown Source)
	at com.jiawa.wiki.service.DocService.all(DocService.java:63)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.all(<generated>)
	at com.jiawa.wiki.controller.DocController.all(DocController.java:57)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$89e293d1.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapper.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 86 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 91 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 103 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:34:30.176 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38896926300704769 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CommentMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CommentMapper.selectListByEbookId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.]
2023-05-15 10:34:30.176 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38896926300704768 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapper.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.]
2023-05-15 10:34:33.721 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38896941211455488 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.get30Statistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$53efd43f.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:34:33.721 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38896941203066880 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.getStatistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.getStatistic(EbookSnapshotService.java:24)
	at com.jiawa.wiki.controller.EbookSnapshotController.getStatistic(EbookSnapshotController.java:22)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$53efd43f.getStatistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:34:33.721 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38896941211455489 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy96.selectByExample(Unknown Source)
	at com.jiawa.wiki.service.CategoryService.all(CategoryService.java:36)
	at com.jiawa.wiki.controller.CategoryController.all(CategoryController.java:25)
	at com.jiawa.wiki.controller.CategoryController$$FastClassBySpringCGLIB$$6743b2dd.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.CategoryController$$EnhancerBySpringCGLIB$$fc01395.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:34:33.721 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38896941203066880 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.]
2023-05-15 10:34:33.721 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38896941211455489 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.]
2023-05-15 10:34:33.721 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38896941211455488 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.]
2023-05-15 10:34:35.681 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38896949423902720 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30007ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:34:35.683 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38897075307548672 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:34:36.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:36.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:38.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:38.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:58.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:34:58.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:05.689 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38897075307548672 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30005ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30005ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30005ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30005ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30005ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30005ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:35:05.690 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38897201166028800 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:35:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:18.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:18.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:35.716 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38897201166028800 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30014ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30014ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30014ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30014ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30014ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30014ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:35:35.720 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38897327116783616 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:35:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:36.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:38.235 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:38.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:58.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:35:58.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:05.730 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38897327116783616 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30008ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30008ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30008ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30008ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30008ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30008ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:36:05.732 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38897453000429568 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:36:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:06.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:18.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:18.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:35.738 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38897453000429568 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:36:35.749 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38897578900852736 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:36:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:38.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:38.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:58.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:36:58.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:05.753 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38897578900852736 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:37:05.760 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38897704776110080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:37:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:18.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:18.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:35.764 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38897704776110080 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:37:35.766 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38897830630395904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:37:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:36.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:38.309 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:38.311 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:58.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:37:58.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:05.774 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38897830630395904 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30006ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:38:05.778 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38897956505653248 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:38:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:18.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:18.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:35.783 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38897956505653248 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:38:35.795 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38898082410270720 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:38:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:36.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:36.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:38.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:38.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:58.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:38:58.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:05.809 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38898082410270720 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:39:05.838 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38898208419745792 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:39:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:18.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:18.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:35.847 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38898208419745792 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:39:35.847 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38898334286614528 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:39:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:38.382 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:38.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:46.194 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38896926300704769 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šs36Ol2GQOiï¼Œsession idï¼š2ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 10:39:46.817 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38896926300704768 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šU2bmIRFmNaï¼Œsession idï¼š3ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 10:39:46.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38898380398792705 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:39:46.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38898380398792706 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:39:46.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38898380398792704 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:39:46.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38898380398792704 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 10:39:46.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38898380398792706 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 10:39:46.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38898380398792705 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 10:39:46.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38898380398792704 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 10:39:46.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38898380398792705 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 10:39:46.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38898380398792706 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 10:39:46.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38898380398792704 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:39:46.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38898380398792706 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:39:46.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38898380398792705 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:39:46.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38898380398792705 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:39:46.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38898380398792704 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:39:46.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38898380398792706 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:39:48.196 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38893269052166144 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:39:48.196 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38893269052166144 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 10:39:48.196 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38893269052166144 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38891943744376832
2023-05-15 10:39:58.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:39:58.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:05.860 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38898334286614528 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30009ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:40:05.860 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38898460170260480 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:40:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:08.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38898471742345216 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:40:08.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38898471742345217 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:40:08.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38898471742345216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 10:40:08.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38898471742345217 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 10:40:08.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38898471742345217 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 10:40:08.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38898471742345217 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:40:08.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38898471742345216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 10:40:08.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38898471742345217 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:40:08.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38898471742345216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:40:08.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38898471742345216 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:40:16.858 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38898380398792705 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.getStatistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.getStatistic(EbookSnapshotService.java:24)
	at com.jiawa.wiki.controller.EbookSnapshotController.getStatistic(EbookSnapshotController.java:22)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$53efd43f.getStatistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:40:16.858 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38898380398792704 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.get30Statistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$53efd43f.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:40:16.866 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38898380398792706 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy96.selectByExample(Unknown Source)
	at com.jiawa.wiki.service.CategoryService.all(CategoryService.java:36)
	at com.jiawa.wiki.controller.CategoryController.all(CategoryController.java:25)
	at com.jiawa.wiki.controller.CategoryController$$FastClassBySpringCGLIB$$6743b2dd.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.CategoryController$$EnhancerBySpringCGLIB$$fc01395.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:40:16.870 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38898380398792706 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.]
2023-05-15 10:40:16.870 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38898380398792705 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.]
2023-05-15 10:40:16.870 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38898380398792704 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.]
2023-05-15 10:40:16.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38898506362130432 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:40:16.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38898506362130432 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 10:40:16.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38898506362130432 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 10:40:16.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38898506362130432 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:40:16.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38898506362130432 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:40:18.405 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:35.871 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38898460170260480 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:40:35.875 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38898586062295040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:40:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:36.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:36.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:36.354 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:38.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:38.410 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:38.623 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38898471742345217 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.get30Statistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$53efd43f.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:40:38.623 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38898471742345216 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.getStatistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.getStatistic(EbookSnapshotService.java:24)
	at com.jiawa.wiki.controller.EbookSnapshotController.getStatistic(EbookSnapshotController.java:22)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$53efd43f.getStatistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:40:38.631 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38898471742345216 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.]
2023-05-15 10:40:38.631 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38898471742345217 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.]
2023-05-15 10:40:46.879 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38898506362130432 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy96.selectByExample(Unknown Source)
	at com.jiawa.wiki.service.CategoryService.all(CategoryService.java:36)
	at com.jiawa.wiki.controller.CategoryController.all(CategoryController.java:25)
	at com.jiawa.wiki.controller.CategoryController$$FastClassBySpringCGLIB$$6743b2dd.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.CategoryController$$EnhancerBySpringCGLIB$$fc01395.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:40:46.896 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38898506362130432 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.]
2023-05-15 10:40:48.239 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38893269052166144 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.dao.QueryTimeoutException: Redis command timed out; nested exception is io.lettuce.core.RedisCommandTimeoutException: Command timed out after 1 minute(s)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:70)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:272)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.convertLettuceAccessException(LettuceStringCommands.java:800)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:70)
	at org.springframework.data.redis.connection.DefaultedRedisConnection.get(DefaultedRedisConnection.java:267)
	at org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:57)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:60)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:229)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:189)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:96)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:53)
	at com.jiawa.wiki.interceptor.LoginInterceptor.preHandle(LoginInterceptor.java:53)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1056)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: io.lettuce.core.RedisCommandTimeoutException: Command timed out after 1 minute(s)
	at io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:53)
	at io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:246)
	at io.lettuce.core.FutureSyncInvocationHandler.handleInvocation(FutureSyncInvocationHandler.java:75)
	at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)
	at jdk.proxy2/jdk.proxy2.$Proxy146.get(Unknown Source)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:68)
	... 49 common frames omitted
2023-05-15 10:40:48.240 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38893269052166144 [0;39m Resolved [org.springframework.dao.QueryTimeoutException: Redis command timed out; nested exception is io.lettuce.core.RedisCommandTimeoutException: Command timed out after 1 minute(s)]
2023-05-15 10:40:58.412 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:40:58.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:05.879 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38898586062295040 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:41:05.892 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38898711962718208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:41:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:07.392 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38893209157505025 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šU2bmIRFmNaï¼Œsession idï¼š3ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 10:41:07.676 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38896926300704769 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šgiQEY0DfD6ï¼Œsession idï¼š4ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 10:41:07.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38898719546019840 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:41:07.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38898719546019841 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:41:07.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38898719541825536 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:41:07.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38898719546019840 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 10:41:07.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38898719546019841 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 10:41:07.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38898719546019840 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 10:41:07.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38898719541825536 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 10:41:07.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38898719546019840 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:41:07.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38898719541825536 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 10:41:07.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38898719546019841 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 10:41:07.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38898719546019841 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:41:07.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38898719546019841 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:41:07.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38898719541825536 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:41:07.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38898719546019840 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:41:07.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38898719541825536 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:41:18.432 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:35.905 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38898711962718208 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:41:35.906 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38898837850558464 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:41:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:37.707 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38898719546019841 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy96.selectByExample(Unknown Source)
	at com.jiawa.wiki.service.CategoryService.all(CategoryService.java:36)
	at com.jiawa.wiki.controller.CategoryController.all(CategoryController.java:25)
	at com.jiawa.wiki.controller.CategoryController$$FastClassBySpringCGLIB$$6743b2dd.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.CategoryController$$EnhancerBySpringCGLIB$$fc01395.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:41:37.707 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38898719546019840 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.getStatistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.getStatistic(EbookSnapshotService.java:24)
	at com.jiawa.wiki.controller.EbookSnapshotController.getStatistic(EbookSnapshotController.java:22)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$53efd43f.getStatistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:41:37.707 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38898719541825536 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.get30Statistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$53efd43f.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor111.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:41:37.723 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38898719546019841 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.]
2023-05-15 10:41:37.723 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38898719541825536 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.]
2023-05-15 10:41:37.723 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38898719546019840 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.]
2023-05-15 10:41:38.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:38.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:58.458 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:41:58.462 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:05.965 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38898837850558464 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30013ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:42:06.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38898964128468992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:42:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:06.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:06.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:06.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:18.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:18.467 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:36.016 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38898964128468992 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:42:36.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38899089986949120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:42:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:38.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:38.475 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:58.477 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:42:58.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:06.024 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38899089986949120 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30002ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:43:06.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38899215849623552 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:43:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:18.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:18.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:36.032 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38899215849623552 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:43:36.035 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38899341708103680 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:43:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:38.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:38.501 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:58.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:43:58.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:06.036 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38899341708103680 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:44:06.040 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38899467558195200 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:44:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:18.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:18.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:36.053 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38899467558195200 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30011ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30011ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30011ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30011ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30011ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30011ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:44:36.055 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38899593450229760 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:44:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:36.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:38.537 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:38.538 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:58.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:44:58.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:06.058 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38899593450229760 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:45:06.065 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38899719321292800 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:45:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:18.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:18.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:36.068 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38899719321292800 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy109.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor161.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 20 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 24 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 37 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:45:36.069 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38899845167190016 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:45:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:38.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:38.553 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:58.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:45:58.557 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:46:06.083 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m38899845167190016 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30012ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30012ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy95.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy99.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:171)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$50e87cde.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at jdk.internal.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30012ms.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30012ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor129.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30012ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor128.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 28 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30012ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 41 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	... 3 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at jdk.internal.reflect.GeneratedConstructorAccessor62.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 15 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 17 common frames omitted
2023-05-15 10:46:06.084 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38899971059224576 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:46:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:46:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:46:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:46:18.560 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:46:18.561 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:46:18.774 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38899971059224576 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:46:18.775 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38899971059224576 [0;39m ==> Parameters: 
2023-05-15 10:46:18.782 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38899971059224576 [0;39m <==    Updates: 0
2023-05-15 10:46:18.782 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38899971059224576 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12698æ¯«ç§’
2023-05-15 10:46:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38900092341719040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:46:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900092341719040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:46:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900092341719040 [0;39m ==> Parameters: 
2023-05-15 10:46:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900092341719040 [0;39m <==    Updates: 1
2023-05-15 10:46:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38900092341719040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:46:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:46:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:46:37.855 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38898380398792705 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:46:37.855 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38898380398792705 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 10:46:37.855 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38898380398792705 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38891943744376832
2023-05-15 10:46:37.860 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38898380398792705 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38891943744376832"}
2023-05-15 10:46:37.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900104421314560 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:46:37.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900104421314560 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 10:46:37.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900104421314560 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 10:46:37.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900104421314560 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:46:37.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900104421314560 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 10:46:37.890 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38900104421314560 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 10:46:37.890 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38900104421314560 [0;39m ==> Parameters: 
2023-05-15 10:46:37.892 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38900104421314560 [0;39m <==    Columns: count(0)
2023-05-15 10:46:37.893 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38900104421314560 [0;39m <==        Row: 6
2023-05-15 10:46:37.893 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38900104421314560 [0;39m <==      Total: 1
2023-05-15 10:46:37.894 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900104421314560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 10:46:37.894 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900104421314560 [0;39m ==> Parameters: 10(Integer)
2023-05-15 10:46:37.895 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900104421314560 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:46:37.895 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900104421314560 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:46:37.895 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900104421314560 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 10:46:37.895 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900104421314560 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 10:46:37.895 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900104421314560 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-15 10:46:37.895 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900104421314560 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-15 10:46:37.895 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900104421314560 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-15 10:46:37.895 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900104421314560 [0;39m <==      Total: 6
2023-05-15 10:46:37.895 INFO  com.jiawa.wiki.service.UserService                :50   [32m38900104421314560 [0;39m æ€»è¡Œæ•°ï¼š6
2023-05-15 10:46:37.896 INFO  com.jiawa.wiki.service.UserService                :51   [32m38900104421314560 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 10:46:37.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900104421314560 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-15 10:46:37.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900104421314560 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š40 ms -------------
2023-05-15 10:46:37.924 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38900104421314560 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š69 ms -------------
2023-05-15 10:46:38.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:46:38.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900108607229952 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:46:38.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900108607229952 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 10:46:38.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900108607229952 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 10:46:38.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900108607229952 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:46:38.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900108607229952 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:46:38.884 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900108607229952 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 10:46:38.884 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900108607229952 [0;39m ==> Parameters: 
2023-05-15 10:46:38.886 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 10:46:38.886 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 10:46:38.886 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 10:46:38.887 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 10:46:38.887 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 10:46:38.887 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 10:46:38.887 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 10:46:38.887 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 10:46:38.887 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 10:46:38.887 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 10:46:38.887 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 10:46:38.888 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 10:46:38.888 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 10:46:38.888 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 10:46:38.888 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 10:46:38.888 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900108607229952 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 10:46:38.888 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900108607229952 [0;39m <==      Total: 15
2023-05-15 10:46:38.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900108607229952 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 10:46:38.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900108607229952 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š20 ms -------------
2023-05-15 10:46:38.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900108766613504 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:46:38.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900108766613504 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 10:46:38.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900108766613504 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 10:46:38.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900108766613504 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:46:38.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900108766613504 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 10:46:38.917 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38900108766613504 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 10:46:38.917 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38900108766613504 [0;39m ==> Parameters: 
2023-05-15 10:46:38.919 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38900108766613504 [0;39m <==    Columns: count(0)
2023-05-15 10:46:38.919 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38900108766613504 [0;39m <==        Row: 5
2023-05-15 10:46:38.919 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38900108766613504 [0;39m <==      Total: 1
2023-05-15 10:46:38.919 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38900108766613504 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 10:46:38.919 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38900108766613504 [0;39m ==> Parameters: 10(Integer)
2023-05-15 10:46:38.920 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900108766613504 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 10:46:38.920 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900108766613504 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 130, 10
2023-05-15 10:46:38.920 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900108766613504 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 10:46:38.920 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900108766613504 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 10:46:38.920 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900108766613504 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 10:46:38.921 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900108766613504 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 10:46:38.921 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38900108766613504 [0;39m <==      Total: 5
2023-05-15 10:46:38.921 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38900108766613504 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 10:46:38.921 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38900108766613504 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 10:46:38.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900108766613504 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":130,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 10:46:38.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900108766613504 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 10:46:39.930 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38898719546019841 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:46:39.930 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38898719546019841 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 10:46:39.930 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38898719546019841 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38891943744376832
2023-05-15 10:46:39.931 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38898719546019841 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38891943744376832"}
2023-05-15 10:46:39.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900113028026368 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:46:39.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900113028026368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 10:46:39.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900113028026368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 10:46:39.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900113028026368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:46:39.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900113028026368 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 10:46:39.935 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38900113028026368 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 10:46:39.935 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38900113028026368 [0;39m ==> Parameters: 
2023-05-15 10:46:39.938 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38900113028026368 [0;39m <==    Columns: count(0)
2023-05-15 10:46:39.938 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38900113028026368 [0;39m <==        Row: 6
2023-05-15 10:46:39.938 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38900113028026368 [0;39m <==      Total: 1
2023-05-15 10:46:39.938 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900113028026368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 10:46:39.939 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900113028026368 [0;39m ==> Parameters: 10(Integer)
2023-05-15 10:46:39.940 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900113028026368 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:46:39.940 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900113028026368 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:46:39.940 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900113028026368 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 10:46:39.940 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900113028026368 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 10:46:39.940 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900113028026368 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-15 10:46:39.940 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900113028026368 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-15 10:46:39.940 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900113028026368 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-15 10:46:39.940 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900113028026368 [0;39m <==      Total: 6
2023-05-15 10:46:39.940 INFO  com.jiawa.wiki.service.UserService                :50   [32m38900113028026368 [0;39m æ€»è¡Œæ•°ï¼š6
2023-05-15 10:46:39.941 INFO  com.jiawa.wiki.service.UserService                :51   [32m38900113028026368 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 10:46:39.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900113028026368 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-15 10:46:39.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900113028026368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-15 10:46:39.945 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38900113028026368 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-15 10:46:40.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900114756079616 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:46:40.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900114756079616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 10:46:40.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900114756079616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 10:46:40.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900114756079616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:46:40.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900114760273920 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:46:40.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900114756079616 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:46:40.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900114760273920 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 10:46:40.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900114760273920 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 10:46:40.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900114760273920 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:46:40.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900114760273920 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:46:40.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900114760273921 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:46:40.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900114760273921 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 10:46:40.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900114760273921 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 10:46:40.345 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38900114756079616 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 10:46:40.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900114760273921 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:46:40.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900114760273921 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:46:40.346 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38900114756079616 [0;39m ==> Parameters: 
2023-05-15 10:46:40.347 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38900114756079616 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 10:46:40.348 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38900114756079616 [0;39m <==        Row: 2023-05-15, 130, 10, 130, 10
2023-05-15 10:46:40.348 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38900114756079616 [0;39m <==      Total: 1
2023-05-15 10:46:40.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900114756079616 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":130,"viewIncrease":130,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 10:46:40.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900114756079616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-15 10:46:40.353 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900114760273921 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 10:46:40.353 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38900114760273920 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 10:46:40.354 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900114760273921 [0;39m ==> Parameters: 
2023-05-15 10:46:40.354 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38900114760273920 [0;39m ==> Parameters: 
2023-05-15 10:46:40.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 10:46:40.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 10:46:40.355 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900114760273920 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-15 10:46:40.356 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900114760273920 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-15 10:46:40.356 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 10:46:40.356 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900114760273920 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-15 10:46:40.356 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 10:46:40.356 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900114760273920 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-15 10:46:40.356 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 10:46:40.356 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 10:46:40.356 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 10:46:40.356 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 10:46:40.356 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 10:46:40.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 10:46:40.357 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900114760273920 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-15 10:46:40.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 10:46:40.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 10:46:40.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 10:46:40.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 10:46:40.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 10:46:40.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900114760273921 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 10:46:40.358 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900114760273921 [0;39m <==      Total: 15
2023-05-15 10:46:40.358 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900114760273920 [0;39m <==        Row: 2023-05-13, 56, 0
2023-05-15 10:46:40.358 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38900114760273920 [0;39m <==      Total: 5
2023-05-15 10:46:40.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900114760273920 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":56,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-15 10:46:40.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900114760273920 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 10:46:40.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900114760273921 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 10:46:40.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900114760273921 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 10:46:48.727 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38900108607229952 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:46:48.728 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38900108607229952 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 10:46:48.729 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38893209157505025 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:46:48.729 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38893209157505025 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/logout/38891943744376832
2023-05-15 10:46:48.729 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38893209157505025 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38891943744376832
2023-05-15 10:46:48.730 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38893209157505025 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38891943744376832"}
2023-05-15 10:46:48.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900150017593344 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:46:48.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900150017593344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/logout/38891943744376832 GET
2023-05-15 10:46:48.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900150017593344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.logout
2023-05-15 10:46:48.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900150017593344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:46:48.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900150017593344 [0;39m è¯·æ±‚å‚æ•°: ["38891943744376832"]
2023-05-15 10:46:48.755 INFO  com.jiawa.wiki.controller.UserController          :97   [32m38900150017593344 [0;39m ä»Žredisä¸­åˆ é™¤token: 38891943744376832
2023-05-15 10:46:48.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900150017593344 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 10:46:48.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900150017593344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-15 10:46:48.756 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38900150017593344 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2023-05-15 10:46:58.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900189246918656 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:46:58.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900189246918656 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-15 10:46:58.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900189246918656 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-15 10:46:58.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900189246918656 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:46:58.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900189246918656 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-15 10:46:58.106 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900189246918656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-15 10:46:58.106 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900189246918656 [0;39m ==> Parameters: test(String)
2023-05-15 10:46:58.108 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900189246918656 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:46:58.108 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900189246918656 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:46:58.108 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900189246918656 [0;39m <==      Total: 1
2023-05-15 10:46:58.108 INFO  com.jiawa.wiki.service.UserService                :128  [32m38900189246918656 [0;39m å¯†ç ä¸å¯¹, è¾“å…¥å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4, æ•°æ®åº“å¯†ç ï¼šdb0887127059810ba9f80186d795edb5
2023-05-15 10:46:58.108 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38900189246918656 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2023-05-15 10:46:58.109 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38900189246918656 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2023-05-15 10:46:58.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:46:58.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38900197216096256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:47:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900197216096256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:47:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900197216096256 [0;39m ==> Parameters: 
2023-05-15 10:47:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900197216096256 [0;39m <==    Updates: 0
2023-05-15 10:47:00.044 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38900197216096256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š40æ¯«ç§’
2023-05-15 10:47:01.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900202328952832 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:01.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900202328952832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-15 10:47:01.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900202328952832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-15 10:47:01.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900202328952832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:01.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900202328952832 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-15 10:47:01.225 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900202328952832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-15 10:47:01.225 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900202328952832 [0;39m ==> Parameters: test(String)
2023-05-15 10:47:01.227 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900202328952832 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:01.228 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900202328952832 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:01.228 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900202328952832 [0;39m <==      Total: 1
2023-05-15 10:47:01.230 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38900202328952832 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38900202358312960ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-15 10:47:01.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900202328952832 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38900202358312960"},"success":true}
2023-05-15 10:47:01.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900202328952832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 10:47:02.194 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38900114760273920 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 10:47:02.194 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38900114760273920 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 10:47:02.194 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38900114760273920 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38900202358312960
2023-05-15 10:47:02.195 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38900114760273920 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38900202358312960"}
2023-05-15 10:47:02.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900206410010624 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:02.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900206410010624 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 10:47:02.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900206410010624 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 10:47:02.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900206410010624 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:02.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900206410010624 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 10:47:02.197 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38900206410010624 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 10:47:02.197 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38900206410010624 [0;39m ==> Parameters: 
2023-05-15 10:47:02.199 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38900206410010624 [0;39m <==    Columns: count(0)
2023-05-15 10:47:02.199 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38900206410010624 [0;39m <==        Row: 6
2023-05-15 10:47:02.199 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38900206410010624 [0;39m <==      Total: 1
2023-05-15 10:47:02.199 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900206410010624 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 10:47:02.199 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900206410010624 [0;39m ==> Parameters: 10(Integer)
2023-05-15 10:47:02.201 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900206410010624 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:02.201 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900206410010624 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:02.201 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900206410010624 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 10:47:02.201 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900206410010624 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 10:47:02.201 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900206410010624 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-15 10:47:02.201 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900206410010624 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-15 10:47:02.201 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38900206410010624 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-15 10:47:02.201 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38900206410010624 [0;39m <==      Total: 6
2023-05-15 10:47:02.202 INFO  com.jiawa.wiki.service.UserService                :50   [32m38900206410010624 [0;39m æ€»è¡Œæ•°ï¼š6
2023-05-15 10:47:02.202 INFO  com.jiawa.wiki.service.UserService                :51   [32m38900206410010624 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 10:47:02.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900206410010624 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-15 10:47:02.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900206410010624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 10:47:02.204 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38900206410010624 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 10:47:03.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900210533011456 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:03.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900210533011456 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 10:47:03.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900210533011456 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 10:47:03.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900210533011456 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:03.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900210533011456 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:47:03.180 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900210533011456 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 10:47:03.180 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900210533011456 [0;39m ==> Parameters: 
2023-05-15 10:47:03.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 10:47:03.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 10:47:03.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 10:47:03.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900210533011456 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 10:47:03.187 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900210533011456 [0;39m <==      Total: 15
2023-05-15 10:47:03.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900210533011456 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 10:47:03.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900210533011456 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 10:47:03.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900210604314624 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:03.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900210604314624 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 10:47:03.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900210604314624 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 10:47:03.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900210604314624 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:03.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900210604314624 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 10:47:03.199 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38900210604314624 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 10:47:03.199 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38900210604314624 [0;39m ==> Parameters: 
2023-05-15 10:47:03.201 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38900210604314624 [0;39m <==    Columns: count(0)
2023-05-15 10:47:03.201 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38900210604314624 [0;39m <==        Row: 5
2023-05-15 10:47:03.201 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38900210604314624 [0;39m <==      Total: 1
2023-05-15 10:47:03.201 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38900210604314624 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 10:47:03.201 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38900210604314624 [0;39m ==> Parameters: 10(Integer)
2023-05-15 10:47:03.202 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900210604314624 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 10:47:03.203 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900210604314624 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 130, 10
2023-05-15 10:47:03.203 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900210604314624 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 10:47:03.203 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900210604314624 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 10:47:03.203 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900210604314624 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 10:47:03.203 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900210604314624 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 10:47:03.203 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38900210604314624 [0;39m <==      Total: 5
2023-05-15 10:47:03.203 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38900210604314624 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 10:47:03.203 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38900210604314624 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 10:47:03.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900210604314624 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":130,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 10:47:03.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900210604314624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900212894404610 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900212894404609 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900212894404610 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900212894404609 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900212894404610 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900212894404609 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900212894404610 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900212894404609 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900212894404610 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900212894404608 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900212894404609 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900212894404608 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900212894404608 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900212894404608 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:03.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900212894404608 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 10:47:03.743 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38900212894404609 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 10:47:03.743 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38900212894404609 [0;39m ==> Parameters: 
2023-05-15 10:47:03.745 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900212894404609 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-15 10:47:03.745 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900212894404609 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-15 10:47:03.745 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900212894404609 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-15 10:47:03.745 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900212894404609 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-15 10:47:03.745 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900212894404609 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-15 10:47:03.745 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38900212894404609 [0;39m <==        Row: 2023-05-13, 56, 0
2023-05-15 10:47:03.745 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38900212894404609 [0;39m <==      Total: 5
2023-05-15 10:47:03.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900212894404609 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":56,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-15 10:47:03.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900212894404609 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-15 10:47:03.751 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900212894404610 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 10:47:03.751 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38900212894404608 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 10:47:03.751 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38900212894404608 [0;39m ==> Parameters: 
2023-05-15 10:47:03.751 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900212894404610 [0;39m ==> Parameters: 
2023-05-15 10:47:03.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 10:47:03.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 10:47:03.753 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38900212894404608 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 10:47:03.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 10:47:03.753 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38900212894404608 [0;39m <==        Row: 2023-05-15, 130, 10, 130, 10
2023-05-15 10:47:03.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 10:47:03.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 10:47:03.754 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38900212894404608 [0;39m <==      Total: 1
2023-05-15 10:47:03.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 10:47:03.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 10:47:03.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 10:47:03.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900212894404608 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":130,"viewIncrease":130,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 10:47:03.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 10:47:03.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900212894404608 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 10:47:03.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 10:47:03.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 10:47:03.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 10:47:03.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 10:47:03.755 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 10:47:03.755 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 10:47:03.755 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38900212894404610 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 10:47:03.755 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38900212894404610 [0;39m <==      Total: 15
2023-05-15 10:47:03.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900212894404610 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 10:47:03.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900212894404610 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 10:47:04.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900215390015488 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:04.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900215390015488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 10:47:04.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900215390015488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 10:47:04.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900215390015488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:04.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900215390015488 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-15 10:47:04.339 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38900215390015488 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 10:47:04.339 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38900215390015488 [0;39m ==> Parameters: 202(Long)
2023-05-15 10:47:04.341 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38900215390015488 [0;39m <==    Columns: count(0)
2023-05-15 10:47:04.341 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38900215390015488 [0;39m <==        Row: 1
2023-05-15 10:47:04.341 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38900215390015488 [0;39m <==      Total: 1
2023-05-15 10:47:04.341 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38900215390015488 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 10:47:04.341 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38900215390015488 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-15 10:47:04.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900215390015488 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 10:47:04.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38900215390015488 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 130, 10
2023-05-15 10:47:04.341 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38900215390015488 [0;39m <==      Total: 1
2023-05-15 10:47:04.342 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38900215390015488 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 10:47:04.342 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38900215390015488 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 10:47:04.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900215390015488 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":130,"voteCount":10}],"total":1},"success":true}
2023-05-15 10:47:04.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900215390015488 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 10:47:04.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900217566859264 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:04.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900217566859264 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 10:47:04.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900217566859264 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 10:47:04.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900217566859264 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:04.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900217566859264 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:47:04.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900217571053568 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:04.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900217571053568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:47:04.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900217571053568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:47:04.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900217571053568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:04.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900217571053568 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:47:04.858 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900217571053568 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:47:04.858 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38900217566859264 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 10:47:04.858 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38900217566859264 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:04.858 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900217571053568 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:04.859 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38900217566859264 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 10:47:04.859 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38900217566859264 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 105, 5
2023-05-15 10:47:04.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38900217566859264 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-15 10:47:04.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38900217566859264 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-15 10:47:04.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38900217566859264 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-15 10:47:04.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38900217566859264 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-15 10:47:04.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38900217566859264 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-15 10:47:04.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38900217566859264 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-15 10:47:04.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38900217566859264 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-15 10:47:04.860 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38900217566859264 [0;39m <==      Total: 8
2023-05-15 10:47:04.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900217566859264 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":105,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-15 10:47:04.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900217566859264 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 10:47:04.867 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900217571053568 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:47:04.868 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900217571053568 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:47:04.868 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900217571053568 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:47:04.869 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900217571053568 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:47:04.869 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900217571053568 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 10:47:04.869 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900217571053568 [0;39m <==      Total: 4
2023-05-15 10:47:04.869 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:04.869 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:04.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900217688494080 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:04.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900217688494080 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 10:47:04.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900217688494080 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:04.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900217688494080 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:04.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900217688494080 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:47:04.886 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900217688494080 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:04.886 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900217688494080 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:04.888 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:04.888 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:04.888 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m <==      Total: 1
2023-05-15 10:47:04.888 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:04.888 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:04.888 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900217688494080 [0;39m <==    Columns: id, content
2023-05-15 10:47:04.888 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900217688494080 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 10:47:04.888 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900217688494080 [0;39m <==      Total: 1
2023-05-15 10:47:04.888 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900217688494080 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:04.888 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900217688494080 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:04.889 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:04.889 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:04.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m <==      Total: 1
2023-05-15 10:47:04.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:04.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:04.890 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:04.890 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:04.890 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m <==      Total: 1
2023-05-15 10:47:04.890 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:04.890 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:04.891 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:04.891 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:04.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m <==      Total: 1
2023-05-15 10:47:04.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:04.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:04.893 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:04.893 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:04.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m <==      Total: 1
2023-05-15 10:47:04.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:04.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:04.902 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:04.902 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900217571053568 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:04.902 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900217571053568 [0;39m <==      Total: 1
2023-05-15 10:47:04.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900217571053568 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:47:04.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900217571053568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š45 ms -------------
2023-05-15 10:47:04.979 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900217688494080 [0;39m <==    Updates: 1
2023-05-15 10:47:04.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900217688494080 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 10:47:04.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900217688494080 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š94 ms -------------
2023-05-15 10:47:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38900218175033344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:47:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900218175033344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:47:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900218175033344 [0;39m ==> Parameters: 
2023-05-15 10:47:05.083 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900218175033344 [0;39m <==    Updates: 1
2023-05-15 10:47:05.084 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38900218175033344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š83æ¯«ç§’
2023-05-15 10:47:06.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900223396941824 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:06.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900223396941824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:47:06.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900223396941824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:47:06.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900223396941824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:06.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900223396941824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:47:06.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900223396941824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:47:06.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900223396941824 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:06.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900223396941824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:47:06.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900223396941824 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:47:06.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900223396941824 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:47:06.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900223396941824 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:47:06.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900223396941824 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 10:47:06.249 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900223396941824 [0;39m <==      Total: 4
2023-05-15 10:47:06.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:06.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:06.260 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:06.260 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:06.260 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m <==      Total: 1
2023-05-15 10:47:06.261 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:06.262 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:06.264 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:06.264 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:06.264 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m <==      Total: 1
2023-05-15 10:47:06.264 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:06.264 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:06.267 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:06.267 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:06.267 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m <==      Total: 1
2023-05-15 10:47:06.267 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:06.267 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:06.268 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:06.268 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:06.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m <==      Total: 1
2023-05-15 10:47:06.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:06.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:06.270 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:06.270 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:06.270 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m <==      Total: 1
2023-05-15 10:47:06.270 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:06.270 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:06.289 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:06.289 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900223396941824 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:06.289 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900223396941824 [0;39m <==      Total: 1
2023-05-15 10:47:06.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900223396941824 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:47:06.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900223396941824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š43 ms -------------
2023-05-15 10:47:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:12.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900250341150720 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:12.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900250341150720 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-15 10:47:12.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900250341150720 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:12.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900250341150720 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:12.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900250341150720 [0;39m è¯·æ±‚å‚æ•°: [2]
2023-05-15 10:47:12.672 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900250341150720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:12.672 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900250341150720 [0;39m ==> Parameters: 2(Long)
2023-05-15 10:47:12.677 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900250341150720 [0;39m <==      Total: 0
2023-05-15 10:47:12.677 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900250341150720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:12.677 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900250341150720 [0;39m ==> Parameters: 2(Long)
2023-05-15 10:47:12.758 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900250341150720 [0;39m <==    Updates: 1
2023-05-15 10:47:12.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900250341150720 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:12.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900250341150720 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š88 ms -------------
2023-05-15 10:47:13.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900252555743232 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:13.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900252555743232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/3 GET
2023-05-15 10:47:13.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900252555743232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:13.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900252555743232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:13.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900252555743232 [0;39m è¯·æ±‚å‚æ•°: [3]
2023-05-15 10:47:13.200 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900252555743232 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:13.200 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900252555743232 [0;39m ==> Parameters: 3(Long)
2023-05-15 10:47:13.232 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900252555743232 [0;39m <==      Total: 0
2023-05-15 10:47:13.233 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900252555743232 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:13.233 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900252555743232 [0;39m ==> Parameters: 3(Long)
2023-05-15 10:47:13.300 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900252555743232 [0;39m <==    Updates: 1
2023-05-15 10:47:13.301 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900252555743232 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:13.301 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900252555743232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š103 ms -------------
2023-05-15 10:47:13.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900255542087680 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:13.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900255542087680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/4 GET
2023-05-15 10:47:13.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900255542087680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:13.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900255542087680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:13.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900255542087680 [0;39m è¯·æ±‚å‚æ•°: [4]
2023-05-15 10:47:13.912 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900255542087680 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:13.912 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900255542087680 [0;39m ==> Parameters: 4(Long)
2023-05-15 10:47:13.924 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900255542087680 [0;39m <==      Total: 0
2023-05-15 10:47:13.924 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900255542087680 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:13.924 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900255542087680 [0;39m ==> Parameters: 4(Long)
2023-05-15 10:47:13.992 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900255542087680 [0;39m <==    Updates: 1
2023-05-15 10:47:13.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900255542087680 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:13.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900255542087680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š83 ms -------------
2023-05-15 10:47:14.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900257215614976 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:14.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900257215614976 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/5 GET
2023-05-15 10:47:14.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900257215614976 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:14.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900257215614976 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:14.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900257215614976 [0;39m è¯·æ±‚å‚æ•°: [5]
2023-05-15 10:47:14.311 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900257215614976 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:14.311 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900257215614976 [0;39m ==> Parameters: 5(Long)
2023-05-15 10:47:14.330 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900257215614976 [0;39m <==      Total: 0
2023-05-15 10:47:14.330 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900257215614976 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:14.330 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900257215614976 [0;39m ==> Parameters: 5(Long)
2023-05-15 10:47:14.399 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900257215614976 [0;39m <==    Updates: 1
2023-05-15 10:47:14.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900257215614976 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:14.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900257215614976 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š92 ms -------------
2023-05-15 10:47:14.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900258859782144 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:14.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900258859782144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/6 GET
2023-05-15 10:47:14.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900258859782144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:14.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900258859782144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:14.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900258859782144 [0;39m è¯·æ±‚å‚æ•°: [6]
2023-05-15 10:47:14.703 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900258859782144 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:14.703 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900258859782144 [0;39m ==> Parameters: 6(Long)
2023-05-15 10:47:14.704 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900258859782144 [0;39m <==      Total: 0
2023-05-15 10:47:14.704 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900258859782144 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:14.704 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900258859782144 [0;39m ==> Parameters: 6(Long)
2023-05-15 10:47:14.759 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900258859782144 [0;39m <==    Updates: 1
2023-05-15 10:47:14.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900258859782144 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:14.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900258859782144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š59 ms -------------
2023-05-15 10:47:15.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900260818522112 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:15.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900260818522112 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/37841703666847744 GET
2023-05-15 10:47:15.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900260818522112 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:15.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900260818522112 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:15.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900260818522112 [0;39m è¯·æ±‚å‚æ•°: [37841703666847744]
2023-05-15 10:47:15.169 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900260818522112 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:15.169 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900260818522112 [0;39m ==> Parameters: 37841703666847744(Long)
2023-05-15 10:47:15.178 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900260818522112 [0;39m <==    Columns: id, content
2023-05-15 10:47:15.178 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900260818522112 [0;39m <==        Row: 37841703666847744, <<BLOB>>
2023-05-15 10:47:15.178 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900260818522112 [0;39m <==      Total: 1
2023-05-15 10:47:15.178 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900260818522112 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:15.178 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900260818522112 [0;39m ==> Parameters: 37841703666847744(Long)
2023-05-15 10:47:15.259 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900260818522112 [0;39m <==    Updates: 1
2023-05-15 10:47:15.260 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900260818522112 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:15.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900260818522112 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š93 ms -------------
2023-05-15 10:47:15.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900262445912064 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:15.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900262445912064 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/37841746528440320 GET
2023-05-15 10:47:15.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900262445912064 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:15.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900262445912064 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:15.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900262445912064 [0;39m è¯·æ±‚å‚æ•°: [37841746528440320]
2023-05-15 10:47:15.557 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900262445912064 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:15.558 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900262445912064 [0;39m ==> Parameters: 37841746528440320(Long)
2023-05-15 10:47:15.559 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900262445912064 [0;39m <==    Columns: id, content
2023-05-15 10:47:15.559 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900262445912064 [0;39m <==        Row: 37841746528440320, <<BLOB>>
2023-05-15 10:47:15.559 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900262445912064 [0;39m <==      Total: 1
2023-05-15 10:47:15.560 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900262445912064 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:15.560 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900262445912064 [0;39m ==> Parameters: 37841746528440320(Long)
2023-05-15 10:47:15.668 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900262445912064 [0;39m <==    Updates: 1
2023-05-15 10:47:15.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900262445912064 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:15.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900262445912064 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š113 ms -------------
2023-05-15 10:47:16.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900267609100288 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:16.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900267609100288 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/37841746528440320 GET
2023-05-15 10:47:16.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900267609100288 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:16.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900267609100288 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:16.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900267609100288 [0;39m è¯·æ±‚å‚æ•°: [37841746528440320]
2023-05-15 10:47:16.788 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900267609100288 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:16.788 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900267609100288 [0;39m ==> Parameters: 37841746528440320(Long)
2023-05-15 10:47:16.798 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900267609100288 [0;39m <==    Columns: id, content
2023-05-15 10:47:16.798 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900267609100288 [0;39m <==        Row: 37841746528440320, <<BLOB>>
2023-05-15 10:47:16.798 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900267609100288 [0;39m <==      Total: 1
2023-05-15 10:47:16.799 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900267609100288 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:16.799 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900267609100288 [0;39m ==> Parameters: 37841746528440320(Long)
2023-05-15 10:47:16.851 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900267609100288 [0;39m <==    Updates: 1
2023-05-15 10:47:16.852 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900267609100288 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:16.852 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900267609100288 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š65 ms -------------
2023-05-15 10:47:17.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900269240684544 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:17.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900269240684544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/37841703666847744 GET
2023-05-15 10:47:17.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900269240684544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:17.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900269240684544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:17.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900269240684544 [0;39m è¯·æ±‚å‚æ•°: [37841703666847744]
2023-05-15 10:47:17.178 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900269240684544 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:17.178 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900269240684544 [0;39m ==> Parameters: 37841703666847744(Long)
2023-05-15 10:47:17.179 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900269240684544 [0;39m <==    Columns: id, content
2023-05-15 10:47:17.179 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900269240684544 [0;39m <==        Row: 37841703666847744, <<BLOB>>
2023-05-15 10:47:17.179 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900269240684544 [0;39m <==      Total: 1
2023-05-15 10:47:17.179 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900269240684544 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:17.179 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900269240684544 [0;39m ==> Parameters: 37841703666847744(Long)
2023-05-15 10:47:17.252 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900269240684544 [0;39m <==    Updates: 1
2023-05-15 10:47:17.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900269240684544 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:17.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900269240684544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š77 ms -------------
2023-05-15 10:47:17.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900270847102976 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:17.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900270847102976 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/6 GET
2023-05-15 10:47:17.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900270847102976 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:17.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900270847102976 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:17.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900270847102976 [0;39m è¯·æ±‚å‚æ•°: [6]
2023-05-15 10:47:17.561 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900270847102976 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:17.561 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900270847102976 [0;39m ==> Parameters: 6(Long)
2023-05-15 10:47:17.595 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900270847102976 [0;39m <==      Total: 0
2023-05-15 10:47:17.595 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900270847102976 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:17.595 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900270847102976 [0;39m ==> Parameters: 6(Long)
2023-05-15 10:47:17.652 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900270847102976 [0;39m <==    Updates: 1
2023-05-15 10:47:17.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900270847102976 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:17.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900270847102976 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š94 ms -------------
2023-05-15 10:47:18.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900273422405632 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:18.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900273422405632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/5 GET
2023-05-15 10:47:18.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900273422405632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:18.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900273422405632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:18.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900273422405632 [0;39m è¯·æ±‚å‚æ•°: [5]
2023-05-15 10:47:18.175 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900273422405632 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:18.175 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900273422405632 [0;39m ==> Parameters: 5(Long)
2023-05-15 10:47:18.176 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900273422405632 [0;39m <==      Total: 0
2023-05-15 10:47:18.176 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900273422405632 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:18.176 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900273422405632 [0;39m ==> Parameters: 5(Long)
2023-05-15 10:47:18.261 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900273422405632 [0;39m <==    Updates: 1
2023-05-15 10:47:18.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900273422405632 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:18.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900273422405632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š88 ms -------------
2023-05-15 10:47:18.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900274739417088 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:18.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900274739417088 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/4 GET
2023-05-15 10:47:18.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900274739417088 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:18.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900274739417088 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:18.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900274739417088 [0;39m è¯·æ±‚å‚æ•°: [4]
2023-05-15 10:47:18.487 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900274739417088 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:18.487 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900274739417088 [0;39m ==> Parameters: 4(Long)
2023-05-15 10:47:18.489 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900274739417088 [0;39m <==      Total: 0
2023-05-15 10:47:18.489 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900274739417088 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:18.489 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900274739417088 [0;39m ==> Parameters: 4(Long)
2023-05-15 10:47:18.561 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900274739417088 [0;39m <==    Updates: 1
2023-05-15 10:47:18.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900274739417088 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:18.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900274739417088 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š76 ms -------------
2023-05-15 10:47:18.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:18.580 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:18.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900276131926016 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:18.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900276131926016 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/3 GET
2023-05-15 10:47:18.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900276131926016 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:18.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900276131926016 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:18.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900276131926016 [0;39m è¯·æ±‚å‚æ•°: [3]
2023-05-15 10:47:18.821 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900276131926016 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:18.821 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900276131926016 [0;39m ==> Parameters: 3(Long)
2023-05-15 10:47:18.828 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900276131926016 [0;39m <==      Total: 0
2023-05-15 10:47:18.828 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900276131926016 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:18.828 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900276131926016 [0;39m ==> Parameters: 3(Long)
2023-05-15 10:47:18.886 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900276131926016 [0;39m <==    Updates: 1
2023-05-15 10:47:18.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900276131926016 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:18.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900276131926016 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š67 ms -------------
2023-05-15 10:47:19.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900277763510272 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:19.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900277763510272 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-15 10:47:19.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900277763510272 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:19.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900277763510272 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:19.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900277763510272 [0;39m è¯·æ±‚å‚æ•°: [2]
2023-05-15 10:47:19.210 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900277763510272 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:19.210 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900277763510272 [0;39m ==> Parameters: 2(Long)
2023-05-15 10:47:19.232 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900277763510272 [0;39m <==      Total: 0
2023-05-15 10:47:19.232 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900277763510272 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:19.232 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900277763510272 [0;39m ==> Parameters: 2(Long)
2023-05-15 10:47:19.286 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900277763510272 [0;39m <==    Updates: 1
2023-05-15 10:47:19.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900277763510272 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:19.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900277763510272 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š79 ms -------------
2023-05-15 10:47:19.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900280892461056 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:19.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900280892461056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 10:47:19.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900280892461056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:19.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900280892461056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:19.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900280892461056 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:47:19.955 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900280892461056 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:19.956 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900280892461056 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:19.968 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900280892461056 [0;39m <==    Columns: id, content
2023-05-15 10:47:19.968 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38900280892461056 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 10:47:19.968 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900280892461056 [0;39m <==      Total: 1
2023-05-15 10:47:19.969 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900280892461056 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:19.969 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900280892461056 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:20.071 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900280892461056 [0;39m <==    Updates: 1
2023-05-15 10:47:20.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900280892461056 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 10:47:20.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900280892461056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š118 ms -------------
2023-05-15 10:47:22.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900292649095168 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:22.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900292649095168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-15 10:47:22.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900292649095168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 10:47:22.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900292649095168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:22.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900292649095168 [0;39m è¯·æ±‚å‚æ•°: [2]
2023-05-15 10:47:22.758 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900292649095168 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 10:47:22.758 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900292649095168 [0;39m ==> Parameters: 2(Long)
2023-05-15 10:47:22.770 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38900292649095168 [0;39m <==      Total: 0
2023-05-15 10:47:22.770 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900292649095168 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 10:47:22.770 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900292649095168 [0;39m ==> Parameters: 2(Long)
2023-05-15 10:47:22.937 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38900292649095168 [0;39m <==    Updates: 1
2023-05-15 10:47:22.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900292649095168 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-15 10:47:22.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900292649095168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š180 ms -------------
2023-05-15 10:47:23.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900297317355520 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:23.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900297317355520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:47:23.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900297317355520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:47:23.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900297317355520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:23.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900297317355520 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:47:23.871 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900297317355520 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:47:23.871 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900297317355520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:23.877 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900297317355520 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:47:23.877 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900297317355520 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:47:23.877 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900297317355520 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:47:23.878 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900297317355520 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:47:23.878 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900297317355520 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 10:47:23.878 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900297317355520 [0;39m <==      Total: 4
2023-05-15 10:47:23.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:23.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:23.905 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:23.905 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:23.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m <==      Total: 1
2023-05-15 10:47:23.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:23.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:23.925 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:23.925 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:23.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m <==      Total: 1
2023-05-15 10:47:23.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:23.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:23.928 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:23.928 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:23.928 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m <==      Total: 1
2023-05-15 10:47:23.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:23.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:23.931 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:23.931 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:23.931 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m <==      Total: 1
2023-05-15 10:47:23.932 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:23.932 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:23.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:23.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:23.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m <==      Total: 1
2023-05-15 10:47:23.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:23.934 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:23.935 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:23.935 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900297317355520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:23.935 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900297317355520 [0;39m <==      Total: 1
2023-05-15 10:47:23.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900297317355520 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:47:23.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900297317355520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š65 ms -------------
2023-05-15 10:47:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38900344029319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:47:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900344029319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:47:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900344029319168 [0;39m ==> Parameters: 
2023-05-15 10:47:35.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900344029319168 [0;39m <==    Updates: 1
2023-05-15 10:47:35.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38900344029319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š95æ¯«ç§’
2023-05-15 10:47:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:38.586 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:38.586 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:48.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38900401386426368 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 10:47:48.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38900401386426368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 10:47:48.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38900401386426368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 10:47:48.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38900401386426368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 10:47:48.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38900401386426368 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 10:47:48.684 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900401386426368 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 10:47:48.684 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900401386426368 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:48.686 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900401386426368 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 10:47:48.686 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900401386426368 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 10:47:48.686 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900401386426368 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 10:47:48.686 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900401386426368 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 10:47:48.686 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38900401386426368 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 10:47:48.686 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38900401386426368 [0;39m <==      Total: 4
2023-05-15 10:47:48.687 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:48.687 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:48.688 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:48.688 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:48.688 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m <==      Total: 1
2023-05-15 10:47:48.688 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:48.688 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:48.690 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:48.690 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:48.690 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m <==      Total: 1
2023-05-15 10:47:48.690 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:48.690 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:48.691 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:48.691 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:48.691 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m <==      Total: 1
2023-05-15 10:47:48.691 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:48.691 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:48.692 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:48.692 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:48.692 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m <==      Total: 1
2023-05-15 10:47:48.692 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:48.692 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:48.693 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:48.693 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:48.693 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m <==      Total: 1
2023-05-15 10:47:48.693 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 10:47:48.693 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m ==> Parameters: 1(Long)
2023-05-15 10:47:48.694 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 10:47:48.694 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38900401386426368 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 10:47:48.695 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38900401386426368 [0;39m <==      Total: 1
2023-05-15 10:47:48.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38900401386426368 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 10:47:48.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38900401386426368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 10:47:58.590 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:47:58.591 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38900448870141952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:48:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900448870141952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:48:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900448870141952 [0;39m ==> Parameters: 
2023-05-15 10:48:00.169 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900448870141952 [0;39m <==    Updates: 0
2023-05-15 10:48:00.169 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38900448870141952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š166æ¯«ç§’
2023-05-15 10:48:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38900469841661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900469841661952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900469841661952 [0;39m ==> Parameters: 
2023-05-15 10:48:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900469841661952 [0;39m <==    Updates: 1
2023-05-15 10:48:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38900469841661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:48:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:18.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:18.609 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38900595716919296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:48:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900595716919296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:48:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900595716919296 [0;39m ==> Parameters: 
2023-05-15 10:48:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900595716919296 [0;39m <==    Updates: 1
2023-05-15 10:48:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38900595716919296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:48:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:38.611 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:38.613 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:58.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:48:58.615 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38900700553547776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:49:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900700553547776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:49:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900700553547776 [0;39m ==> Parameters: 
2023-05-15 10:49:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900700553547776 [0;39m <==    Updates: 0
2023-05-15 10:49:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38900700553547776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 10:49:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38900721537650688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:49:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900721537650688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:49:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900721537650688 [0;39m ==> Parameters: 
2023-05-15 10:49:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900721537650688 [0;39m <==    Updates: 1
2023-05-15 10:49:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38900721537650688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 10:49:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:18.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:18.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38900847362576384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:49:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900847362576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:49:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900847362576384 [0;39m ==> Parameters: 
2023-05-15 10:49:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900847362576384 [0;39m <==    Updates: 1
2023-05-15 10:49:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38900847362576384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:49:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:38.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:38.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:58.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:49:58.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:50:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38900952228564992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:50:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900952228564992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:50:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900952228564992 [0;39m ==> Parameters: 
2023-05-15 10:50:00.056 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38900952228564992 [0;39m <==    Updates: 0
2023-05-15 10:50:00.057 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38900952228564992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š44æ¯«ç§’
2023-05-15 10:50:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38900973145559040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:50:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900973145559040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:50:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900973145559040 [0;39m ==> Parameters: 
2023-05-15 10:50:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38900973145559040 [0;39m <==    Updates: 1
2023-05-15 10:50:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38900973145559040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:50:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:50:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:50:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:50:18.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:50:18.645 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:50:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38901098987261952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:50:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901098987261952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:50:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901098987261952 [0;39m ==> Parameters: 
2023-05-15 10:50:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901098987261952 [0;39m <==    Updates: 1
2023-05-15 10:50:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38901098987261952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:50:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:50:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:50:38.660 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:50:58.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:50:58.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38901203840667648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:51:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901203840667648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:51:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901203840667648 [0;39m ==> Parameters: 
2023-05-15 10:51:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901203840667648 [0;39m <==    Updates: 0
2023-05-15 10:51:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38901203840667648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-15 10:51:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38901224862519296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:51:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901224862519296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:51:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901224862519296 [0;39m ==> Parameters: 
2023-05-15 10:51:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901224862519296 [0;39m <==    Updates: 1
2023-05-15 10:51:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38901224862519296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 10:51:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:18.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:18.675 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38901350691639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:51:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901350691639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:51:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901350691639296 [0;39m ==> Parameters: 
2023-05-15 10:51:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901350691639296 [0;39m <==    Updates: 1
2023-05-15 10:51:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38901350691639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:51:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:38.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:38.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:51:58.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38901455498907648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:52:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901455498907648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:52:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901455498907648 [0;39m ==> Parameters: 
2023-05-15 10:52:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901455498907648 [0;39m <==    Updates: 0
2023-05-15 10:52:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38901455498907648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-15 10:52:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38901476466233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:52:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901476466233344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:52:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901476466233344 [0;39m ==> Parameters: 
2023-05-15 10:52:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901476466233344 [0;39m <==    Updates: 1
2023-05-15 10:52:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38901476466233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:52:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:18.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:18.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38901602299547648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901602299547648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:52:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901602299547648 [0;39m ==> Parameters: 
2023-05-15 10:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901602299547648 [0;39m <==    Updates: 1
2023-05-15 10:52:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38901602299547648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 10:52:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:38.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:38.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:58.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:52:58.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38901707199090688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:53:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901707199090688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:53:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901707199090688 [0;39m ==> Parameters: 
2023-05-15 10:53:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901707199090688 [0;39m <==    Updates: 0
2023-05-15 10:53:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38901707199090688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-15 10:53:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38901728128667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:53:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901728128667648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:53:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901728128667648 [0;39m ==> Parameters: 
2023-05-15 10:53:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901728128667648 [0;39m <==    Updates: 1
2023-05-15 10:53:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38901728128667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 10:53:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:06.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:18.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:18.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38901853961981952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:53:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901853961981952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:53:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901853961981952 [0;39m ==> Parameters: 
2023-05-15 10:53:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901853961981952 [0;39m <==    Updates: 1
2023-05-15 10:53:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38901853961981952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 10:53:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:38.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:38.736 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:58.742 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:53:58.743 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38901958811193344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:54:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901958811193344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:54:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901958811193344 [0;39m ==> Parameters: 
2023-05-15 10:54:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38901958811193344 [0;39m <==    Updates: 0
2023-05-15 10:54:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38901958811193344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:54:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38901979782713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:54:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901979782713344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:54:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901979782713344 [0;39m ==> Parameters: 
2023-05-15 10:54:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38901979782713344 [0;39m <==    Updates: 1
2023-05-15 10:54:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38901979782713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:54:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:06.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:18.745 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:18.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38902105607639040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:54:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902105607639040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:54:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902105607639040 [0;39m ==> Parameters: 
2023-05-15 10:54:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902105607639040 [0;39m <==    Updates: 1
2023-05-15 10:54:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38902105607639040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 10:54:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:38.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:38.760 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:58.762 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:54:58.762 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38902210469433344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:55:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902210469433344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:55:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902210469433344 [0;39m ==> Parameters: 
2023-05-15 10:55:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902210469433344 [0;39m <==    Updates: 0
2023-05-15 10:55:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38902210469433344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:55:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38902231445147648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:55:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902231445147648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:55:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902231445147648 [0;39m ==> Parameters: 
2023-05-15 10:55:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902231445147648 [0;39m <==    Updates: 1
2023-05-15 10:55:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38902231445147648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 10:55:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:18.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38902357270073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:55:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902357270073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:55:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902357270073344 [0;39m ==> Parameters: 
2023-05-15 10:55:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902357270073344 [0;39m <==    Updates: 1
2023-05-15 10:55:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38902357270073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:55:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:38.767 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:38.769 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:58.771 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:55:58.771 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38902462136061952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:56:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902462136061952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:56:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902462136061952 [0;39m ==> Parameters: 
2023-05-15 10:56:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902462136061952 [0;39m <==    Updates: 0
2023-05-15 10:56:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38902462136061952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-15 10:56:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38902483099193344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:56:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902483099193344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:56:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902483099193344 [0;39m ==> Parameters: 
2023-05-15 10:56:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902483099193344 [0;39m <==    Updates: 1
2023-05-15 10:56:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38902483099193344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 10:56:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:18.774 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:18.774 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38902608966062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:56:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902608966062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:56:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902608966062080 [0;39m ==> Parameters: 
2023-05-15 10:56:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902608966062080 [0;39m <==    Updates: 1
2023-05-15 10:56:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38902608966062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:56:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:38.788 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:38.789 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:56:58.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38902713832050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:57:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902713832050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:57:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902713832050688 [0;39m ==> Parameters: 
2023-05-15 10:57:00.055 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902713832050688 [0;39m <==    Updates: 0
2023-05-15 10:57:00.055 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38902713832050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š43æ¯«ç§’
2023-05-15 10:57:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38902734753239040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:57:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902734753239040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:57:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902734753239040 [0;39m ==> Parameters: 
2023-05-15 10:57:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902734753239040 [0;39m <==    Updates: 1
2023-05-15 10:57:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38902734753239040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 10:57:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:18.811 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:18.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38902860582359040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:57:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902860582359040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:57:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902860582359040 [0;39m ==> Parameters: 
2023-05-15 10:57:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902860582359040 [0;39m <==    Updates: 1
2023-05-15 10:57:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38902860582359040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 10:57:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:38.824 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:38.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:57:58.829 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38902965448347648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:58:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902965448347648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:58:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902965448347648 [0;39m ==> Parameters: 
2023-05-15 10:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38902965448347648 [0;39m <==    Updates: 0
2023-05-15 10:58:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38902965448347648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 10:58:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38902986466004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:58:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902986466004992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:58:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902986466004992 [0;39m ==> Parameters: 
2023-05-15 10:58:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38902986466004992 [0;39m <==    Updates: 1
2023-05-15 10:58:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38902986466004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 10:58:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:18.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:18.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38903112261570560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:58:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903112261570560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:58:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903112261570560 [0;39m ==> Parameters: 
2023-05-15 10:58:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903112261570560 [0;39m <==    Updates: 1
2023-05-15 10:58:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38903112261570560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 10:58:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:38.835 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:38.836 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:58.849 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:58:58.850 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38903217102393344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 10:59:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903217102393344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 10:59:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903217102393344 [0;39m ==> Parameters: 
2023-05-15 10:59:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903217102393344 [0;39m <==    Updates: 0
2023-05-15 10:59:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38903217102393344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-15 10:59:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38903238073913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:59:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903238073913344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:59:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903238073913344 [0;39m ==> Parameters: 
2023-05-15 10:59:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903238073913344 [0;39m <==    Updates: 1
2023-05-15 10:59:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38903238073913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 10:59:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:18.853 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:18.855 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38903363903033344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 10:59:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903363903033344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 10:59:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903363903033344 [0;39m ==> Parameters: 
2023-05-15 10:59:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903363903033344 [0;39m <==    Updates: 1
2023-05-15 10:59:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38903363903033344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 10:59:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:38.859 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:38.860 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:58.869 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 10:59:58.871 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:00:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38903468760633344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:00:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903468760633344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:00:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903468760633344 [0;39m ==> Parameters: 
2023-05-15 11:00:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903468760633344 [0;39m <==    Updates: 0
2023-05-15 11:00:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38903468760633344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 11:00:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38903489769902080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:00:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903489769902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:00:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903489769902080 [0;39m ==> Parameters: 
2023-05-15 11:00:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903489769902080 [0;39m <==    Updates: 1
2023-05-15 11:00:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38903489769902080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 11:00:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:00:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:00:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:00:18.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:00:18.888 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:00:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38903615573856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:00:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903615573856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:00:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903615573856256 [0;39m ==> Parameters: 
2023-05-15 11:00:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903615573856256 [0;39m <==    Updates: 1
2023-05-15 11:00:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38903615573856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 11:00:36.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:00:36.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:00:38.897 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:00:58.899 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:00:58.901 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38903720418873344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:01:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903720418873344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:01:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903720418873344 [0;39m ==> Parameters: 
2023-05-15 11:01:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903720418873344 [0;39m <==    Updates: 0
2023-05-15 11:01:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38903720418873344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:01:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38903741386199040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:01:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903741386199040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:01:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903741386199040 [0;39m ==> Parameters: 
2023-05-15 11:01:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903741386199040 [0;39m <==    Updates: 1
2023-05-15 11:01:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38903741386199040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:01:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:18.904 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:18.905 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38903867223707648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:01:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903867223707648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:01:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903867223707648 [0;39m ==> Parameters: 
2023-05-15 11:01:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903867223707648 [0;39m <==    Updates: 1
2023-05-15 11:01:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38903867223707648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š19æ¯«ç§’
2023-05-15 11:01:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:38.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:38.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:58.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38903964875493376 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:01:58.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38903964875493376 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 11:01:58.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38903964875493376 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 11:01:58.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38903964875493376 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:01:58.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38903964875493376 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 11:01:58.287 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38903964875493376 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 11:01:58.287 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38903964875493376 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.299 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38903964875493376 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 11:01:58.299 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38903964875493376 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 11:01:58.300 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38903964875493376 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 11:01:58.300 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38903964875493376 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 11:01:58.300 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38903964875493376 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 11:01:58.300 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38903964875493376 [0;39m <==      Total: 4
2023-05-15 11:01:58.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.301 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.302 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.302 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.302 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m <==      Total: 1
2023-05-15 11:01:58.302 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.302 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.303 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.303 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.303 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m <==      Total: 1
2023-05-15 11:01:58.303 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.303 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.304 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.304 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.304 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m <==      Total: 1
2023-05-15 11:01:58.304 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.305 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.306 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.306 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.306 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m <==      Total: 1
2023-05-15 11:01:58.306 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.306 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.307 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.307 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.307 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m <==      Total: 1
2023-05-15 11:01:58.307 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.307 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.308 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.308 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903964875493376 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.308 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903964875493376 [0;39m <==      Total: 1
2023-05-15 11:01:58.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38903964875493376 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 11:01:58.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38903964875493376 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š24 ms -------------
2023-05-15 11:01:58.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38903967408852992 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:01:58.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38903967408852992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 11:01:58.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38903967408852992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 11:01:58.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38903967408852992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:01:58.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38903967408852992 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 11:01:58.889 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38903967408852992 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 11:01:58.889 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38903967408852992 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38903967408852992 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 11:01:58.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38903967408852992 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 11:01:58.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38903967408852992 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 11:01:58.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38903967408852992 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 11:01:58.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38903967408852992 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 11:01:58.893 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38903967408852992 [0;39m <==      Total: 4
2023-05-15 11:01:58.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.895 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.895 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m <==      Total: 1
2023-05-15 11:01:58.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.896 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.896 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m <==      Total: 1
2023-05-15 11:01:58.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.898 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.898 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m <==      Total: 1
2023-05-15 11:01:58.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m <==      Total: 1
2023-05-15 11:01:58.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.901 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.901 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.901 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m <==      Total: 1
2023-05-15 11:01:58.901 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:01:58.901 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:01:58.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:01:58.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38903967408852992 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:01:58.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38903967408852992 [0;39m <==      Total: 1
2023-05-15 11:01:58.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38903967408852992 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 11:01:58.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38903967408852992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-15 11:01:58.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:01:58.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38903972085501952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:02:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903972085501952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903972085501952 [0;39m ==> Parameters: 
2023-05-15 11:02:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38903972085501952 [0;39m <==    Updates: 0
2023-05-15 11:02:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38903972085501952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-15 11:02:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38903993082187776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:02:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903993082187776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:02:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903993082187776 [0;39m ==> Parameters: 
2023-05-15 11:02:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38903993082187776 [0;39m <==    Updates: 1
2023-05-15 11:02:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38903993082187776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 11:02:06.181 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38900277763510272 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šgiQEY0DfD6ï¼Œsession idï¼š4ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 11:02:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:06.868 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38900280892461056 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šDddLBBuhUfï¼Œsession idï¼š5ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 11:02:06.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904001022005249 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:06.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904001022005248 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:06.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904001022005249 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 11:02:06.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904001022005248 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 11:02:06.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904001022005249 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 11:02:06.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904001022005248 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 11:02:06.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904001022005249 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:06.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904001022005248 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:06.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904001022005248 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 11:02:06.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904001022005249 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 11:02:06.905 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38904001022005248 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 11:02:06.905 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38904001022005248 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:02:06.911 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38904001022005249 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 11:02:06.911 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38904001022005249 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:02:06.912 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38904001022005248 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 11:02:06.912 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38904001022005248 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 11:02:06.912 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38904001022005248 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 11:02:06.913 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38904001022005248 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 11:02:06.913 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38904001022005248 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 11:02:06.914 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38904001022005248 [0;39m <==      Total: 4
2023-05-15 11:02:06.914 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:02:06.915 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:02:06.916 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38904001022005249 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 11:02:06.916 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38904001022005249 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 107, 5
2023-05-15 11:02:06.916 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:06.916 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38904001022005249 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 11:02:06.916 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:06.916 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38904001022005249 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 11:02:06.916 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m <==      Total: 1
2023-05-15 11:02:06.916 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38904001022005249 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 11:02:06.916 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:02:06.917 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:02:06.916 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38904001022005249 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 11:02:06.917 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38904001022005249 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 11:02:06.917 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38904001022005249 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 11:02:06.917 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38904001022005249 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 11:02:06.918 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38904001022005249 [0;39m <==      Total: 8
2023-05-15 11:02:06.918 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:06.918 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:06.918 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m <==      Total: 1
2023-05-15 11:02:06.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:02:06.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:02:06.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:06.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:06.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m <==      Total: 1
2023-05-15 11:02:06.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:02:06.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:02:06.924 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:06.924 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:06.924 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m <==      Total: 1
2023-05-15 11:02:06.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:02:06.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:02:06.927 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:06.927 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:06.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m <==      Total: 1
2023-05-15 11:02:06.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 11:02:06.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:02:06.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904001022005249 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":107,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 11:02:06.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904001022005249 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-15 11:02:06.928 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:06.928 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38904001022005248 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:06.928 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38904001022005248 [0;39m <==      Total: 1
2023-05-15 11:02:06.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904001022005248 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 11:02:06.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904001022005248 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2023-05-15 11:02:06.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904001202360320 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:06.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904001202360320 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 11:02:06.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904001202360320 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 11:02:06.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904001202360320 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:06.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904001202360320 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 11:02:06.946 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38904001202360320 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 11:02:06.947 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38904001202360320 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:02:06.966 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38904001202360320 [0;39m <==    Columns: id, content
2023-05-15 11:02:06.966 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38904001202360320 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 11:02:06.967 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38904001202360320 [0;39m <==      Total: 1
2023-05-15 11:02:06.967 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38904001202360320 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 11:02:06.967 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38904001202360320 [0;39m ==> Parameters: 1(Long)
2023-05-15 11:02:07.025 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38904001202360320 [0;39m <==    Updates: 1
2023-05-15 11:02:07.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904001202360320 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 11:02:07.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904001202360320 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š80 ms -------------
2023-05-15 11:02:08.386 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38900401386426368 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:08.386 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38900401386426368 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 11:02:08.387 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38900401386426368 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38900202358312960
2023-05-15 11:02:08.391 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38900401386426368 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38900202358312960"}
2023-05-15 11:02:08.405 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904007326044160 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:08.405 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904007326044160 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 11:02:08.405 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904007326044160 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 11:02:08.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904007326044160 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:08.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904007326044160 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 11:02:08.417 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904007326044160 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 11:02:08.417 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904007326044160 [0;39m ==> Parameters: 
2023-05-15 11:02:08.420 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38904007326044160 [0;39m <==    Columns: count(0)
2023-05-15 11:02:08.420 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38904007326044160 [0;39m <==        Row: 6
2023-05-15 11:02:08.420 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904007326044160 [0;39m <==      Total: 1
2023-05-15 11:02:08.421 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904007326044160 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 11:02:08.421 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904007326044160 [0;39m ==> Parameters: 10(Integer)
2023-05-15 11:02:08.422 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904007326044160 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:08.423 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904007326044160 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:08.423 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904007326044160 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 11:02:08.423 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904007326044160 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 11:02:08.423 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904007326044160 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-15 11:02:08.423 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904007326044160 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-15 11:02:08.423 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904007326044160 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-15 11:02:08.423 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904007326044160 [0;39m <==      Total: 6
2023-05-15 11:02:08.423 INFO  com.jiawa.wiki.service.UserService                :50   [32m38904007326044160 [0;39m æ€»è¡Œæ•°ï¼š6
2023-05-15 11:02:08.424 INFO  com.jiawa.wiki.service.UserService                :51   [32m38904007326044160 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 11:02:08.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904007326044160 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-15 11:02:08.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904007326044160 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š23 ms -------------
2023-05-15 11:02:08.429 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38904007326044160 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š43 ms -------------
2023-05-15 11:02:09.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904011038003201 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:09.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904011038003201 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 11:02:09.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904011038003201 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 11:02:09.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904011038003201 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:09.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904011038003200 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904011038003201 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904011038003200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904011038003200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904011038003200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904011038003200 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 11:02:09.292 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38904011038003200 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 11:02:09.292 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38904011038003201 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 11:02:09.292 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38904011038003201 [0;39m ==> Parameters: 
2023-05-15 11:02:09.292 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38904011038003200 [0;39m ==> Parameters: 
2023-05-15 11:02:09.292 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38904011038003200 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 11:02:09.292 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38904011038003200 [0;39m <==        Row: 2023-05-15, 147, 10, 147, 10
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 11:02:09.292 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38904011038003200 [0;39m <==      Total: 1
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904011038003200 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":147,"viewIncrease":147,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904011038003200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 11:02:09.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38904011038003201 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 11:02:09.292 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38904011038003201 [0;39m <==      Total: 15
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904011038003201 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904011038003201 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904011046391808 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904011046391808 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904011046391808 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904011046391808 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904011046391808 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 11:02:09.292 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38904011046391808 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 11:02:09.292 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38904011046391808 [0;39m ==> Parameters: 
2023-05-15 11:02:09.292 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38904011046391808 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-15 11:02:09.292 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38904011046391808 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-15 11:02:09.292 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38904011046391808 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-15 11:02:09.292 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38904011046391808 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-15 11:02:09.292 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38904011046391808 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-15 11:02:09.292 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38904011046391808 [0;39m <==        Row: 2023-05-13, 56, 0
2023-05-15 11:02:09.292 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38904011046391808 [0;39m <==      Total: 5
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904011046391808 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":56,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-15 11:02:09.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904011046391808 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38900276131926016 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38900276131926016 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38900277763510272 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38900277763510272 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/logout/38900202358312960
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38900277763510272 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38900202358312960
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38900277763510272 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38900202358312960"}
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904020139642880 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904020139642880 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/logout/38900202358312960 GET
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904020139642880 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.logout
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904020139642880 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904020139642880 [0;39m è¯·æ±‚å‚æ•°: ["38900202358312960"]
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.controller.UserController          :97   [32m38904020139642880 [0;39m ä»Žredisä¸­åˆ é™¤token: 38900202358312960
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904020139642880 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904020139642880 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 11:02:11.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38904020139642880 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 11:02:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904046316294144 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904046316294144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-15 11:02:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904046316294144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-15 11:02:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904046316294144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904046316294144 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-15 11:02:17.701 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904046316294144 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-15 11:02:17.701 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904046316294144 [0;39m ==> Parameters: test(String)
2023-05-15 11:02:17.724 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904046316294144 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:17.725 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904046316294144 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:17.726 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904046316294144 [0;39m <==      Total: 1
2023-05-15 11:02:17.726 INFO  com.jiawa.wiki.service.UserService                :128  [32m38904046316294144 [0;39m å¯†ç ä¸å¯¹, è¾“å…¥å¯†ç ï¼še70e2222a9d67c4f2eae107533359aa4, æ•°æ®åº“å¯†ç ï¼šdb0887127059810ba9f80186d795edb5
2023-05-15 11:02:17.726 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38904046316294144 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2023-05-15 11:02:17.727 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38904046316294144 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2023-05-15 11:02:18.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:18.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:22.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904066394427392 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:22.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904066394427392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-15 11:02:22.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904066394427392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-15 11:02:22.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904066394427392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:22.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904066394427392 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"1"}]
2023-05-15 11:02:22.490 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904066394427392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-15 11:02:22.490 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904066394427392 [0;39m ==> Parameters: 1(String)
2023-05-15 11:02:22.492 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904066394427392 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:22.492 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904066394427392 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 11:02:22.492 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904066394427392 [0;39m <==      Total: 1
2023-05-15 11:02:22.493 INFO  com.jiawa.wiki.service.UserService                :128  [32m38904066394427392 [0;39m å¯†ç ä¸å¯¹, è¾“å…¥å¯†ç ï¼šb9b237df8bd22c295180ea0109cb7e67, æ•°æ®åº“å¯†ç ï¼šc4ca4238a0b923820dcc509a6f75849b
2023-05-15 11:02:22.493 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38904066394427392 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2023-05-15 11:02:22.493 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38904066394427392 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2023-05-15 11:02:28.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904091266650112 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:28.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904091266650112 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-15 11:02:28.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904091266650112 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-15 11:02:28.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904091266650112 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:28.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904091266650112 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-15 11:02:28.420 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904091266650112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-15 11:02:28.420 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904091266650112 [0;39m ==> Parameters: test(String)
2023-05-15 11:02:28.420 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904091266650112 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:28.420 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904091266650112 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:28.420 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904091266650112 [0;39m <==      Total: 1
2023-05-15 11:02:28.420 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38904091266650112 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38904091275038720ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-15 11:02:28.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904091266650112 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"},"success":true}
2023-05-15 11:02:28.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904091266650112 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 11:02:29.693 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38904011038003201 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:29.693 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38904011038003201 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 11:02:29.693 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38904011038003201 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 11:02:29.694 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38904011038003201 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 11:02:29.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904096622776320 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:29.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904096622776320 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 11:02:29.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904096622776320 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 11:02:29.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904096622776320 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:29.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904096622776320 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 11:02:29.696 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904096622776320 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 11:02:29.697 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904096622776320 [0;39m ==> Parameters: 
2023-05-15 11:02:29.701 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38904096622776320 [0;39m <==    Columns: count(0)
2023-05-15 11:02:29.701 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38904096622776320 [0;39m <==        Row: 6
2023-05-15 11:02:29.701 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904096622776320 [0;39m <==      Total: 1
2023-05-15 11:02:29.702 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904096622776320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 11:02:29.702 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904096622776320 [0;39m ==> Parameters: 10(Integer)
2023-05-15 11:02:29.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904096622776320 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:29.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904096622776320 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:29.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904096622776320 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 11:02:29.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904096622776320 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 11:02:29.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904096622776320 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-15 11:02:29.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904096622776320 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-15 11:02:29.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904096622776320 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-15 11:02:29.712 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904096622776320 [0;39m <==      Total: 6
2023-05-15 11:02:29.712 INFO  com.jiawa.wiki.service.UserService                :50   [32m38904096622776320 [0;39m æ€»è¡Œæ•°ï¼š6
2023-05-15 11:02:29.712 INFO  com.jiawa.wiki.service.UserService                :51   [32m38904096622776320 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 11:02:29.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904096622776320 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-15 11:02:29.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904096622776320 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 11:02:29.712 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38904096622776320 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-15 11:02:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38904118928084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:02:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904118928084992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:02:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904118928084992 [0;39m ==> Parameters: 
2023-05-15 11:02:35.077 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904118928084992 [0;39m <==    Updates: 1
2023-05-15 11:02:35.077 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38904118928084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š64æ¯«ç§’
2023-05-15 11:02:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:38.937 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:38.937 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:48.537 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38900276131926016 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:48.537 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38900276131926016 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 11:02:48.538 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38904020139642880 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:48.538 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38904020139642880 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/delete/37814121005191173
2023-05-15 11:02:48.538 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38904020139642880 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 11:02:48.539 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38904020139642880 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 11:02:48.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904175664435200 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:48.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904175664435200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/delete/37814121005191173 DELETE
2023-05-15 11:02:48.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904175664435200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.delete
2023-05-15 11:02:48.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904175664435200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:48.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904175664435200 [0;39m è¯·æ±‚å‚æ•°: [37814121005191173]
2023-05-15 11:02:48.541 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m38904175664435200 [0;39m ==>  Preparing: delete from user where id = ?
2023-05-15 11:02:48.541 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m38904175664435200 [0;39m ==> Parameters: 37814121005191173(Long)
2023-05-15 11:02:48.646 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m38904175664435200 [0;39m <==    Updates: 1
2023-05-15 11:02:48.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904175664435200 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 11:02:48.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904175664435200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š106 ms -------------
2023-05-15 11:02:48.648 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38904175664435200 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š110 ms -------------
2023-05-15 11:02:48.658 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38904001022005249 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:48.659 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38904001022005249 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 11:02:48.659 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38904001022005249 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 11:02:48.659 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38904001022005249 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 11:02:48.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904176167751680 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:48.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904176167751680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 11:02:48.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904176167751680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 11:02:48.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904176167751680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:48.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904176167751680 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 11:02:48.661 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904176167751680 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 11:02:48.661 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904176167751680 [0;39m ==> Parameters: 
2023-05-15 11:02:48.662 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38904176167751680 [0;39m <==    Columns: count(0)
2023-05-15 11:02:48.662 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38904176167751680 [0;39m <==        Row: 5
2023-05-15 11:02:48.662 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904176167751680 [0;39m <==      Total: 1
2023-05-15 11:02:48.663 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904176167751680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 11:02:48.663 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904176167751680 [0;39m ==> Parameters: 10(Integer)
2023-05-15 11:02:48.682 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904176167751680 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:48.683 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904176167751680 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:48.683 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904176167751680 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 11:02:48.683 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904176167751680 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 11:02:48.684 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904176167751680 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-15 11:02:48.684 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904176167751680 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-15 11:02:48.684 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904176167751680 [0;39m <==      Total: 5
2023-05-15 11:02:48.685 INFO  com.jiawa.wiki.service.UserService                :50   [32m38904176167751680 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 11:02:48.685 INFO  com.jiawa.wiki.service.UserService                :51   [32m38904176167751680 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 11:02:48.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904176167751680 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"}],"total":5},"success":true}
2023-05-15 11:02:48.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904176167751680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2023-05-15 11:02:48.688 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38904176167751680 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š29 ms -------------
2023-05-15 11:02:49.946 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38900280892461056 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:49.946 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38900280892461056 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 11:02:49.948 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38904046316294144 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:49.948 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38904046316294144 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/delete/37814121005191172
2023-05-15 11:02:49.948 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38904046316294144 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 11:02:49.949 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38904046316294144 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 11:02:49.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904181574209536 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:49.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904181574209536 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/delete/37814121005191172 DELETE
2023-05-15 11:02:49.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904181574209536 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.delete
2023-05-15 11:02:49.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904181574209536 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:49.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904181574209536 [0;39m è¯·æ±‚å‚æ•°: [37814121005191172]
2023-05-15 11:02:49.951 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m38904181574209536 [0;39m ==>  Preparing: delete from user where id = ?
2023-05-15 11:02:49.951 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m38904181574209536 [0;39m ==> Parameters: 37814121005191172(Long)
2023-05-15 11:02:50.043 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m38904181574209536 [0;39m <==    Updates: 1
2023-05-15 11:02:50.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904181574209536 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 11:02:50.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904181574209536 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š95 ms -------------
2023-05-15 11:02:50.044 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38904181574209536 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š96 ms -------------
2023-05-15 11:02:50.051 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38904001202360320 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:50.051 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38904001202360320 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 11:02:50.051 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38904001202360320 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 11:02:50.053 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38904001202360320 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 11:02:50.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904182010417152 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:50.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904182010417152 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 11:02:50.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904182010417152 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 11:02:50.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904182010417152 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:50.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904182010417152 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 11:02:50.054 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904182010417152 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 11:02:50.054 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904182010417152 [0;39m ==> Parameters: 
2023-05-15 11:02:50.055 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38904182010417152 [0;39m <==    Columns: count(0)
2023-05-15 11:02:50.055 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38904182010417152 [0;39m <==        Row: 4
2023-05-15 11:02:50.055 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904182010417152 [0;39m <==      Total: 1
2023-05-15 11:02:50.055 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904182010417152 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 11:02:50.055 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904182010417152 [0;39m ==> Parameters: 10(Integer)
2023-05-15 11:02:50.060 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904182010417152 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:50.060 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904182010417152 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:50.060 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904182010417152 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 11:02:50.061 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904182010417152 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 11:02:50.061 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904182010417152 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-15 11:02:50.061 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904182010417152 [0;39m <==      Total: 4
2023-05-15 11:02:50.061 INFO  com.jiawa.wiki.service.UserService                :50   [32m38904182010417152 [0;39m æ€»è¡Œæ•°ï¼š4
2023-05-15 11:02:50.061 INFO  com.jiawa.wiki.service.UserService                :51   [32m38904182010417152 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 11:02:50.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904182010417152 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"}],"total":4},"success":true}
2023-05-15 11:02:50.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904182010417152 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 11:02:50.062 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38904182010417152 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-15 11:02:53.979 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38904091266650112 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:53.979 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38904091266650112 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 11:02:53.981 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38904096622776320 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:53.981 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38904096622776320 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/delete/37814121005191171
2023-05-15 11:02:53.981 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38904096622776320 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 11:02:53.981 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38904096622776320 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 11:02:53.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904198485643264 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:53.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904198485643264 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/delete/37814121005191171 DELETE
2023-05-15 11:02:53.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904198485643264 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.delete
2023-05-15 11:02:53.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904198485643264 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:53.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904198485643264 [0;39m è¯·æ±‚å‚æ•°: [37814121005191171]
2023-05-15 11:02:53.981 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m38904198485643264 [0;39m ==>  Preparing: delete from user where id = ?
2023-05-15 11:02:53.981 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m38904198485643264 [0;39m ==> Parameters: 37814121005191171(Long)
2023-05-15 11:02:54.061 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m38904198485643264 [0;39m <==    Updates: 1
2023-05-15 11:02:54.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904198485643264 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 11:02:54.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904198485643264 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š80 ms -------------
2023-05-15 11:02:54.061 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38904198485643264 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š80 ms -------------
2023-05-15 11:02:54.076 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38904011046391808 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 11:02:54.076 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38904011046391808 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 11:02:54.076 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38904011046391808 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 11:02:54.078 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38904011046391808 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 11:02:54.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38904198892490752 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 11:02:54.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38904198892490752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 11:02:54.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38904198892490752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 11:02:54.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38904198892490752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 11:02:54.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38904198892490752 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 11:02:54.078 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904198892490752 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 11:02:54.078 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904198892490752 [0;39m ==> Parameters: 
2023-05-15 11:02:54.078 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38904198892490752 [0;39m <==    Columns: count(0)
2023-05-15 11:02:54.078 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38904198892490752 [0;39m <==        Row: 3
2023-05-15 11:02:54.078 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38904198892490752 [0;39m <==      Total: 1
2023-05-15 11:02:54.078 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904198892490752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 11:02:54.078 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904198892490752 [0;39m ==> Parameters: 10(Integer)
2023-05-15 11:02:54.092 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904198892490752 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 11:02:54.092 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904198892490752 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 11:02:54.092 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904198892490752 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 11:02:54.092 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38904198892490752 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 11:02:54.092 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38904198892490752 [0;39m <==      Total: 3
2023-05-15 11:02:54.092 INFO  com.jiawa.wiki.service.UserService                :50   [32m38904198892490752 [0;39m æ€»è¡Œæ•°ï¼š3
2023-05-15 11:02:54.092 INFO  com.jiawa.wiki.service.UserService                :51   [32m38904198892490752 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 11:02:54.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38904198892490752 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"}],"total":3},"success":true}
2023-05-15 11:02:54.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38904198892490752 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-15 11:02:54.092 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38904198892490752 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 11:02:58.941 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:02:58.943 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38904223764713472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:03:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904223764713472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:03:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904223764713472 [0;39m ==> Parameters: 
2023-05-15 11:03:00.145 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904223764713472 [0;39m <==    Updates: 0
2023-05-15 11:03:00.145 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38904223764713472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š137æ¯«ç§’
2023-05-15 11:03:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38904244732039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:03:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904244732039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:03:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904244732039168 [0;39m ==> Parameters: 
2023-05-15 11:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904244732039168 [0;39m <==    Updates: 1
2023-05-15 11:03:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38904244732039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 11:03:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:18.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:18.959 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38904370552770560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:03:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904370552770560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:03:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904370552770560 [0;39m ==> Parameters: 
2023-05-15 11:03:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904370552770560 [0;39m <==    Updates: 1
2023-05-15 11:03:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38904370552770560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:03:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:38.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:38.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:03:58.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38904475464896512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:04:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904475464896512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:04:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904475464896512 [0;39m ==> Parameters: 
2023-05-15 11:04:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904475464896512 [0;39m <==    Updates: 0
2023-05-15 11:04:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38904475464896512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:04:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38904496407056384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904496407056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904496407056384 [0;39m ==> Parameters: 
2023-05-15 11:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904496407056384 [0;39m <==    Updates: 1
2023-05-15 11:04:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38904496407056384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:04:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:18.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:35.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38904622286508032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:04:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904622286508032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:04:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904622286508032 [0;39m ==> Parameters: 
2023-05-15 11:04:35.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904622286508032 [0;39m <==    Updates: 1
2023-05-15 11:04:35.039 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38904622286508032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 11:04:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:38.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:58.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:04:58.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38904727148302336 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:05:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904727148302336 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:05:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904727148302336 [0;39m ==> Parameters: 
2023-05-15 11:05:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904727148302336 [0;39m <==    Updates: 0
2023-05-15 11:05:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38904727148302336 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:05:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38904748031741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:05:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904748031741952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:05:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904748031741952 [0;39m ==> Parameters: 
2023-05-15 11:05:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904748031741952 [0;39m <==    Updates: 1
2023-05-15 11:05:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38904748031741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 11:05:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:19.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:19.007 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38904873906999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:05:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904873906999296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:05:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904873906999296 [0;39m ==> Parameters: 
2023-05-15 11:05:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904873906999296 [0;39m <==    Updates: 1
2023-05-15 11:05:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38904873906999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 11:05:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:36.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:39.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:59.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:05:59.035 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38904978777182208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:06:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904978777182208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:06:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904978777182208 [0;39m ==> Parameters: 
2023-05-15 11:06:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38904978777182208 [0;39m <==    Updates: 0
2023-05-15 11:06:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38904978777182208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:06:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38904999727730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:06:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904999727730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:06:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904999727730688 [0;39m ==> Parameters: 
2023-05-15 11:06:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38904999727730688 [0;39m <==    Updates: 1
2023-05-15 11:06:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38904999727730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:06:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:19.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:19.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38905125540073472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:06:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905125540073472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:06:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905125540073472 [0;39m ==> Parameters: 
2023-05-15 11:06:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905125540073472 [0;39m <==    Updates: 1
2023-05-15 11:06:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38905125540073472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:06:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:36.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:39.055 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:39.055 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:59.065 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:06:59.065 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38905230410256384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:07:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905230410256384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:07:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905230410256384 [0;39m ==> Parameters: 
2023-05-15 11:07:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905230410256384 [0;39m <==    Updates: 0
2023-05-15 11:07:00.047 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38905230410256384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2023-05-15 11:07:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38905251390164992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:07:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905251390164992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:07:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905251390164992 [0;39m ==> Parameters: 
2023-05-15 11:07:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905251390164992 [0;39m <==    Updates: 1
2023-05-15 11:07:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38905251390164992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 11:07:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:19.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:19.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38905377198313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905377198313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905377198313472 [0;39m ==> Parameters: 
2023-05-15 11:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905377198313472 [0;39m <==    Updates: 1
2023-05-15 11:07:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38905377198313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:07:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:39.077 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:39.077 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:59.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:07:59.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38905482047524864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:08:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905482047524864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:08:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905482047524864 [0;39m ==> Parameters: 
2023-05-15 11:08:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905482047524864 [0;39m <==    Updates: 0
2023-05-15 11:08:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38905482047524864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 11:08:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38905503065182208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:08:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905503065182208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:08:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905503065182208 [0;39m ==> Parameters: 
2023-05-15 11:08:05.056 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905503065182208 [0;39m <==    Updates: 1
2023-05-15 11:08:05.056 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38905503065182208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š38æ¯«ç§’
2023-05-15 11:08:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:19.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:19.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38905628856553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:08:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905628856553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:08:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905628856553472 [0;39m ==> Parameters: 
2023-05-15 11:08:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905628856553472 [0;39m <==    Updates: 1
2023-05-15 11:08:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38905628856553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:08:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:39.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:39.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:59.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:08:59.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38905733688987648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:09:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905733688987648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:09:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905733688987648 [0;39m ==> Parameters: 
2023-05-15 11:09:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905733688987648 [0;39m <==    Updates: 0
2023-05-15 11:09:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38905733688987648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-15 11:09:05.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38905754736005120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:09:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905754736005120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:09:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905754736005120 [0;39m ==> Parameters: 
2023-05-15 11:09:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905754736005120 [0;39m <==    Updates: 1
2023-05-15 11:09:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38905754736005120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:09:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:19.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:19.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38905880506404864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905880506404864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905880506404864 [0;39m ==> Parameters: 
2023-05-15 11:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38905880506404864 [0;39m <==    Updates: 1
2023-05-15 11:09:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38905880506404864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:09:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:39.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:39.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:59.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:09:59.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38905985397559296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:10:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905985397559296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:10:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905985397559296 [0;39m ==> Parameters: 
2023-05-15 11:10:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38905985397559296 [0;39m <==    Updates: 0
2023-05-15 11:10:00.033 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38905985397559296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š18æ¯«ç§’
2023-05-15 11:10:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38906006390050816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:10:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906006390050816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:10:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906006390050816 [0;39m ==> Parameters: 
2023-05-15 11:10:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906006390050816 [0;39m <==    Updates: 1
2023-05-15 11:10:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38906006390050816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:10:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:06.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:19.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:19.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38906132152061952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:10:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906132152061952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:10:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906132152061952 [0;39m ==> Parameters: 
2023-05-15 11:10:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906132152061952 [0;39m <==    Updates: 1
2023-05-15 11:10:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38906132152061952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š19æ¯«ç§’
2023-05-15 11:10:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:39.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:39.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:59.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:10:59.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38906237005467648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:11:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906237005467648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:11:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906237005467648 [0;39m ==> Parameters: 
2023-05-15 11:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906237005467648 [0;39m <==    Updates: 0
2023-05-15 11:11:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38906237005467648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 11:11:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38906257993764864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:11:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906257993764864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:11:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906257993764864 [0;39m ==> Parameters: 
2023-05-15 11:11:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906257993764864 [0;39m <==    Updates: 1
2023-05-15 11:11:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38906257993764864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:11:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:19.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:19.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38906383827079168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906383827079168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906383827079168 [0;39m ==> Parameters: 
2023-05-15 11:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906383827079168 [0;39m <==    Updates: 1
2023-05-15 11:11:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38906383827079168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:11:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:39.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:39.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:59.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:11:59.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38906488672096256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:12:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906488672096256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:12:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906488672096256 [0;39m ==> Parameters: 
2023-05-15 11:12:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906488672096256 [0;39m <==    Updates: 0
2023-05-15 11:12:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38906488672096256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š18æ¯«ç§’
2023-05-15 11:12:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38906509681364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906509681364992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906509681364992 [0;39m ==> Parameters: 
2023-05-15 11:12:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906509681364992 [0;39m <==    Updates: 1
2023-05-15 11:12:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38906509681364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:12:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:19.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:19.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38906635464347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:12:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906635464347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:12:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906635464347648 [0;39m ==> Parameters: 
2023-05-15 11:12:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906635464347648 [0;39m <==    Updates: 1
2023-05-15 11:12:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38906635464347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:12:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:39.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:39.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:59.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:12:59.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38906740330336256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:13:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906740330336256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:13:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906740330336256 [0;39m ==> Parameters: 
2023-05-15 11:13:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906740330336256 [0;39m <==    Updates: 0
2023-05-15 11:13:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38906740330336256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-15 11:13:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38906761327022080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:13:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906761327022080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:13:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906761327022080 [0;39m ==> Parameters: 
2023-05-15 11:13:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906761327022080 [0;39m <==    Updates: 1
2023-05-15 11:13:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38906761327022080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:13:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:19.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:19.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38906887143559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:13:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906887143559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:13:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906887143559168 [0;39m ==> Parameters: 
2023-05-15 11:13:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38906887143559168 [0;39m <==    Updates: 1
2023-05-15 11:13:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38906887143559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:13:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:39.307 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:39.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:59.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:13:59.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38906992022130688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906992022130688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906992022130688 [0;39m ==> Parameters: 
2023-05-15 11:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38906992022130688 [0;39m <==    Updates: 0
2023-05-15 11:14:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38906992022130688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:14:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38907012993650688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:14:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907012993650688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:14:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907012993650688 [0;39m ==> Parameters: 
2023-05-15 11:14:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907012993650688 [0;39m <==    Updates: 1
2023-05-15 11:14:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38907012993650688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:14:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:19.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:19.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38907138856325120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:14:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907138856325120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:14:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907138856325120 [0;39m ==> Parameters: 
2023-05-15 11:14:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907138856325120 [0;39m <==    Updates: 1
2023-05-15 11:14:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38907138856325120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:14:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:39.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:39.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:59.354 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:14:59.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:15:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38907243701342208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:15:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907243701342208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:15:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907243701342208 [0;39m ==> Parameters: 
2023-05-15 11:15:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907243701342208 [0;39m <==    Updates: 0
2023-05-15 11:15:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38907243701342208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:15:05.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38907264693833728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:15:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907264693833728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:15:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907264693833728 [0;39m ==> Parameters: 
2023-05-15 11:15:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907264693833728 [0;39m <==    Updates: 1
2023-05-15 11:15:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38907264693833728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:15:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:15:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:15:19.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:15:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38907390497787904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:15:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907390497787904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:15:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907390497787904 [0;39m ==> Parameters: 
2023-05-15 11:15:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907390497787904 [0;39m <==    Updates: 1
2023-05-15 11:15:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38907390497787904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:15:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:15:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:15:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:15:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:15:39.364 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:15:59.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:15:59.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38907495363776512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:16:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907495363776512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:16:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907495363776512 [0;39m ==> Parameters: 
2023-05-15 11:16:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907495363776512 [0;39m <==    Updates: 0
2023-05-15 11:16:00.041 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38907495363776512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2023-05-15 11:16:05.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38907516352073728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:16:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907516352073728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:16:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907516352073728 [0;39m ==> Parameters: 
2023-05-15 11:16:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907516352073728 [0;39m <==    Updates: 1
2023-05-15 11:16:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38907516352073728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:16:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:19.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:19.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38907642168610816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:16:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907642168610816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:16:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907642168610816 [0;39m ==> Parameters: 
2023-05-15 11:16:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907642168610816 [0;39m <==    Updates: 1
2023-05-15 11:16:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38907642168610816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 11:16:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:39.405 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:39.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:59.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:16:59.416 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38907747030405120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:17:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907747030405120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:17:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907747030405120 [0;39m ==> Parameters: 
2023-05-15 11:17:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907747030405120 [0;39m <==    Updates: 0
2023-05-15 11:17:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38907747030405120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:17:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38907767943204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:17:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907767943204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:17:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907767943204864 [0;39m ==> Parameters: 
2023-05-15 11:17:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907767943204864 [0;39m <==    Updates: 1
2023-05-15 11:17:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38907767943204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:17:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:19.426 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:19.426 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38907893763936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:17:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907893763936256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:17:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907893763936256 [0;39m ==> Parameters: 
2023-05-15 11:17:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38907893763936256 [0;39m <==    Updates: 1
2023-05-15 11:17:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38907893763936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:17:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:39.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:39.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:59.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:17:59.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38907998684450816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:18:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907998684450816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:18:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907998684450816 [0;39m ==> Parameters: 
2023-05-15 11:18:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38907998684450816 [0;39m <==    Updates: 0
2023-05-15 11:18:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38907998684450816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 11:18:05.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38908019672748032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:18:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908019672748032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:18:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908019672748032 [0;39m ==> Parameters: 
2023-05-15 11:18:05.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908019672748032 [0;39m <==    Updates: 1
2023-05-15 11:18:05.028 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38908019672748032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:18:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:19.480 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38908145464119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:18:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908145464119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:18:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908145464119296 [0;39m ==> Parameters: 
2023-05-15 11:18:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908145464119296 [0;39m <==    Updates: 1
2023-05-15 11:18:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38908145464119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:18:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:36.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:39.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:39.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:59.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:18:59.493 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38908250283970560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:19:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38908250283970560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:19:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38908250283970560 [0;39m ==> Parameters: 
2023-05-15 11:19:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38908250283970560 [0;39m <==    Updates: 0
2023-05-15 11:19:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38908250283970560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:19:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38908271276462080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:19:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908271276462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:19:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908271276462080 [0;39m ==> Parameters: 
2023-05-15 11:19:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908271276462080 [0;39m <==    Updates: 1
2023-05-15 11:19:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38908271276462080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 11:19:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:19.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:19.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38908397130747904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:19:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908397130747904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:19:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908397130747904 [0;39m ==> Parameters: 
2023-05-15 11:19:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908397130747904 [0;39m <==    Updates: 1
2023-05-15 11:19:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38908397130747904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:19:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:39.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:39.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:59.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:19:59.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38908502005125120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:20:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38908502005125120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:20:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38908502005125120 [0;39m ==> Parameters: 
2023-05-15 11:20:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38908502005125120 [0;39m <==    Updates: 0
2023-05-15 11:20:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38908502005125120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:20:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38908522955673600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:20:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908522955673600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:20:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908522955673600 [0;39m ==> Parameters: 
2023-05-15 11:20:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908522955673600 [0;39m <==    Updates: 1
2023-05-15 11:20:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38908522955673600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 11:20:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:06.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:19.530 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:19.531 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38908648780599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:20:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908648780599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:20:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908648780599296 [0;39m ==> Parameters: 
2023-05-15 11:20:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908648780599296 [0;39m <==    Updates: 1
2023-05-15 11:20:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38908648780599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:20:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:39.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:39.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:59.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:20:59.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38908753608839168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:21:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38908753608839168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38908753608839168 [0;39m ==> Parameters: 
2023-05-15 11:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38908753608839168 [0;39m <==    Updates: 0
2023-05-15 11:21:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38908753608839168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-15 11:21:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38908774630690816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:21:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908774630690816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:21:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908774630690816 [0;39m ==> Parameters: 
2023-05-15 11:21:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908774630690816 [0;39m <==    Updates: 1
2023-05-15 11:21:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38908774630690816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:21:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:19.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:19.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38908900459810816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:21:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908900459810816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:21:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908900459810816 [0;39m ==> Parameters: 
2023-05-15 11:21:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38908900459810816 [0;39m <==    Updates: 1
2023-05-15 11:21:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38908900459810816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 11:21:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:39.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:39.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:21:59.574 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38909005288050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:22:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909005288050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:22:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909005288050688 [0;39m ==> Parameters: 
2023-05-15 11:22:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909005288050688 [0;39m <==    Updates: 0
2023-05-15 11:22:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38909005288050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:22:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38909026234404864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:22:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909026234404864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:22:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909026234404864 [0;39m ==> Parameters: 
2023-05-15 11:22:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909026234404864 [0;39m <==    Updates: 1
2023-05-15 11:22:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38909026234404864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:22:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:19.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:19.588 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38909152059330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:22:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909152059330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:22:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909152059330560 [0;39m ==> Parameters: 
2023-05-15 11:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909152059330560 [0;39m <==    Updates: 1
2023-05-15 11:22:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38909152059330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 11:22:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:39.605 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:22:59.615 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38909256958873600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909256958873600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909256958873600 [0;39m ==> Parameters: 
2023-05-15 11:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909256958873600 [0;39m <==    Updates: 0
2023-05-15 11:23:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38909256958873600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:23:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38909277896839168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:23:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909277896839168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:23:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909277896839168 [0;39m ==> Parameters: 
2023-05-15 11:23:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909277896839168 [0;39m <==    Updates: 1
2023-05-15 11:23:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38909277896839168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:23:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:06.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:19.625 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:19.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38909403780485120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:23:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909403780485120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:23:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909403780485120 [0;39m ==> Parameters: 
2023-05-15 11:23:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909403780485120 [0;39m <==    Updates: 1
2023-05-15 11:23:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38909403780485120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 11:23:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:36.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:36.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:36.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:39.630 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:39.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:59.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:23:59.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38909508583559168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:24:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909508583559168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:24:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909508583559168 [0;39m ==> Parameters: 
2023-05-15 11:24:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909508583559168 [0;39m <==    Updates: 0
2023-05-15 11:24:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38909508583559168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:24:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38909529584439296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:24:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909529584439296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:24:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909529584439296 [0;39m ==> Parameters: 
2023-05-15 11:24:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909529584439296 [0;39m <==    Updates: 1
2023-05-15 11:24:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38909529584439296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:24:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:19.660 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38909655405170688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:24:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909655405170688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:24:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909655405170688 [0;39m ==> Parameters: 
2023-05-15 11:24:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909655405170688 [0;39m <==    Updates: 1
2023-05-15 11:24:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38909655405170688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:24:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:39.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:39.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:24:59.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38909760296325120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:25:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909760296325120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:25:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909760296325120 [0;39m ==> Parameters: 
2023-05-15 11:25:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38909760296325120 [0;39m <==    Updates: 0
2023-05-15 11:25:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38909760296325120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:25:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38909781221707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:25:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909781221707776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:25:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909781221707776 [0;39m ==> Parameters: 
2023-05-15 11:25:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909781221707776 [0;39m <==    Updates: 1
2023-05-15 11:25:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38909781221707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:25:06.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:06.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:06.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:06.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:19.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:19.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38909907075993600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:25:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909907075993600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:25:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909907075993600 [0;39m ==> Parameters: 
2023-05-15 11:25:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38909907075993600 [0;39m <==    Updates: 1
2023-05-15 11:25:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38909907075993600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:25:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:39.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:39.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:59.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:25:59.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38910011937787904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:26:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910011937787904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:26:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910011937787904 [0;39m ==> Parameters: 
2023-05-15 11:26:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910011937787904 [0;39m <==    Updates: 0
2023-05-15 11:26:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38910011937787904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:26:05.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38910032926085120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:26:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910032926085120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:26:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910032926085120 [0;39m ==> Parameters: 
2023-05-15 11:26:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910032926085120 [0;39m <==    Updates: 1
2023-05-15 11:26:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38910032926085120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:26:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:19.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:19.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38910158730039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:26:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910158730039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:26:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910158730039296 [0;39m ==> Parameters: 
2023-05-15 11:26:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910158730039296 [0;39m <==    Updates: 1
2023-05-15 11:26:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38910158730039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:26:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:36.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:39.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:39.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:59.736 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:26:59.738 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38910263566667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:27:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910263566667776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:27:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910263566667776 [0;39m ==> Parameters: 
2023-05-15 11:27:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910263566667776 [0;39m <==    Updates: 0
2023-05-15 11:27:00.036 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38910263566667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2023-05-15 11:27:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38910284533993472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:27:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910284533993472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:27:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910284533993472 [0;39m ==> Parameters: 
2023-05-15 11:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910284533993472 [0;39m <==    Updates: 1
2023-05-15 11:27:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38910284533993472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:27:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:06.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:19.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38910410388279296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:27:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910410388279296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:27:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910410388279296 [0;39m ==> Parameters: 
2023-05-15 11:27:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910410388279296 [0;39m <==    Updates: 1
2023-05-15 11:27:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38910410388279296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:27:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:39.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:39.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:59.784 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:27:59.784 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38910515254267904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:28:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910515254267904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:28:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910515254267904 [0;39m ==> Parameters: 
2023-05-15 11:28:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910515254267904 [0;39m <==    Updates: 0
2023-05-15 11:28:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38910515254267904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:28:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38910536175456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:28:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910536175456256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:28:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910536175456256 [0;39m ==> Parameters: 
2023-05-15 11:28:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910536175456256 [0;39m <==    Updates: 1
2023-05-15 11:28:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38910536175456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:28:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:19.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38910662021353472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:28:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910662021353472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:28:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910662021353472 [0;39m ==> Parameters: 
2023-05-15 11:28:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910662021353472 [0;39m <==    Updates: 1
2023-05-15 11:28:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38910662021353472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:28:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:39.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:39.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:59.811 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:28:59.811 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:29:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38910766870564864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:29:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910766870564864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:29:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910766870564864 [0;39m ==> Parameters: 
2023-05-15 11:29:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38910766870564864 [0;39m <==    Updates: 0
2023-05-15 11:29:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38910766870564864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 11:29:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38910787888222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:29:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910787888222208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:29:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910787888222208 [0;39m ==> Parameters: 
2023-05-15 11:29:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910787888222208 [0;39m <==    Updates: 1
2023-05-15 11:29:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38910787888222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:29:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:29:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:29:19.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:29:19.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:29:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38910913704759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:29:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910913704759296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:29:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910913704759296 [0;39m ==> Parameters: 
2023-05-15 11:29:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38910913704759296 [0;39m <==    Updates: 1
2023-05-15 11:29:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38910913704759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:29:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:29:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:29:39.826 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:29:59.836 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:29:59.836 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38911018541387776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:30:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911018541387776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:30:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911018541387776 [0;39m ==> Parameters: 
2023-05-15 11:30:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911018541387776 [0;39m <==    Updates: 0
2023-05-15 11:30:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38911018541387776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 11:30:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38911039504519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:30:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911039504519168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:30:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911039504519168 [0;39m ==> Parameters: 
2023-05-15 11:30:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911039504519168 [0;39m <==    Updates: 1
2023-05-15 11:30:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38911039504519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:30:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:06.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:19.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38911165383970816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:30:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911165383970816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:30:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911165383970816 [0;39m ==> Parameters: 
2023-05-15 11:30:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911165383970816 [0;39m <==    Updates: 1
2023-05-15 11:30:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38911165383970816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:30:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:39.863 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:39.863 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:59.880 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:30:59.880 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:31:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38911270191239168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:31:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911270191239168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:31:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911270191239168 [0;39m ==> Parameters: 
2023-05-15 11:31:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911270191239168 [0;39m <==    Updates: 0
2023-05-15 11:31:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38911270191239168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:31:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38911291204702208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:31:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911291204702208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:31:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911291204702208 [0;39m ==> Parameters: 
2023-05-15 11:31:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911291204702208 [0;39m <==    Updates: 1
2023-05-15 11:31:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38911291204702208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:31:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:31:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:31:06.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:31:19.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:31:19.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:31:35.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38911417050599424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:31:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911417050599424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:31:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911417050599424 [0;39m ==> Parameters: 
2023-05-15 11:31:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911417050599424 [0;39m <==    Updates: 1
2023-05-15 11:31:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38911417050599424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:31:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:31:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:31:39.891 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:31:59.904 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:31:59.906 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38911521870450688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:32:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911521870450688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:32:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911521870450688 [0;39m ==> Parameters: 
2023-05-15 11:32:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911521870450688 [0;39m <==    Updates: 0
2023-05-15 11:32:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38911521870450688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-15 11:32:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38911542850359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:32:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911542850359296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:32:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911542850359296 [0;39m ==> Parameters: 
2023-05-15 11:32:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911542850359296 [0;39m <==    Updates: 1
2023-05-15 11:32:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38911542850359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:32:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:19.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:19.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38911668704645120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:32:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911668704645120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:32:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911668704645120 [0;39m ==> Parameters: 
2023-05-15 11:32:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911668704645120 [0;39m <==    Updates: 1
2023-05-15 11:32:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38911668704645120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:32:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:39.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:39.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:59.929 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:32:59.929 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38911773516107776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:33:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911773516107776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:33:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911773516107776 [0;39m ==> Parameters: 
2023-05-15 11:33:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38911773516107776 [0;39m <==    Updates: 0
2023-05-15 11:33:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38911773516107776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:33:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38911794512793600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911794512793600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911794512793600 [0;39m ==> Parameters: 
2023-05-15 11:33:05.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911794512793600 [0;39m <==    Updates: 1
2023-05-15 11:33:05.047 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38911794512793600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2023-05-15 11:33:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:19.936 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:19.938 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38911920295776256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:33:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911920295776256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:33:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911920295776256 [0;39m ==> Parameters: 
2023-05-15 11:33:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38911920295776256 [0;39m <==    Updates: 1
2023-05-15 11:33:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38911920295776256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 11:33:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:36.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:36.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:39.954 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:39.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:59.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:33:59.967 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38912025182736384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:34:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912025182736384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:34:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912025182736384 [0;39m ==> Parameters: 
2023-05-15 11:34:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912025182736384 [0;39m <==    Updates: 0
2023-05-15 11:34:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38912025182736384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 11:34:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38912046154256384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:34:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912046154256384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:34:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912046154256384 [0;39m ==> Parameters: 
2023-05-15 11:34:05.060 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912046154256384 [0;39m <==    Updates: 1
2023-05-15 11:34:05.060 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38912046154256384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š49æ¯«ç§’
2023-05-15 11:34:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:19.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:19.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38912172021125120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:34:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912172021125120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:34:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912172021125120 [0;39m ==> Parameters: 
2023-05-15 11:34:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912172021125120 [0;39m <==    Updates: 1
2023-05-15 11:34:35.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38912172021125120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:34:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:39.989 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:34:39.989 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38912276811616256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:35:00.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912276811616256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:35:00.007 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912276811616256 [0;39m ==> Parameters: 
2023-05-15 11:35:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912276811616256 [0;39m <==    Updates: 0
2023-05-15 11:35:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38912276811616256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 11:35:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38912297774747648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:35:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912297774747648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:35:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912297774747648 [0;39m ==> Parameters: 
2023-05-15 11:35:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912297774747648 [0;39m <==    Updates: 1
2023-05-15 11:35:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38912297774747648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 11:35:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:06.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:20.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:20.016 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38912423645810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:35:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912423645810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:35:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912423645810688 [0;39m ==> Parameters: 
2023-05-15 11:35:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912423645810688 [0;39m <==    Updates: 1
2023-05-15 11:35:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38912423645810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:35:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:40.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:35:40.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38912528515993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:36:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912528515993600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:36:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912528515993600 [0;39m ==> Parameters: 
2023-05-15 11:36:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912528515993600 [0;39m <==    Updates: 0
2023-05-15 11:36:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38912528515993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:36:00.033 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38912549445570560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:36:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912549445570560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:36:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912549445570560 [0;39m ==> Parameters: 
2023-05-15 11:36:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912549445570560 [0;39m <==    Updates: 1
2023-05-15 11:36:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38912549445570560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 11:36:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:20.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:20.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38912675278884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:36:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912675278884864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:36:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912675278884864 [0;39m ==> Parameters: 
2023-05-15 11:36:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912675278884864 [0;39m <==    Updates: 1
2023-05-15 11:36:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38912675278884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 11:36:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:40.089 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:36:40.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38912780178427904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912780178427904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912780178427904 [0;39m ==> Parameters: 
2023-05-15 11:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38912780178427904 [0;39m <==    Updates: 0
2023-05-15 11:37:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38912780178427904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:37:00.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:00.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38912801120587776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:37:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912801120587776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:37:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912801120587776 [0;39m ==> Parameters: 
2023-05-15 11:37:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912801120587776 [0;39m <==    Updates: 1
2023-05-15 11:37:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38912801120587776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 11:37:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:20.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:20.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38912926924541952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:37:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912926924541952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:37:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912926924541952 [0;39m ==> Parameters: 
2023-05-15 11:37:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38912926924541952 [0;39m <==    Updates: 1
2023-05-15 11:37:35.034 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38912926924541952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2023-05-15 11:37:36.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:40.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:37:40.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38913031840862208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:38:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913031840862208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:38:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913031840862208 [0;39m ==> Parameters: 
2023-05-15 11:38:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913031840862208 [0;39m <==    Updates: 0
2023-05-15 11:38:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38913031840862208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:38:00.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:00.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38913052799799296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:38:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913052799799296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:38:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913052799799296 [0;39m ==> Parameters: 
2023-05-15 11:38:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913052799799296 [0;39m <==    Updates: 1
2023-05-15 11:38:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38913052799799296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:38:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:20.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:20.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38913178649890816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:38:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913178649890816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:38:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913178649890816 [0;39m ==> Parameters: 
2023-05-15 11:38:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913178649890816 [0;39m <==    Updates: 1
2023-05-15 11:38:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38913178649890816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 11:38:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:40.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:38:40.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38913283452964864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:39:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913283452964864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:39:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913283452964864 [0;39m ==> Parameters: 
2023-05-15 11:39:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913283452964864 [0;39m <==    Updates: 0
2023-05-15 11:39:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38913283452964864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-15 11:39:00.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:00.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38913304411901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:39:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913304411901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:39:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913304411901952 [0;39m ==> Parameters: 
2023-05-15 11:39:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913304411901952 [0;39m <==    Updates: 1
2023-05-15 11:39:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38913304411901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 11:39:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:20.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:20.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38913430274576384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:39:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913430274576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:39:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913430274576384 [0;39m ==> Parameters: 
2023-05-15 11:39:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913430274576384 [0;39m <==    Updates: 1
2023-05-15 11:39:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38913430274576384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:39:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:40.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:39:40.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38913535098621952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:40:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913535098621952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:40:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913535098621952 [0;39m ==> Parameters: 
2023-05-15 11:40:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913535098621952 [0;39m <==    Updates: 0
2023-05-15 11:40:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38913535098621952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:40:00.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38913556065947648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:40:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913556065947648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:40:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913556065947648 [0;39m ==> Parameters: 
2023-05-15 11:40:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913556065947648 [0;39m <==    Updates: 1
2023-05-15 11:40:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38913556065947648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:40:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:20.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:20.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38913681966370816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:40:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913681966370816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:40:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913681966370816 [0;39m ==> Parameters: 
2023-05-15 11:40:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913681966370816 [0;39m <==    Updates: 1
2023-05-15 11:40:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38913681966370816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:40:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:40.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:40:40.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38913786815582208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:41:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913786815582208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:41:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913786815582208 [0;39m ==> Parameters: 
2023-05-15 11:41:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38913786815582208 [0;39m <==    Updates: 0
2023-05-15 11:41:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38913786815582208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 11:41:00.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:00.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38913807736770560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:41:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913807736770560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:41:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913807736770560 [0;39m ==> Parameters: 
2023-05-15 11:41:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913807736770560 [0;39m <==    Updates: 1
2023-05-15 11:41:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38913807736770560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 11:41:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:06.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:20.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:20.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38913933595250688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913933595250688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913933595250688 [0;39m ==> Parameters: 
2023-05-15 11:41:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38913933595250688 [0;39m <==    Updates: 1
2023-05-15 11:41:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38913933595250688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:41:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:36.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:40.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:41:40.250 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38914038461239296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:42:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914038461239296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:42:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914038461239296 [0;39m ==> Parameters: 
2023-05-15 11:42:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914038461239296 [0;39m <==    Updates: 0
2023-05-15 11:42:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38914038461239296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:42:00.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:00.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38914059382427648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:42:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914059382427648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:42:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914059382427648 [0;39m ==> Parameters: 
2023-05-15 11:42:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914059382427648 [0;39m <==    Updates: 1
2023-05-15 11:42:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38914059382427648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:42:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:20.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:20.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38914185274462208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:42:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914185274462208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:42:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914185274462208 [0;39m ==> Parameters: 
2023-05-15 11:42:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914185274462208 [0;39m <==    Updates: 1
2023-05-15 11:42:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38914185274462208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:42:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:36.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:36.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:40.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:42:40.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38914290132062208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:43:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914290132062208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:43:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914290132062208 [0;39m ==> Parameters: 
2023-05-15 11:43:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914290132062208 [0;39m <==    Updates: 0
2023-05-15 11:43:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38914290132062208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:43:00.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:00.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38914311090999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:43:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914311090999296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:43:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914311090999296 [0;39m ==> Parameters: 
2023-05-15 11:43:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914311090999296 [0;39m <==    Updates: 1
2023-05-15 11:43:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38914311090999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:43:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:20.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:20.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38914436936896512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:43:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914436936896512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:43:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914436936896512 [0;39m ==> Parameters: 
2023-05-15 11:43:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914436936896512 [0;39m <==    Updates: 1
2023-05-15 11:43:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38914436936896512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:43:36.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:36.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:43:40.312 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38914541807079424 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:44:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914541807079424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:44:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914541807079424 [0;39m ==> Parameters: 
2023-05-15 11:44:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914541807079424 [0;39m <==    Updates: 0
2023-05-15 11:44:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38914541807079424 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:44:00.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:00.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38914562724073472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:44:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914562724073472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:44:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914562724073472 [0;39m ==> Parameters: 
2023-05-15 11:44:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914562724073472 [0;39m <==    Updates: 1
2023-05-15 11:44:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38914562724073472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:44:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:20.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:20.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38914688569970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:44:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914688569970688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:44:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914688569970688 [0;39m ==> Parameters: 
2023-05-15 11:44:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914688569970688 [0;39m <==    Updates: 1
2023-05-15 11:44:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38914688569970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:44:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:40.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:44:40.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38914793419182080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:45:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914793419182080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:45:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914793419182080 [0;39m ==> Parameters: 
2023-05-15 11:45:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38914793419182080 [0;39m <==    Updates: 0
2023-05-15 11:45:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38914793419182080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:45:00.358 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38914814361341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:45:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914814361341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:45:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914814361341952 [0;39m ==> Parameters: 
2023-05-15 11:45:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914814361341952 [0;39m <==    Updates: 1
2023-05-15 11:45:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38914814361341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:45:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:20.368 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:20.368 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38914940228210688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:45:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914940228210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:45:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914940228210688 [0;39m ==> Parameters: 
2023-05-15 11:45:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38914940228210688 [0;39m <==    Updates: 1
2023-05-15 11:45:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38914940228210688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:45:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:40.371 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:45:40.371 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38915045069033472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:46:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915045069033472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:46:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915045069033472 [0;39m ==> Parameters: 
2023-05-15 11:46:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915045069033472 [0;39m <==    Updates: 0
2023-05-15 11:46:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38915045069033472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:46:00.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38915066074107904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:46:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915066074107904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:46:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915066074107904 [0;39m ==> Parameters: 
2023-05-15 11:46:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915066074107904 [0;39m <==    Updates: 1
2023-05-15 11:46:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38915066074107904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:46:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:20.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:20.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38915191852896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:46:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915191852896256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:46:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915191852896256 [0;39m ==> Parameters: 
2023-05-15 11:46:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915191852896256 [0;39m <==    Updates: 1
2023-05-15 11:46:35.036 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38915191852896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2023-05-15 11:46:36.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:36.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:46:40.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38915296785993728 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:47:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915296785993728 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:47:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915296785993728 [0;39m ==> Parameters: 
2023-05-15 11:47:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915296785993728 [0;39m <==    Updates: 0
2023-05-15 11:47:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38915296785993728 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:47:00.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:00.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38915317723959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:47:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915317723959296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:47:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915317723959296 [0;39m ==> Parameters: 
2023-05-15 11:47:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915317723959296 [0;39m <==    Updates: 1
2023-05-15 11:47:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38915317723959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:47:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:20.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:20.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:35.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38915443582439424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:47:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915443582439424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:47:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915443582439424 [0;39m ==> Parameters: 
2023-05-15 11:47:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915443582439424 [0;39m <==    Updates: 1
2023-05-15 11:47:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38915443582439424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:47:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:40.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:47:40.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38915548385513472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:48:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915548385513472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:48:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915548385513472 [0;39m ==> Parameters: 
2023-05-15 11:48:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915548385513472 [0;39m <==    Updates: 0
2023-05-15 11:48:00.040 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38915548385513472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2023-05-15 11:48:00.434 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:00.434 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38915569348644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915569348644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915569348644864 [0;39m ==> Parameters: 
2023-05-15 11:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915569348644864 [0;39m <==    Updates: 1
2023-05-15 11:48:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38915569348644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:48:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:20.440 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:35.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38915695249068032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:48:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915695249068032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:48:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915695249068032 [0;39m ==> Parameters: 
2023-05-15 11:48:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915695249068032 [0;39m <==    Updates: 1
2023-05-15 11:48:35.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38915695249068032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:48:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:40.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:48:40.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38915800110862336 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:49:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915800110862336 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:49:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915800110862336 [0;39m ==> Parameters: 
2023-05-15 11:49:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38915800110862336 [0;39m <==    Updates: 0
2023-05-15 11:49:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38915800110862336 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:49:00.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:00.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38915821015273472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915821015273472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915821015273472 [0;39m ==> Parameters: 
2023-05-15 11:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915821015273472 [0;39m <==    Updates: 1
2023-05-15 11:49:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38915821015273472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 11:49:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:20.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:20.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38915946827616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:49:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915946827616256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:49:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915946827616256 [0;39m ==> Parameters: 
2023-05-15 11:49:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38915946827616256 [0;39m <==    Updates: 1
2023-05-15 11:49:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38915946827616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:49:36.347 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:36.369 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:36.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:40.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:49:40.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38916051693604864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:50:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916051693604864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:50:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916051693604864 [0;39m ==> Parameters: 
2023-05-15 11:50:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916051693604864 [0;39m <==    Updates: 0
2023-05-15 11:50:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38916051693604864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-15 11:50:00.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:00.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38916072677707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:50:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916072677707776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:50:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916072677707776 [0;39m ==> Parameters: 
2023-05-15 11:50:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916072677707776 [0;39m <==    Updates: 1
2023-05-15 11:50:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38916072677707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:50:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:20.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38916198485856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:50:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916198485856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:50:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916198485856256 [0;39m ==> Parameters: 
2023-05-15 11:50:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916198485856256 [0;39m <==    Updates: 1
2023-05-15 11:50:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38916198485856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:50:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:36.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:40.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:50:40.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:51:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38916303360233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:51:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916303360233472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:51:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916303360233472 [0;39m ==> Parameters: 
2023-05-15 11:51:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916303360233472 [0;39m <==    Updates: 0
2023-05-15 11:51:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38916303360233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 11:51:00.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:51:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38916324331753472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:51:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916324331753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:51:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916324331753472 [0;39m ==> Parameters: 
2023-05-15 11:51:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916324331753472 [0;39m <==    Updates: 1
2023-05-15 11:51:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38916324331753472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:51:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:51:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:51:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:51:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:51:20.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:51:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38916450190233600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:51:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916450190233600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:51:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916450190233600 [0;39m ==> Parameters: 
2023-05-15 11:51:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916450190233600 [0;39m <==    Updates: 1
2023-05-15 11:51:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38916450190233600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:51:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:51:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:51:40.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:51:40.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38916555072999424 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:52:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916555072999424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:52:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916555072999424 [0;39m ==> Parameters: 
2023-05-15 11:52:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916555072999424 [0;39m <==    Updates: 0
2023-05-15 11:52:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38916555072999424 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:52:00.555 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:00.555 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38916576027742208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:52:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916576027742208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:52:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916576027742208 [0;39m ==> Parameters: 
2023-05-15 11:52:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916576027742208 [0;39m <==    Updates: 1
2023-05-15 11:52:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38916576027742208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 11:52:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:06.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:20.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:20.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38916701814919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:52:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916701814919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:52:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916701814919168 [0;39m ==> Parameters: 
2023-05-15 11:52:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916701814919168 [0;39m <==    Updates: 1
2023-05-15 11:52:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38916701814919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:52:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:40.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:52:40.581 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38916806680907776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:53:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916806680907776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:53:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916806680907776 [0;39m ==> Parameters: 
2023-05-15 11:53:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38916806680907776 [0;39m <==    Updates: 0
2023-05-15 11:53:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38916806680907776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 11:53:00.595 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38916827652427776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916827652427776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916827652427776 [0;39m ==> Parameters: 
2023-05-15 11:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916827652427776 [0;39m <==    Updates: 1
2023-05-15 11:53:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38916827652427776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:53:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:20.599 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:20.601 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38916953502519296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:53:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916953502519296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:53:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916953502519296 [0;39m ==> Parameters: 
2023-05-15 11:53:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38916953502519296 [0;39m <==    Updates: 1
2023-05-15 11:53:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38916953502519296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:53:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:40.606 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:53:40.606 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38917058360119296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:54:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917058360119296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:54:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917058360119296 [0;39m ==> Parameters: 
2023-05-15 11:54:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917058360119296 [0;39m <==    Updates: 0
2023-05-15 11:54:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38917058360119296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:54:00.611 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38917079331639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:54:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917079331639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:54:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917079331639296 [0;39m ==> Parameters: 
2023-05-15 11:54:05.061 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917079331639296 [0;39m <==    Updates: 1
2023-05-15 11:54:05.061 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38917079331639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š47æ¯«ç§’
2023-05-15 11:54:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:06.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:20.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:35.024 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38917205202702336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:54:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917205202702336 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:54:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917205202702336 [0;39m ==> Parameters: 
2023-05-15 11:54:35.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917205202702336 [0;39m <==    Updates: 1
2023-05-15 11:54:35.041 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38917205202702336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-15 11:54:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:40.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:54:40.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38917310064496640 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:55:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917310064496640 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:55:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917310064496640 [0;39m ==> Parameters: 
2023-05-15 11:55:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917310064496640 [0;39m <==    Updates: 0
2023-05-15 11:55:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38917310064496640 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:55:00.638 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:00.638 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38917330960519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917330960519168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917330960519168 [0;39m ==> Parameters: 
2023-05-15 11:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917330960519168 [0;39m <==    Updates: 1
2023-05-15 11:55:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38917330960519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:55:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:20.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:20.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38917456818999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:55:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917456818999296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:55:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917456818999296 [0;39m ==> Parameters: 
2023-05-15 11:55:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917456818999296 [0;39m <==    Updates: 1
2023-05-15 11:55:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38917456818999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:55:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:40.658 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:55:40.690 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38917561705959424 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:56:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917561705959424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:56:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917561705959424 [0;39m ==> Parameters: 
2023-05-15 11:56:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917561705959424 [0;39m <==    Updates: 0
2023-05-15 11:56:00.036 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38917561705959424 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-15 11:56:00.715 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:00.715 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38917582631342080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:56:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917582631342080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:56:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917582631342080 [0;39m ==> Parameters: 
2023-05-15 11:56:05.073 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917582631342080 [0;39m <==    Updates: 1
2023-05-15 11:56:05.073 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38917582631342080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š63æ¯«ç§’
2023-05-15 11:56:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:20.725 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:20.725 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:35.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38917708510793728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:56:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917708510793728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:56:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917708510793728 [0;39m ==> Parameters: 
2023-05-15 11:56:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917708510793728 [0;39m <==    Updates: 1
2023-05-15 11:56:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38917708510793728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:56:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:40.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:56:40.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:57:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38917813297090560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:57:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917813297090560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:57:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917813297090560 [0;39m ==> Parameters: 
2023-05-15 11:57:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38917813297090560 [0;39m <==    Updates: 0
2023-05-15 11:57:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38917813297090560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 11:57:00.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:57:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38917834314747904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:57:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917834314747904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:57:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917834314747904 [0;39m ==> Parameters: 
2023-05-15 11:57:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917834314747904 [0;39m <==    Updates: 1
2023-05-15 11:57:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38917834314747904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 11:57:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:57:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:57:20.754 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:57:20.754 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:57:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38917960135479296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:57:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917960135479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:57:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917960135479296 [0;39m ==> Parameters: 
2023-05-15 11:57:35.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38917960135479296 [0;39m <==    Updates: 1
2023-05-15 11:57:35.030 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38917960135479296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 11:57:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:57:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:57:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:57:40.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:57:40.773 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38918064955330560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:58:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918064955330560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:58:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918064955330560 [0;39m ==> Parameters: 
2023-05-15 11:58:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918064955330560 [0;39m <==    Updates: 0
2023-05-15 11:58:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38918064955330560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:58:00.777 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:00.777 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38918085952016384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:58:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918085952016384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:58:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918085952016384 [0;39m ==> Parameters: 
2023-05-15 11:58:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918085952016384 [0;39m <==    Updates: 1
2023-05-15 11:58:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38918085952016384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:58:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:20.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:20.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38918211789524992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:58:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918211789524992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:58:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918211789524992 [0;39m ==> Parameters: 
2023-05-15 11:58:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918211789524992 [0;39m <==    Updates: 1
2023-05-15 11:58:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38918211789524992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 11:58:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:36.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:40.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:58:40.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38918316655513600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 11:59:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918316655513600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 11:59:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918316655513600 [0;39m ==> Parameters: 
2023-05-15 11:59:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918316655513600 [0;39m <==    Updates: 0
2023-05-15 11:59:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38918316655513600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 11:59:00.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:00.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38918337580896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:59:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918337580896256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:59:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918337580896256 [0;39m ==> Parameters: 
2023-05-15 11:59:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918337580896256 [0;39m <==    Updates: 1
2023-05-15 11:59:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38918337580896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:59:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:20.837 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38918463464542208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 11:59:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918463464542208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 11:59:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918463464542208 [0;39m ==> Parameters: 
2023-05-15 11:59:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918463464542208 [0;39m <==    Updates: 1
2023-05-15 11:59:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38918463464542208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 11:59:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:36.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:40.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 11:59:40.851 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38918568326336512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:00:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918568326336512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:00:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918568326336512 [0;39m ==> Parameters: 
2023-05-15 12:00:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918568326336512 [0;39m <==    Updates: 0
2023-05-15 12:00:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38918568326336512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:00:00.856 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:00.856 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:05.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38918589306245120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:00:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918589306245120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:00:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918589306245120 [0;39m ==> Parameters: 
2023-05-15 12:00:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918589306245120 [0;39m <==    Updates: 1
2023-05-15 12:00:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38918589306245120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:00:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:20.863 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:20.863 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38918715085033472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:00:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918715085033472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:00:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918715085033472 [0;39m ==> Parameters: 
2023-05-15 12:00:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918715085033472 [0;39m <==    Updates: 1
2023-05-15 12:00:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38918715085033472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:00:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:36.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:40.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:00:40.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38918819971993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:01:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918819971993600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:01:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918819971993600 [0;39m ==> Parameters: 
2023-05-15 12:01:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38918819971993600 [0;39m <==    Updates: 0
2023-05-15 12:01:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38918819971993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 12:01:00.883 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:00.883 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38918840930930688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:01:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918840930930688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:01:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918840930930688 [0;39m ==> Parameters: 
2023-05-15 12:01:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918840930930688 [0;39m <==    Updates: 1
2023-05-15 12:01:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38918840930930688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:01:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:20.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:20.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38918966789410816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:01:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918966789410816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:01:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918966789410816 [0;39m ==> Parameters: 
2023-05-15 12:01:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38918966789410816 [0;39m <==    Updates: 1
2023-05-15 12:01:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38918966789410816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:01:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:01:40.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38919071638622208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:02:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919071638622208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:02:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919071638622208 [0;39m ==> Parameters: 
2023-05-15 12:02:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919071638622208 [0;39m <==    Updates: 0
2023-05-15 12:02:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38919071638622208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:02:00.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:00.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38919092572393472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:02:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919092572393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:02:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919092572393472 [0;39m ==> Parameters: 
2023-05-15 12:02:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919092572393472 [0;39m <==    Updates: 1
2023-05-15 12:02:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38919092572393472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:02:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:20.939 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:20.939 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38919218409902080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:02:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919218409902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:02:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919218409902080 [0;39m ==> Parameters: 
2023-05-15 12:02:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919218409902080 [0;39m <==    Updates: 1
2023-05-15 12:02:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38919218409902080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:02:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:02:40.957 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38919323322028032 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:03:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919323322028032 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:03:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919323322028032 [0;39m ==> Parameters: 
2023-05-15 12:03:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919323322028032 [0;39m <==    Updates: 0
2023-05-15 12:03:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38919323322028032 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:03:00.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38919344230633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:03:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919344230633472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:03:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919344230633472 [0;39m ==> Parameters: 
2023-05-15 12:03:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919344230633472 [0;39m <==    Updates: 1
2023-05-15 12:03:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38919344230633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:03:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:20.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:20.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38919470055559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:03:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919470055559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:03:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919470055559168 [0;39m ==> Parameters: 
2023-05-15 12:03:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919470055559168 [0;39m <==    Updates: 1
2023-05-15 12:03:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38919470055559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:03:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:40.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:03:40.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38919574959296512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:04:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919574959296512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:04:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919574959296512 [0;39m ==> Parameters: 
2023-05-15 12:04:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919574959296512 [0;39m <==    Updates: 0
2023-05-15 12:04:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38919574959296512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:04:00.996 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:00.996 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38919595918233600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:04:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919595918233600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:04:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919595918233600 [0;39m ==> Parameters: 
2023-05-15 12:04:05.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919595918233600 [0;39m <==    Updates: 1
2023-05-15 12:04:05.031 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38919595918233600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 12:04:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:21.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:21.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:35.026 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38919721793490944 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:04:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919721793490944 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:04:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919721793490944 [0;39m ==> Parameters: 
2023-05-15 12:04:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919721793490944 [0;39m <==    Updates: 1
2023-05-15 12:04:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38919721793490944 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:04:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:36.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:41.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:04:41.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38919826583982080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:05:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919826583982080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:05:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919826583982080 [0;39m ==> Parameters: 
2023-05-15 12:05:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38919826583982080 [0;39m <==    Updates: 0
2023-05-15 12:05:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38919826583982080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:05:01.026 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:01.026 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38919847551307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:05:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919847551307776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:05:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919847551307776 [0;39m ==> Parameters: 
2023-05-15 12:05:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919847551307776 [0;39m <==    Updates: 1
2023-05-15 12:05:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38919847551307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:05:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:06.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:21.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38919973426565120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:05:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919973426565120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:05:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919973426565120 [0;39m ==> Parameters: 
2023-05-15 12:05:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38919973426565120 [0;39m <==    Updates: 1
2023-05-15 12:05:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38919973426565120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:05:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:05:41.048 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:06:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38920078305136640 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:06:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920078305136640 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:06:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920078305136640 [0;39m ==> Parameters: 
2023-05-15 12:06:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920078305136640 [0;39m <==    Updates: 0
2023-05-15 12:06:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38920078305136640 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:06:01.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:06:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38920099205353472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:06:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920099205353472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:06:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920099205353472 [0;39m ==> Parameters: 
2023-05-15 12:06:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920099205353472 [0;39m <==    Updates: 1
2023-05-15 12:06:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38920099205353472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:06:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:06:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:06:21.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:06:21.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:06:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38920225030279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:06:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920225030279168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:06:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920225030279168 [0;39m ==> Parameters: 
2023-05-15 12:06:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920225030279168 [0;39m <==    Updates: 1
2023-05-15 12:06:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38920225030279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:06:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:06:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:06:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:06:41.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:06:41.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38920329921433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:07:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920329921433600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:07:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920329921433600 [0;39m ==> Parameters: 
2023-05-15 12:07:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920329921433600 [0;39m <==    Updates: 0
2023-05-15 12:07:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38920329921433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:07:01.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:01.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38920350897147904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:07:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920350897147904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:07:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920350897147904 [0;39m ==> Parameters: 
2023-05-15 12:07:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920350897147904 [0;39m <==    Updates: 1
2023-05-15 12:07:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38920350897147904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:07:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:21.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:21.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38920476734656512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:07:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920476734656512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:07:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920476734656512 [0;39m ==> Parameters: 
2023-05-15 12:07:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920476734656512 [0;39m <==    Updates: 1
2023-05-15 12:07:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38920476734656512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:07:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:41.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:07:41.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:08:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38920581571284992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920581571284992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920581571284992 [0;39m ==> Parameters: 
2023-05-15 12:08:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920581571284992 [0;39m <==    Updates: 0
2023-05-15 12:08:00.029 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38920581571284992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 12:08:01.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:08:01.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:08:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38920602526027776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:08:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920602526027776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:08:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920602526027776 [0;39m ==> Parameters: 
2023-05-15 12:08:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920602526027776 [0;39m <==    Updates: 1
2023-05-15 12:08:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38920602526027776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:08:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:08:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:08:21.146 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:08:21.146 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:08:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38920728350953472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:08:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920728350953472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:08:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920728350953472 [0;39m ==> Parameters: 
2023-05-15 12:08:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920728350953472 [0;39m <==    Updates: 1
2023-05-15 12:08:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38920728350953472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:08:36.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:08:36.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:08:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:08:41.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38920833233719296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:09:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920833233719296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:09:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920833233719296 [0;39m ==> Parameters: 
2023-05-15 12:09:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38920833233719296 [0;39m <==    Updates: 0
2023-05-15 12:09:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38920833233719296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-15 12:09:01.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:01.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:05.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38920854238793728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:09:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920854238793728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:09:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920854238793728 [0;39m ==> Parameters: 
2023-05-15 12:09:05.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920854238793728 [0;39m <==    Updates: 1
2023-05-15 12:09:05.052 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38920854238793728 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2023-05-15 12:09:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:21.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:21.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38920979992416256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:09:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920979992416256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:09:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920979992416256 [0;39m ==> Parameters: 
2023-05-15 12:09:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38920979992416256 [0;39m <==    Updates: 1
2023-05-15 12:09:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38920979992416256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:09:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:36.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:41.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:09:41.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38921084883570688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:10:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921084883570688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:10:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921084883570688 [0;39m ==> Parameters: 
2023-05-15 12:10:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921084883570688 [0;39m <==    Updates: 0
2023-05-15 12:10:00.036 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38921084883570688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 12:10:01.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:01.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:05.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38921105892839424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:10:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921105892839424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:10:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921105892839424 [0;39m ==> Parameters: 
2023-05-15 12:10:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921105892839424 [0;39m <==    Updates: 1
2023-05-15 12:10:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38921105892839424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:10:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:21.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:21.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38921231663239168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:10:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921231663239168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:10:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921231663239168 [0;39m ==> Parameters: 
2023-05-15 12:10:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921231663239168 [0;39m <==    Updates: 1
2023-05-15 12:10:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38921231663239168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 12:10:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:41.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:10:41.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38921336541810688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:11:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921336541810688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:11:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921336541810688 [0;39m ==> Parameters: 
2023-05-15 12:11:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921336541810688 [0;39m <==    Updates: 0
2023-05-15 12:11:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38921336541810688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:11:01.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:01.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38921357521719296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:11:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921357521719296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:11:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921357521719296 [0;39m ==> Parameters: 
2023-05-15 12:11:05.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921357521719296 [0;39m <==    Updates: 1
2023-05-15 12:11:05.030 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38921357521719296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 12:11:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:06.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:21.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38921483350839296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921483350839296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921483350839296 [0;39m ==> Parameters: 
2023-05-15 12:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921483350839296 [0;39m <==    Updates: 1
2023-05-15 12:11:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38921483350839296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:11:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:36.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:41.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:11:41.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38921588229410816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:12:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921588229410816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:12:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921588229410816 [0;39m ==> Parameters: 
2023-05-15 12:12:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921588229410816 [0;39m <==    Updates: 0
2023-05-15 12:12:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38921588229410816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:12:01.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:01.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38921609179959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921609179959296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921609179959296 [0;39m ==> Parameters: 
2023-05-15 12:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921609179959296 [0;39m <==    Updates: 1
2023-05-15 12:12:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38921609179959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:12:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:06.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:21.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:21.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38921735034245120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:12:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921735034245120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:12:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921735034245120 [0;39m ==> Parameters: 
2023-05-15 12:12:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921735034245120 [0;39m <==    Updates: 1
2023-05-15 12:12:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38921735034245120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:12:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:12:41.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38921839854096384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:13:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921839854096384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:13:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921839854096384 [0;39m ==> Parameters: 
2023-05-15 12:13:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38921839854096384 [0;39m <==    Updates: 0
2023-05-15 12:13:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38921839854096384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 12:13:01.297 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:01.297 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38921860829810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:13:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921860829810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:13:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921860829810688 [0;39m ==> Parameters: 
2023-05-15 12:13:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921860829810688 [0;39m <==    Updates: 1
2023-05-15 12:13:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38921860829810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 12:13:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:21.307 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:21.307 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38921986663124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:13:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921986663124992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:13:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921986663124992 [0;39m ==> Parameters: 
2023-05-15 12:13:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38921986663124992 [0;39m <==    Updates: 1
2023-05-15 12:13:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38921986663124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:13:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:36.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:41.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:13:41.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38922091482976256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:14:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922091482976256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:14:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922091482976256 [0;39m ==> Parameters: 
2023-05-15 12:14:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922091482976256 [0;39m <==    Updates: 0
2023-05-15 12:14:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38922091482976256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-15 12:14:01.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:01.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38922112513216512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:14:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922112513216512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:14:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922112513216512 [0;39m ==> Parameters: 
2023-05-15 12:14:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922112513216512 [0;39m <==    Updates: 1
2023-05-15 12:14:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38922112513216512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:14:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:21.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:21.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38922238329753600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:14:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922238329753600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:14:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922238329753600 [0;39m ==> Parameters: 
2023-05-15 12:14:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922238329753600 [0;39m <==    Updates: 1
2023-05-15 12:14:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38922238329753600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:14:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:14:41.369 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38922343174770688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:15:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922343174770688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:15:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922343174770688 [0;39m ==> Parameters: 
2023-05-15 12:15:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922343174770688 [0;39m <==    Updates: 0
2023-05-15 12:15:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38922343174770688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:15:01.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:01.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38922364175650816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:15:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922364175650816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:15:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922364175650816 [0;39m ==> Parameters: 
2023-05-15 12:15:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922364175650816 [0;39m <==    Updates: 1
2023-05-15 12:15:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38922364175650816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:15:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:21.382 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:21.382 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:35.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38922490013159424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:15:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922490013159424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:15:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922490013159424 [0;39m ==> Parameters: 
2023-05-15 12:15:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922490013159424 [0;39m <==    Updates: 1
2023-05-15 12:15:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38922490013159424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 12:15:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:36.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:41.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:15:41.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38922594862370816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:16:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922594862370816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:16:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922594862370816 [0;39m ==> Parameters: 
2023-05-15 12:16:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922594862370816 [0;39m <==    Updates: 0
2023-05-15 12:16:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38922594862370816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:16:01.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:01.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38922615825502208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:16:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922615825502208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:16:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922615825502208 [0;39m ==> Parameters: 
2023-05-15 12:16:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922615825502208 [0;39m <==    Updates: 1
2023-05-15 12:16:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38922615825502208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 12:16:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:06.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:21.418 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:21.418 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38922741608484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:16:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922741608484864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:16:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922741608484864 [0;39m ==> Parameters: 
2023-05-15 12:16:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922741608484864 [0;39m <==    Updates: 1
2023-05-15 12:16:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38922741608484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 12:16:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:36.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:41.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:16:41.427 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38922846499639296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:17:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922846499639296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:17:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922846499639296 [0;39m ==> Parameters: 
2023-05-15 12:17:00.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38922846499639296 [0;39m <==    Updates: 0
2023-05-15 12:17:00.030 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38922846499639296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 12:17:01.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:01.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38922867466964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:17:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922867466964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:17:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922867466964992 [0;39m ==> Parameters: 
2023-05-15 12:17:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922867466964992 [0;39m <==    Updates: 1
2023-05-15 12:17:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38922867466964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:17:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:21.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:21.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38922993308667904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:17:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922993308667904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:17:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922993308667904 [0;39m ==> Parameters: 
2023-05-15 12:17:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38922993308667904 [0;39m <==    Updates: 1
2023-05-15 12:17:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38922993308667904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:17:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:36.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:17:41.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38923098166267904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:18:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923098166267904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:18:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923098166267904 [0;39m ==> Parameters: 
2023-05-15 12:18:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923098166267904 [0;39m <==    Updates: 0
2023-05-15 12:18:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38923098166267904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:18:01.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:01.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38923119133593600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:18:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923119133593600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:18:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923119133593600 [0;39m ==> Parameters: 
2023-05-15 12:18:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923119133593600 [0;39m <==    Updates: 1
2023-05-15 12:18:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38923119133593600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 12:18:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:06.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:21.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38923244962713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:18:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923244962713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:18:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923244962713600 [0;39m ==> Parameters: 
2023-05-15 12:18:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923244962713600 [0;39m <==    Updates: 1
2023-05-15 12:18:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38923244962713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:18:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:41.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:18:41.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38923349853868032 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:19:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923349853868032 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:19:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923349853868032 [0;39m ==> Parameters: 
2023-05-15 12:19:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923349853868032 [0;39m <==    Updates: 0
2023-05-15 12:19:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38923349853868032 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:19:01.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38923370791833600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:19:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923370791833600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:19:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923370791833600 [0;39m ==> Parameters: 
2023-05-15 12:19:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923370791833600 [0;39m <==    Updates: 1
2023-05-15 12:19:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38923370791833600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:19:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:21.487 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:21.487 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38923496616759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:19:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923496616759296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:19:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923496616759296 [0;39m ==> Parameters: 
2023-05-15 12:19:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923496616759296 [0;39m <==    Updates: 1
2023-05-15 12:19:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38923496616759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 12:19:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:41.505 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:19:41.505 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:20:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38923601453387776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:20:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923601453387776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:20:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923601453387776 [0;39m ==> Parameters: 
2023-05-15 12:20:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923601453387776 [0;39m <==    Updates: 0
2023-05-15 12:20:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38923601453387776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:20:01.520 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:20:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38923622408130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923622408130560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923622408130560 [0;39m ==> Parameters: 
2023-05-15 12:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923622408130560 [0;39m <==    Updates: 1
2023-05-15 12:20:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38923622408130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:20:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:20:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:20:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:20:21.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:20:21.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:20:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38923748300165120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:20:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923748300165120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:20:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923748300165120 [0;39m ==> Parameters: 
2023-05-15 12:20:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923748300165120 [0;39m <==    Updates: 1
2023-05-15 12:20:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38923748300165120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 12:20:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:20:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:20:41.533 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38923853174542336 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:21:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923853174542336 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:21:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923853174542336 [0;39m ==> Parameters: 
2023-05-15 12:21:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38923853174542336 [0;39m <==    Updates: 0
2023-05-15 12:21:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38923853174542336 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:21:01.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:01.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38923874091536384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923874091536384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923874091536384 [0;39m ==> Parameters: 
2023-05-15 12:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923874091536384 [0;39m <==    Updates: 1
2023-05-15 12:21:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38923874091536384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:21:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:06.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:21.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:21.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38923999933239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:21:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923999933239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:21:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923999933239296 [0;39m ==> Parameters: 
2023-05-15 12:21:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38923999933239296 [0;39m <==    Updates: 1
2023-05-15 12:21:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38923999933239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:21:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:41.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:21:41.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:22:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38924104765673472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:22:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924104765673472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:22:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924104765673472 [0;39m ==> Parameters: 
2023-05-15 12:22:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924104765673472 [0;39m <==    Updates: 0
2023-05-15 12:22:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38924104765673472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-15 12:22:01.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:22:01.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:22:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38924125749776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:22:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924125749776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:22:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924125749776384 [0;39m ==> Parameters: 
2023-05-15 12:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924125749776384 [0;39m <==    Updates: 1
2023-05-15 12:22:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38924125749776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 12:22:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:22:06.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:22:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:22:21.595 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:22:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38924251578896384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:22:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924251578896384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:22:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924251578896384 [0;39m ==> Parameters: 
2023-05-15 12:22:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924251578896384 [0;39m <==    Updates: 1
2023-05-15 12:22:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38924251578896384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:22:36.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:22:36.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:22:41.604 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:22:41.604 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38924356428107776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:23:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924356428107776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:23:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924356428107776 [0;39m ==> Parameters: 
2023-05-15 12:23:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924356428107776 [0;39m <==    Updates: 0
2023-05-15 12:23:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38924356428107776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:23:01.621 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:01.621 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:05.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38924377445765120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:23:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924377445765120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:23:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924377445765120 [0;39m ==> Parameters: 
2023-05-15 12:23:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924377445765120 [0;39m <==    Updates: 1
2023-05-15 12:23:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38924377445765120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:23:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:21.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:21.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38924503232942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:23:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924503232942080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:23:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924503232942080 [0;39m ==> Parameters: 
2023-05-15 12:23:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924503232942080 [0;39m <==    Updates: 1
2023-05-15 12:23:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38924503232942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 12:23:36.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:36.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:41.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:23:41.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38924608136679424 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:24:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924608136679424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:24:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924608136679424 [0;39m ==> Parameters: 
2023-05-15 12:24:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924608136679424 [0;39m <==    Updates: 0
2023-05-15 12:24:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38924608136679424 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:24:01.657 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:01.657 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38924629041090560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:24:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924629041090560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:24:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924629041090560 [0;39m ==> Parameters: 
2023-05-15 12:24:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924629041090560 [0;39m <==    Updates: 1
2023-05-15 12:24:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38924629041090560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:24:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:06.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:21.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38924754924736512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:24:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924754924736512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:24:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924754924736512 [0;39m ==> Parameters: 
2023-05-15 12:24:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924754924736512 [0;39m <==    Updates: 1
2023-05-15 12:24:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38924754924736512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:24:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:41.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:24:41.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38924859782336512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:25:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924859782336512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:25:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924859782336512 [0;39m ==> Parameters: 
2023-05-15 12:25:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38924859782336512 [0;39m <==    Updates: 0
2023-05-15 12:25:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38924859782336512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:25:01.694 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:01.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38924880724496384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:25:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924880724496384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:25:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924880724496384 [0;39m ==> Parameters: 
2023-05-15 12:25:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38924880724496384 [0;39m <==    Updates: 1
2023-05-15 12:25:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38924880724496384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:25:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:21.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:21.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38925006587170816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:25:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925006587170816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:25:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925006587170816 [0;39m ==> Parameters: 
2023-05-15 12:25:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925006587170816 [0;39m <==    Updates: 1
2023-05-15 12:25:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38925006587170816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:25:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:25:41.726 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38925111444770816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:26:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925111444770816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:26:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925111444770816 [0;39m ==> Parameters: 
2023-05-15 12:26:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925111444770816 [0;39m <==    Updates: 0
2023-05-15 12:26:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38925111444770816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:26:01.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:01.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38925132378542080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:26:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925132378542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:26:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925132378542080 [0;39m ==> Parameters: 
2023-05-15 12:26:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925132378542080 [0;39m <==    Updates: 1
2023-05-15 12:26:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38925132378542080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:26:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:06.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:21.741 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:21.741 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:35.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38925258253799424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:26:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925258253799424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:26:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925258253799424 [0;39m ==> Parameters: 
2023-05-15 12:26:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925258253799424 [0;39m <==    Updates: 1
2023-05-15 12:26:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38925258253799424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:26:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:36.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:36.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:41.754 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:26:41.754 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38925363069456384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:27:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925363069456384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:27:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925363069456384 [0;39m ==> Parameters: 
2023-05-15 12:27:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925363069456384 [0;39m <==    Updates: 0
2023-05-15 12:27:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38925363069456384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:27:01.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38925384045170688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925384045170688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925384045170688 [0;39m ==> Parameters: 
2023-05-15 12:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925384045170688 [0;39m <==    Updates: 1
2023-05-15 12:27:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38925384045170688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:27:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:06.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:21.767 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:21.767 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38925509882679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925509882679296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925509882679296 [0;39m ==> Parameters: 
2023-05-15 12:27:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925509882679296 [0;39m <==    Updates: 1
2023-05-15 12:27:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38925509882679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 12:27:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:27:41.783 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38925614740279296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925614740279296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925614740279296 [0;39m ==> Parameters: 
2023-05-15 12:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925614740279296 [0;39m <==    Updates: 0
2023-05-15 12:28:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38925614740279296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:28:01.785 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:01.785 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38925635703410688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:28:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925635703410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:28:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925635703410688 [0;39m ==> Parameters: 
2023-05-15 12:28:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925635703410688 [0;39m <==    Updates: 1
2023-05-15 12:28:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38925635703410688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:28:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:06.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:06.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:21.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:21.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38925761515753472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:28:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925761515753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:28:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925761515753472 [0;39m ==> Parameters: 
2023-05-15 12:28:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925761515753472 [0;39m <==    Updates: 1
2023-05-15 12:28:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38925761515753472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 12:28:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:41.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:28:41.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38925866381742080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:29:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925866381742080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:29:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925866381742080 [0;39m ==> Parameters: 
2023-05-15 12:29:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38925866381742080 [0;39m <==    Updates: 0
2023-05-15 12:29:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38925866381742080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-15 12:29:01.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38925887365844992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:29:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925887365844992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:29:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925887365844992 [0;39m ==> Parameters: 
2023-05-15 12:29:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38925887365844992 [0;39m <==    Updates: 1
2023-05-15 12:29:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38925887365844992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:29:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:06.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:21.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38926013182382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:29:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926013182382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:29:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926013182382080 [0;39m ==> Parameters: 
2023-05-15 12:29:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926013182382080 [0;39m <==    Updates: 1
2023-05-15 12:29:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38926013182382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 12:29:36.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:36.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:36.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:36.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:41.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:29:41.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38926118023204864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:30:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926118023204864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:30:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926118023204864 [0;39m ==> Parameters: 
2023-05-15 12:30:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926118023204864 [0;39m <==    Updates: 0
2023-05-15 12:30:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38926118023204864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-15 12:30:01.845 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:01.845 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38926139024084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:30:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926139024084992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:30:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926139024084992 [0;39m ==> Parameters: 
2023-05-15 12:30:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926139024084992 [0;39m <==    Updates: 1
2023-05-15 12:30:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38926139024084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:30:06.349 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:06.349 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:21.848 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:21.849 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926217050722304 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926217050722305 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926217050722306 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926217050722304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926217050722305 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926217050722306 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926217050722304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926217050722305 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926217050722306 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926217050722304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926217050722306 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926217050722305 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926217050722306 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926217050722305 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:30:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926217050722304 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:30:23.630 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38926217050722306 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 12:30:23.616 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38926217050722305 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 12:30:23.630 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38926217050722306 [0;39m ==> Parameters: 
2023-05-15 12:30:23.630 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38926217050722305 [0;39m ==> Parameters: 
2023-05-15 12:30:23.631 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926217050722304 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 12:30:23.632 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926217050722304 [0;39m ==> Parameters: 
2023-05-15 12:30:23.632 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38926217050722306 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-15 12:30:23.632 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 12:30:23.632 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38926217050722305 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 12:30:23.632 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 12:30:23.632 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 12:30:23.647 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 12:30:23.647 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 12:30:23.647 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 12:30:23.647 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 12:30:23.647 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 12:30:23.647 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38926217050722306 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-15 12:30:23.647 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 12:30:23.647 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38926217050722305 [0;39m <==        Row: 2023-05-15, 148, 10, 148, 10
2023-05-15 12:30:23.647 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 12:30:23.647 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 12:30:23.648 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 12:30:23.648 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 12:30:23.648 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 12:30:23.648 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 12:30:23.648 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926217050722304 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 12:30:23.649 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926217050722304 [0;39m <==      Total: 15
2023-05-15 12:30:23.649 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38926217050722305 [0;39m <==      Total: 1
2023-05-15 12:30:23.649 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38926217050722306 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-15 12:30:23.649 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38926217050722306 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-15 12:30:23.649 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38926217050722306 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-15 12:30:23.649 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38926217050722306 [0;39m <==        Row: 2023-05-13, 56, 0
2023-05-15 12:30:23.649 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38926217050722306 [0;39m <==      Total: 5
2023-05-15 12:30:23.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926217050722306 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":56,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-15 12:30:23.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926217050722306 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š33 ms -------------
2023-05-15 12:30:23.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926217050722305 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":148,"viewIncrease":148,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 12:30:23.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926217050722305 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š33 ms -------------
2023-05-15 12:30:23.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926217050722304 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 12:30:23.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926217050722304 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š49 ms -------------
2023-05-15 12:30:24.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926222146801664 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:24.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926222146801664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 12:30:24.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926222146801664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 12:30:24.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926222146801664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:24.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926222146801664 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-15 12:30:24.848 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926222146801664 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 12:30:24.848 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926222146801664 [0;39m ==> Parameters: 102(Long)
2023-05-15 12:30:24.848 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38926222146801664 [0;39m <==    Columns: count(0)
2023-05-15 12:30:24.848 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38926222146801664 [0;39m <==        Row: 0
2023-05-15 12:30:24.848 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926222146801664 [0;39m <==      Total: 1
2023-05-15 12:30:24.848 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38926222146801664 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-15 12:30:24.848 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38926222146801664 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-15 12:30:24.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926222146801664 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-15 12:30:24.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926222146801664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 12:30:25.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926226626318336 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:25.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926226626318336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 12:30:25.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926226626318336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 12:30:25.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926226626318336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:25.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926226626318336 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-15 12:30:25.899 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926226626318336 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 12:30:25.899 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926226626318336 [0;39m ==> Parameters: 202(Long)
2023-05-15 12:30:25.899 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38926226626318336 [0;39m <==    Columns: count(0)
2023-05-15 12:30:25.899 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38926226626318336 [0;39m <==        Row: 1
2023-05-15 12:30:25.899 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926226626318336 [0;39m <==      Total: 1
2023-05-15 12:30:25.899 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926226626318336 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 12:30:25.899 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926226626318336 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-15 12:30:25.899 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926226626318336 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 12:30:25.899 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926226626318336 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 148, 10
2023-05-15 12:30:25.899 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926226626318336 [0;39m <==      Total: 1
2023-05-15 12:30:25.899 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38926226626318336 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 12:30:25.899 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38926226626318336 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 12:30:25.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926226626318336 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":148,"voteCount":10}],"total":1},"success":true}
2023-05-15 12:30:25.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926226626318336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 12:30:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38926264849010688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:30:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926264849010688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:30:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926264849010688 [0;39m ==> Parameters: 
2023-05-15 12:30:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926264849010688 [0;39m <==    Updates: 1
2023-05-15 12:30:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38926264849010688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:30:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:36.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:36.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:41.863 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:41.863 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:30:44.046 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38926217050722304 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šDddLBBuhUfï¼Œsession idï¼š5ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 12:30:44.686 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38926217050722305 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šAc1d9HKcgEï¼Œsession idï¼š6ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926305626034176 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926305626034176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926305626034176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926305626034176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926305626034176 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926305626034177 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926305626034178 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926305626034177 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926305626034178 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926305626034177 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926305626034178 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 12:30:44.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926305626034177 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:44.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926305626034177 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:30:44.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926305626034178 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:44.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926305626034178 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:30:44.735 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38926305626034178 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 12:30:44.735 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38926305626034178 [0;39m ==> Parameters: 
2023-05-15 12:30:44.736 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38926305626034176 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 12:30:44.736 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38926305626034176 [0;39m ==> Parameters: 
2023-05-15 12:30:44.736 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926305626034177 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 12:30:44.736 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926305626034177 [0;39m ==> Parameters: 
2023-05-15 12:30:44.738 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38926305626034176 [0;39m <==      Total: 0
2023-05-15 12:30:44.738 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38926305626034178 [0;39m <==      Total: 0
2023-05-15 12:30:44.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926305626034178 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 12:30:44.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926305626034176 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 12:30:44.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926305626034178 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-15 12:30:44.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926305626034176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-15 12:30:44.751 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 12:30:44.751 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 12:30:44.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 12:30:44.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 12:30:44.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 12:30:44.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 12:30:44.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 12:30:44.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 12:30:44.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 12:30:44.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 12:30:44.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 12:30:44.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 12:30:44.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 12:30:44.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 12:30:44.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 12:30:44.754 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926305626034177 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 12:30:44.754 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926305626034177 [0;39m <==      Total: 15
2023-05-15 12:30:44.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926305626034177 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 12:30:44.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926305626034177 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š28 ms -------------
2023-05-15 12:30:46.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926314698313728 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:46.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926314698313728 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 12:30:46.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926314698313728 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 12:30:46.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926314698313728 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:46.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926314698313728 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-15 12:30:46.900 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926314698313728 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 12:30:46.901 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926314698313728 [0;39m ==> Parameters: 202(Long)
2023-05-15 12:30:46.902 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38926314698313728 [0;39m <==    Columns: count(0)
2023-05-15 12:30:46.902 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38926314698313728 [0;39m <==        Row: 1
2023-05-15 12:30:46.902 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926314698313728 [0;39m <==      Total: 1
2023-05-15 12:30:46.902 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926314698313728 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 12:30:46.902 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926314698313728 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-15 12:30:46.904 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926314698313728 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 12:30:46.904 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926314698313728 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 148, 10
2023-05-15 12:30:46.904 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926314698313728 [0;39m <==      Total: 1
2023-05-15 12:30:46.904 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38926314698313728 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 12:30:46.904 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38926314698313728 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 12:30:46.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926314698313728 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":148,"voteCount":10}],"total":1},"success":true}
2023-05-15 12:30:46.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926314698313728 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 12:30:48.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926320184463360 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:48.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926320188657664 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:48.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926320184463360 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 12:30:48.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926320184463360 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 12:30:48.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926320188657664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 12:30:48.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926320184463360 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:48.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926320188657664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 12:30:48.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926320184463360 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 12:30:48.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926320188657664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:48.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926320188657664 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 12:30:48.208 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38926320188657664 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 12:30:48.208 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38926320188657664 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:30:48.209 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38926320184463360 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 12:30:48.209 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38926320184463360 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:30:48.209 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926320188657664 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 12:30:48.209 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926320188657664 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 108, 5
2023-05-15 12:30:48.210 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926320188657664 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 12:30:48.210 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926320188657664 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 12:30:48.210 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926320188657664 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 12:30:48.210 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926320188657664 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 12:30:48.210 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926320188657664 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 12:30:48.210 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38926320184463360 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 12:30:48.210 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926320188657664 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 12:30:48.210 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926320188657664 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 12:30:48.211 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38926320188657664 [0;39m <==      Total: 8
2023-05-15 12:30:48.211 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38926320184463360 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 12:30:48.213 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38926320184463360 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 12:30:48.213 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38926320184463360 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 12:30:48.214 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38926320184463360 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 12:30:48.214 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38926320184463360 [0;39m <==      Total: 4
2023-05-15 12:30:48.214 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:30:48.214 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:30:48.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926320188657664 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":108,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 12:30:48.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926320188657664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 12:30:48.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926320297709568 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:30:48.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926320297709568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 12:30:48.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926320297709568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 12:30:48.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926320297709568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:30:48.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926320297709568 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 12:30:48.233 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38926320297709568 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 12:30:48.233 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38926320297709568 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:30:48.234 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:30:48.234 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:30:48.234 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m <==      Total: 1
2023-05-15 12:30:48.234 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38926320297709568 [0;39m <==    Columns: id, content
2023-05-15 12:30:48.234 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38926320297709568 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 12:30:48.234 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38926320297709568 [0;39m <==      Total: 1
2023-05-15 12:30:48.234 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:30:48.234 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:30:48.234 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38926320297709568 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 12:30:48.235 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38926320297709568 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:30:48.236 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:30:48.236 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:30:48.236 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m <==      Total: 1
2023-05-15 12:30:48.236 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:30:48.236 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:30:48.244 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:30:48.244 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:30:48.244 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m <==      Total: 1
2023-05-15 12:30:48.244 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:30:48.244 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:30:48.246 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:30:48.246 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:30:48.246 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m <==      Total: 1
2023-05-15 12:30:48.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:30:48.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:30:48.248 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:30:48.248 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:30:48.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m <==      Total: 1
2023-05-15 12:30:48.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:30:48.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:30:48.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:30:48.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926320184463360 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:30:48.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926320184463360 [0;39m <==      Total: 1
2023-05-15 12:30:48.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926320184463360 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 12:30:48.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926320184463360 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š44 ms -------------
2023-05-15 12:30:48.292 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38926320297709568 [0;39m <==    Updates: 1
2023-05-15 12:30:48.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926320297709568 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 12:30:48.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926320297709568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š62 ms -------------
2023-05-15 12:31:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38926369714999296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:31:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926369714999296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:31:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926369714999296 [0;39m ==> Parameters: 
2023-05-15 12:31:00.385 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926369714999296 [0;39m <==    Updates: 5
2023-05-15 12:31:00.385 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38926369714999296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š371æ¯«ç§’
2023-05-15 12:31:01.877 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:01.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38926390707490816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:31:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926390707490816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:31:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926390707490816 [0;39m ==> Parameters: 
2023-05-15 12:31:05.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926390707490816 [0;39m <==    Updates: 1
2023-05-15 12:31:05.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38926390707490816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š95æ¯«ç§’
2023-05-15 12:31:06.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:06.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:06.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:13.514 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38926314698313728 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šAc1d9HKcgEï¼Œsession idï¼š6ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 12:31:14.299 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38926226626318336 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šJGzPrqMTccï¼Œsession idï¼š7ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 12:31:14.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926429760655360 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:31:14.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926429760655361 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:31:14.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926429760655360 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 12:31:14.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926429760655361 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 12:31:14.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926429760655360 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 12:31:14.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926429760655361 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 12:31:14.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926429760655360 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:31:14.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926429760655361 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:31:14.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926429760655360 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 12:31:14.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926429760655361 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 12:31:14.332 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38926429760655361 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 12:31:14.333 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38926429760655361 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:31:14.336 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38926429760655360 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 12:31:14.336 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38926429760655360 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:31:14.337 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926429760655360 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 12:31:14.337 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38926429760655361 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 12:31:14.338 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926429760655360 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 109, 5
2023-05-15 12:31:14.338 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926429760655360 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 12:31:14.338 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38926429760655361 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 12:31:14.338 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926429760655360 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 12:31:14.338 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926429760655360 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 12:31:14.338 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926429760655360 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 12:31:14.338 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926429760655360 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 12:31:14.338 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926429760655360 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 12:31:14.339 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38926429760655360 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 12:31:14.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38926429760655361 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 12:31:14.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38926429760655361 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 12:31:14.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38926429760655361 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 12:31:14.339 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38926429760655361 [0;39m <==      Total: 4
2023-05-15 12:31:14.340 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:31:14.340 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:31:14.340 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38926429760655360 [0;39m <==      Total: 8
2023-05-15 12:31:14.342 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:31:14.342 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:31:14.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m <==      Total: 1
2023-05-15 12:31:14.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:31:14.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:31:14.346 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:31:14.347 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:31:14.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m <==      Total: 1
2023-05-15 12:31:14.348 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:31:14.348 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:31:14.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926429760655360 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":109,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 12:31:14.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926429760655360 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š20 ms -------------
2023-05-15 12:31:14.369 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:31:14.369 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:31:14.369 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m <==      Total: 1
2023-05-15 12:31:14.370 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:31:14.370 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:31:14.371 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:31:14.371 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:31:14.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m <==      Total: 1
2023-05-15 12:31:14.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:31:14.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:31:14.372 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:31:14.373 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:31:14.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m <==      Total: 1
2023-05-15 12:31:14.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 12:31:14.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:31:14.374 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:31:14.374 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38926429760655361 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:31:14.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38926429760655361 [0;39m <==      Total: 1
2023-05-15 12:31:14.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926429760655361 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 12:31:14.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926429760655361 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š45 ms -------------
2023-05-15 12:31:14.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926430012313600 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:31:14.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926430012313600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 12:31:14.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926430012313600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 12:31:14.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926430012313600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:31:14.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926430012313600 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 12:31:14.391 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38926430012313600 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 12:31:14.392 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38926430012313600 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:31:14.393 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38926430012313600 [0;39m <==    Columns: id, content
2023-05-15 12:31:14.394 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38926430012313600 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 12:31:14.394 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38926430012313600 [0;39m <==      Total: 1
2023-05-15 12:31:14.395 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38926430012313600 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 12:31:14.395 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38926430012313600 [0;39m ==> Parameters: 1(Long)
2023-05-15 12:31:14.529 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38926430012313600 [0;39m <==    Updates: 1
2023-05-15 12:31:14.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926430012313600 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 12:31:14.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926430012313600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š139 ms -------------
2023-05-15 12:31:15.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926435209056256 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:31:15.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926435209056257 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926435213250560 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926435209056256 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926435209056257 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926435209056257 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926435209056256 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926435213250560 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926435209056257 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926435213250560 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926435209056256 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926435213250560 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926435213250560 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926435209056257 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:31:15.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926435209056256 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:31:15.631 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926435213250560 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 12:31:15.631 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38926435209056257 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 12:31:15.631 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38926435209056257 [0;39m ==> Parameters: 
2023-05-15 12:31:15.631 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926435213250560 [0;39m ==> Parameters: 
2023-05-15 12:31:15.631 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38926435209056256 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 12:31:15.631 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38926435209056256 [0;39m ==> Parameters: 
2023-05-15 12:31:15.632 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38926435209056256 [0;39m <==      Total: 0
2023-05-15 12:31:15.632 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38926435209056257 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 12:31:15.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926435209056256 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 12:31:15.633 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38926435209056257 [0;39m <==        Row: 2023-05-15, 148, 10, 148, 10
2023-05-15 12:31:15.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926435209056256 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-15 12:31:15.633 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 12:31:15.633 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 12:31:15.633 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38926435209056257 [0;39m <==      Total: 1
2023-05-15 12:31:15.633 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 12:31:15.633 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 12:31:15.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926435209056257 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":148,"viewIncrease":148,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 12:31:15.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926435209056257 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-15 12:31:15.633 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 12:31:15.633 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 12:31:15.633 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 12:31:15.633 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 12:31:15.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 12:31:15.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 12:31:15.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 12:31:15.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 12:31:15.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 12:31:15.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 12:31:15.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 12:31:15.635 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926435213250560 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 12:31:15.635 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926435213250560 [0;39m <==      Total: 15
2023-05-15 12:31:15.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926435213250560 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 12:31:15.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926435213250560 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 12:31:21.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:21.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38926516473696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:31:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926516473696256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:31:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926516473696256 [0;39m ==> Parameters: 
2023-05-15 12:31:35.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926516473696256 [0;39m <==    Updates: 1
2023-05-15 12:31:35.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38926516473696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š99æ¯«ç§’
2023-05-15 12:31:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:36.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:36.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:41.901 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:41.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:31:54.109 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38926226626318336 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 12:31:54.110 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38926226626318336 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 12:31:54.113 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38926429760655360 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 12:31:54.113 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38926429760655360 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 12:31:54.113 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38926429760655360 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 12:31:54.143 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38926429760655360 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 12:31:54.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926596777840640 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:31:54.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926596777840640 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 12:31:54.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926596777840640 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 12:31:54.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926596777840640 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:31:54.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926596777840640 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 12:31:54.155 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38926596777840640 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 12:31:54.156 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38926596777840640 [0;39m ==> Parameters: 
2023-05-15 12:31:54.157 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38926596777840640 [0;39m <==    Columns: count(0)
2023-05-15 12:31:54.157 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38926596777840640 [0;39m <==        Row: 3
2023-05-15 12:31:54.157 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38926596777840640 [0;39m <==      Total: 1
2023-05-15 12:31:54.157 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38926596777840640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 12:31:54.158 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38926596777840640 [0;39m ==> Parameters: 10(Integer)
2023-05-15 12:31:54.160 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38926596777840640 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 12:31:54.160 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38926596777840640 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 12:31:54.160 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38926596777840640 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 12:31:54.160 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38926596777840640 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 12:31:54.160 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38926596777840640 [0;39m <==      Total: 3
2023-05-15 12:31:54.160 INFO  com.jiawa.wiki.service.UserService                :50   [32m38926596777840640 [0;39m æ€»è¡Œæ•°ï¼š3
2023-05-15 12:31:54.160 INFO  com.jiawa.wiki.service.UserService                :51   [32m38926596777840640 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 12:31:54.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926596777840640 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"}],"total":3},"success":true}
2023-05-15 12:31:54.163 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926596777840640 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 12:31:54.163 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38926596777840640 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š50 ms -------------
2023-05-15 12:31:54.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926600217169920 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:31:54.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926600217169920 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 12:31:54.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926600217169920 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 12:31:54.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926600217169920 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:31:54.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926600217169920 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:31:54.972 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926600217169920 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 12:31:54.972 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926600217169920 [0;39m ==> Parameters: 
2023-05-15 12:31:54.973 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 12:31:54.973 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 12:31:54.973 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 12:31:54.973 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 12:31:54.973 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 12:31:54.973 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 12:31:54.973 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 12:31:54.974 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 12:31:54.974 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 12:31:54.974 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 12:31:54.974 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 12:31:54.974 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 12:31:54.974 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 12:31:54.974 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 12:31:54.974 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 12:31:54.974 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926600217169920 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 12:31:54.974 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926600217169920 [0;39m <==      Total: 15
2023-05-15 12:31:54.975 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926600217169920 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 12:31:54.975 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926600217169920 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 12:31:54.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926600296861696 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:31:54.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926600296861696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 12:31:54.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926600296861696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 12:31:54.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926600296861696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:31:54.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926600296861696 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 12:31:54.990 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926600296861696 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 12:31:54.990 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926600296861696 [0;39m ==> Parameters: 
2023-05-15 12:31:54.991 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38926600296861696 [0;39m <==    Columns: count(0)
2023-05-15 12:31:54.992 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38926600296861696 [0;39m <==        Row: 5
2023-05-15 12:31:54.992 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926600296861696 [0;39m <==      Total: 1
2023-05-15 12:31:54.992 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926600296861696 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 12:31:54.993 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926600296861696 [0;39m ==> Parameters: 10(Integer)
2023-05-15 12:31:54.994 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926600296861696 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 12:31:54.994 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926600296861696 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 150, 10
2023-05-15 12:31:54.994 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926600296861696 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 12:31:54.996 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926600296861696 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 12:31:54.996 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926600296861696 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 12:31:54.997 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926600296861696 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 12:31:54.998 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926600296861696 [0;39m <==      Total: 5
2023-05-15 12:31:54.998 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38926600296861696 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 12:31:54.998 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38926600296861696 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 12:31:54.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926600296861696 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":150,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 12:31:54.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926600296861696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 12:32:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38926621348073472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:32:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926621348073472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:32:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926621348073472 [0;39m ==> Parameters: 
2023-05-15 12:32:00.185 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926621348073472 [0;39m <==    Updates: 0
2023-05-15 12:32:00.185 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38926621348073472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š177æ¯«ç§’
2023-05-15 12:32:01.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:32:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38926642336370688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:32:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926642336370688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:32:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926642336370688 [0;39m ==> Parameters: 
2023-05-15 12:32:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926642336370688 [0;39m <==    Updates: 1
2023-05-15 12:32:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38926642336370688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:32:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:32:06.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:32:06.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:32:21.931 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:32:21.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:32:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38926768165490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:32:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926768165490688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:32:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926768165490688 [0;39m ==> Parameters: 
2023-05-15 12:32:35.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926768165490688 [0;39m <==    Updates: 1
2023-05-15 12:32:35.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38926768165490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-15 12:32:36.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:32:36.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:32:36.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:32:41.935 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:32:41.936 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38926873027284992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:33:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926873027284992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:33:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926873027284992 [0;39m ==> Parameters: 
2023-05-15 12:33:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38926873027284992 [0;39m <==    Updates: 0
2023-05-15 12:33:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38926873027284992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 12:33:01.953 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:01.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38926893965250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:33:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926893965250560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:33:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926893965250560 [0;39m ==> Parameters: 
2023-05-15 12:33:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38926893965250560 [0;39m <==    Updates: 1
2023-05-15 12:33:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38926893965250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 12:33:05.336 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38926435213250560 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šJGzPrqMTccï¼Œsession idï¼š7ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 12:33:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:06.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:06.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:07.075 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38926305626034176 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šEAaKCvpzBxï¼Œsession idï¼š8ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 12:33:07.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926903347908608 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:33:07.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926903347908608 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 12:33:07.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926903347908608 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 12:33:07.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926903347908608 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:33:07.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926903347908608 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 12:33:07.251 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926903347908608 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 12:33:07.251 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926903347908608 [0;39m ==> Parameters: 
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 12:33:07.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38926903347908608 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 12:33:07.253 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38926903347908608 [0;39m <==      Total: 15
2023-05-15 12:33:07.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926903347908608 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 12:33:07.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926903347908608 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 12:33:07.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38926903461154816 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 12:33:07.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38926903461154816 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 12:33:07.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38926903461154816 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 12:33:07.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38926903461154816 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 12:33:07.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38926903461154816 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 12:33:07.269 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926903461154816 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 12:33:07.269 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926903461154816 [0;39m ==> Parameters: 
2023-05-15 12:33:07.269 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38926903461154816 [0;39m <==    Columns: count(0)
2023-05-15 12:33:07.269 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38926903461154816 [0;39m <==        Row: 5
2023-05-15 12:33:07.269 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38926903461154816 [0;39m <==      Total: 1
2023-05-15 12:33:07.269 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926903461154816 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 12:33:07.269 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926903461154816 [0;39m ==> Parameters: 10(Integer)
2023-05-15 12:33:07.269 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926903461154816 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 12:33:07.269 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926903461154816 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 150, 10
2023-05-15 12:33:07.269 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926903461154816 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 12:33:07.269 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926903461154816 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 12:33:07.269 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926903461154816 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 12:33:07.269 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38926903461154816 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 12:33:07.269 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38926903461154816 [0;39m <==      Total: 5
2023-05-15 12:33:07.269 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38926903461154816 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 12:33:07.269 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38926903461154816 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 12:33:07.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38926903461154816 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":150,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 12:33:07.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38926903461154816 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-15 12:33:21.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:21.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38927019836313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:33:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38927019836313600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:33:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38927019836313600 [0;39m ==> Parameters: 
2023-05-15 12:33:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38927019836313600 [0;39m <==    Updates: 1
2023-05-15 12:33:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38927019836313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 12:33:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:36.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:36.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:41.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:33:41.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:34:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38927124685524992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 12:34:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38927124685524992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 12:34:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38927124685524992 [0;39m ==> Parameters: 
2023-05-15 12:34:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38927124685524992 [0;39m <==    Updates: 0
2023-05-15 12:34:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38927124685524992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:34:01.997 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:34:01.997 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:34:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38927145619296256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 12:34:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38927145619296256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 12:34:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38927145619296256 [0;39m ==> Parameters: 
2023-05-15 12:34:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38927145619296256 [0;39m <==    Updates: 1
2023-05-15 12:34:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38927145619296256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 12:34:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:34:06.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 12:34:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:18:39.922 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-15 13:18:39.957 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.5 on åº·ä¿Šæ° with PID 5684 (D:\Coun-Vue\target\classes started by 82413 in D:\Coun-Vue)
2023-05-15 13:18:39.962 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-15 13:18:40.000 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-15 13:18:40.001 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-15 13:18:41.597 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-15 13:18:41.599 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-15 13:18:41.623 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2023-05-15 13:18:41.756 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$ce912552] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.763 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.783 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.784 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$70cb9a53] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.785 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.786 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.788 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.789 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.791 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.792 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.792 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.809 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.810 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.812 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.813 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.826 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.907 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.908 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:18:41.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:18:41.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:18:42.240 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-15 13:18:42.246 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-15 13:18:42.246 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-15 13:18:42.246 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-15 13:18:42.294 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-15 13:18:42.294 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2293 ms
2023-05-15 13:18:43.112 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-15 13:18:43.361 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-15 13:18:43.399 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-15 13:18:43.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:18:43.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:18:43.431 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-15 13:18:43.432 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-15 13:18:43.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:18:43.434 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:18:43.439 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-15 13:18:43.447 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-15 13:18:43.458 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 3.869 seconds (JVM running for 4.434)
2023-05-15 13:18:43.461 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-15 13:18:43.461 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-15 13:19:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38938449260187648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:19:00.047 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38938449260187648 [0;39m HikariPool-1 - Starting...
2023-05-15 13:19:00.432 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38938449260187648 [0;39m HikariPool-1 - Start completed.
2023-05-15 13:19:00.438 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38938449260187648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:19:00.451 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38938449260187648 [0;39m ==> Parameters: 
2023-05-15 13:19:00.454 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38938449260187648 [0;39m <==    Updates: 0
2023-05-15 13:19:00.455 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38938449260187648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š449æ¯«ç§’
2023-05-15 13:19:03.441 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:03.442 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38938470231707648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938470231707648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938470231707648 [0;39m ==> Parameters: 
2023-05-15 13:19:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938470231707648 [0;39m <==    Updates: 1
2023-05-15 13:19:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38938470231707648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:19:11.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:11.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:11.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:23.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:23.461 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38938596052439040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:19:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938596052439040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:19:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938596052439040 [0;39m ==> Parameters: 
2023-05-15 13:19:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938596052439040 [0;39m <==    Updates: 1
2023-05-15 13:19:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38938596052439040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:19:41.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:41.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:41.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:41.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:43.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:19:43.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38938700914233344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:20:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38938700914233344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:20:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38938700914233344 [0;39m ==> Parameters: 
2023-05-15 13:20:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38938700914233344 [0;39m <==    Updates: 0
2023-05-15 13:20:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38938700914233344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:20:03.476 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:03.476 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38938721927696384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938721927696384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:20:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938721927696384 [0;39m ==> Parameters: 
2023-05-15 13:20:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938721927696384 [0;39m <==    Updates: 1
2023-05-15 13:20:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38938721927696384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:20:11.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:11.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:11.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:11.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:23.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:23.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38938847765204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:20:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938847765204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:20:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938847765204992 [0;39m ==> Parameters: 
2023-05-15 13:20:35.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938847765204992 [0;39m <==    Updates: 1
2023-05-15 13:20:35.028 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38938847765204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-15 13:20:41.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:41.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:41.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:41.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:43.495 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:20:43.495 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38938952635387904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38938952635387904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38938952635387904 [0;39m ==> Parameters: 
2023-05-15 13:21:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38938952635387904 [0;39m <==    Updates: 0
2023-05-15 13:21:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38938952635387904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:21:03.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:03.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38938973564964864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938973564964864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938973564964864 [0;39m ==> Parameters: 
2023-05-15 13:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38938973564964864 [0;39m <==    Updates: 1
2023-05-15 13:21:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38938973564964864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 13:21:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:11.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:23.509 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:23.511 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38939099436027904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:21:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939099436027904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:21:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939099436027904 [0;39m ==> Parameters: 
2023-05-15 13:21:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939099436027904 [0;39m <==    Updates: 1
2023-05-15 13:21:35.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38939099436027904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 13:21:41.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:41.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:41.931 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:21:43.515 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38939204260073472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:22:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939204260073472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:22:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939204260073472 [0;39m ==> Parameters: 
2023-05-15 13:22:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939204260073472 [0;39m <==    Updates: 0
2023-05-15 13:22:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38939204260073472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:22:03.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:03.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38939225235787776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:22:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939225235787776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:22:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939225235787776 [0;39m ==> Parameters: 
2023-05-15 13:22:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939225235787776 [0;39m <==    Updates: 1
2023-05-15 13:22:05.040 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38939225235787776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2023-05-15 13:22:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:23.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:23.537 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38939351090073600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:22:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939351090073600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:22:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939351090073600 [0;39m ==> Parameters: 
2023-05-15 13:22:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939351090073600 [0;39m <==    Updates: 1
2023-05-15 13:22:35.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38939351090073600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 13:22:41.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:41.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:43.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:22:43.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38939455951867904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939455951867904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939455951867904 [0;39m ==> Parameters: 
2023-05-15 13:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939455951867904 [0;39m <==    Updates: 0
2023-05-15 13:23:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38939455951867904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:23:03.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:03.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38939476923387904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:23:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939476923387904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:23:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939476923387904 [0;39m ==> Parameters: 
2023-05-15 13:23:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939476923387904 [0;39m <==    Updates: 1
2023-05-15 13:23:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38939476923387904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:23:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:11.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:11.930 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:23.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38939602744119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:23:35.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939602744119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:23:35.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939602744119296 [0;39m ==> Parameters: 
2023-05-15 13:23:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939602744119296 [0;39m <==    Updates: 1
2023-05-15 13:23:35.034 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38939602744119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š20æ¯«ç§’
2023-05-15 13:23:41.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:41.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:41.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:41.931 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:43.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:23:43.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38939707626885120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:24:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939707626885120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:24:00.038 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939707626885120 [0;39m ==> Parameters: 
2023-05-15 13:24:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939707626885120 [0;39m <==    Updates: 0
2023-05-15 13:24:00.048 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38939707626885120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2023-05-15 13:24:03.591 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:03.592 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38939728514519040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:24:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939728514519040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:24:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939728514519040 [0;39m ==> Parameters: 
2023-05-15 13:24:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939728514519040 [0;39m <==    Updates: 1
2023-05-15 13:24:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38939728514519040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:24:11.909 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:11.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:11.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:11.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:23.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38939854402359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:24:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939854402359296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:24:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939854402359296 [0;39m ==> Parameters: 
2023-05-15 13:24:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939854402359296 [0;39m <==    Updates: 1
2023-05-15 13:24:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38939854402359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:24:41.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:41.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:41.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:41.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:43.612 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:24:43.613 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38939959234793472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:25:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939959234793472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:25:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939959234793472 [0;39m ==> Parameters: 
2023-05-15 13:25:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38939959234793472 [0;39m <==    Updates: 0
2023-05-15 13:25:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38939959234793472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:25:03.615 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38939980176953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:25:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939980176953344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:25:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939980176953344 [0;39m ==> Parameters: 
2023-05-15 13:25:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38939980176953344 [0;39m <==    Updates: 1
2023-05-15 13:25:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38939980176953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:25:11.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:11.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:11.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:23.624 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:23.625 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:27.569 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 13:25:27.571 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-15 13:25:27.599 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 28 ms
2023-05-15 13:25:27.646 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šWauNSuzX3Fï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 13:25:27.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940075274407936 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:25:27.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940075274407936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:25:27.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940075274407936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:25:27.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940075274407936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:25:27.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940075274407936 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:25:27.784 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38940075274407936 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:25:27.785 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38940075274407936 [0;39m ==> Parameters: 
2023-05-15 13:25:27.810 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:25:27.811 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:25:27.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:25:27.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:25:27.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:25:27.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:25:27.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:25:27.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:25:27.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:25:27.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:25:27.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:25:27.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:25:27.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:25:27.814 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:25:27.814 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:25:27.814 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940075274407936 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:25:27.814 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38940075274407936 [0;39m <==      Total: 15
2023-05-15 13:25:27.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940075274407936 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:25:27.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940075274407936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š173 ms -------------
2023-05-15 13:25:27.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940076486561792 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:25:27.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940076486561792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 13:25:27.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940076486561792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 13:25:27.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940076486561792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:25:27.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940076486561792 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 13:25:28.000 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38940076486561792 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 13:25:28.000 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38940076486561792 [0;39m ==> Parameters: 
2023-05-15 13:25:28.003 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38940076486561792 [0;39m <==    Columns: count(0)
2023-05-15 13:25:28.003 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38940076486561792 [0;39m <==        Row: 5
2023-05-15 13:25:28.004 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38940076486561792 [0;39m <==      Total: 1
2023-05-15 13:25:28.005 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38940076486561792 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 13:25:28.006 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38940076486561792 [0;39m ==> Parameters: 10(Integer)
2023-05-15 13:25:28.007 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38940076486561792 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 13:25:28.008 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38940076486561792 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 150, 10
2023-05-15 13:25:28.008 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38940076486561792 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:25:28.009 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38940076486561792 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:25:28.009 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38940076486561792 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:25:28.009 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38940076486561792 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:25:28.010 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38940076486561792 [0;39m <==      Total: 5
2023-05-15 13:25:28.011 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38940076486561792 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 13:25:28.011 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38940076486561792 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 13:25:28.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940076486561792 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":150,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 13:25:28.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940076486561792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š54 ms -------------
2023-05-15 13:25:29.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940083474272256 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:25:29.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940083474272256 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:25:29.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940083474272256 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:25:29.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940083474272256 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:25:29.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940083474272256 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:25:29.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940083482660864 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:25:29.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940083482660864 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 13:25:29.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940083482660864 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 13:25:29.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940083482660864 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:25:29.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940083482660864 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:25:29.633 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38940083474272256 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:25:29.633 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38940083474272256 [0;39m ==> Parameters: 
2023-05-15 13:25:29.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940083491049472 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:25:29.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940083491049472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 13:25:29.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940083491049472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 13:25:29.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940083491049472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:25:29.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940083491049472 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:25:29.635 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:25:29.635 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:25:29.636 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38940083482660864 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 13:25:29.636 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38940083491049472 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 13:25:29.637 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38940083491049472 [0;39m ==> Parameters: 
2023-05-15 13:25:29.637 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38940083482660864 [0;39m ==> Parameters: 
2023-05-15 13:25:29.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:25:29.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:25:29.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:25:29.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:25:29.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:25:29.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:25:29.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:25:29.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:25:29.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:25:29.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:25:29.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:25:29.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:25:29.640 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38940083491049472 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 13:25:29.640 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:25:29.640 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38940083474272256 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:25:29.640 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38940083474272256 [0;39m <==      Total: 15
2023-05-15 13:25:29.640 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38940083482660864 [0;39m <==      Total: 0
2023-05-15 13:25:29.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940083482660864 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 13:25:29.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940083482660864 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 13:25:29.642 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38940083491049472 [0;39m <==        Row: 2023-05-15, 150, 10, 150, 10
2023-05-15 13:25:29.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940083474272256 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:25:29.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940083474272256 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-15 13:25:29.645 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38940083491049472 [0;39m <==      Total: 1
2023-05-15 13:25:29.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940083491049472 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":150,"viewIncrease":150,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 13:25:29.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940083491049472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 13:25:33.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940098628292608 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:25:33.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940098628292608 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 13:25:33.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940098628292608 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 13:25:33.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940098628292608 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:25:33.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940098628292608 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-15 13:25:33.257 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38940098628292608 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 13:25:33.257 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38940098628292608 [0;39m ==> Parameters: 202(Long)
2023-05-15 13:25:33.259 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38940098628292608 [0;39m <==    Columns: count(0)
2023-05-15 13:25:33.259 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38940098628292608 [0;39m <==        Row: 1
2023-05-15 13:25:33.259 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38940098628292608 [0;39m <==      Total: 1
2023-05-15 13:25:33.259 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38940098628292608 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 13:25:33.259 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38940098628292608 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-15 13:25:33.293 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38940098628292608 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 13:25:33.293 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38940098628292608 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 150, 10
2023-05-15 13:25:33.293 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38940098628292608 [0;39m <==      Total: 1
2023-05-15 13:25:33.294 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38940098628292608 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 13:25:33.294 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38940098628292608 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 13:25:33.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940098628292608 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":150,"voteCount":10}],"total":1},"success":true}
2023-05-15 13:25:33.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940098628292608 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š52 ms -------------
2023-05-15 13:25:34.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940102549966848 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:25:34.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940102549966849 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:25:34.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940102549966848 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 13:25:34.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940102549966849 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:25:34.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940102549966848 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 13:25:34.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940102549966849 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:25:34.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940102549966848 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:25:34.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940102549966849 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:25:34.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940102549966848 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:25:34.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940102549966849 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:25:34.181 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38940102549966849 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:25:34.181 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38940102549966849 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:34.183 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940102549966849 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:25:34.185 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940102549966849 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 13:25:34.188 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940102549966849 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 13:25:34.189 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940102549966849 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 13:25:34.189 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940102549966849 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 13:25:34.189 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38940102549966849 [0;39m <==      Total: 4
2023-05-15 13:25:34.190 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:34.191 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:34.192 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:34.192 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:34.193 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m <==      Total: 1
2023-05-15 13:25:34.193 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:34.193 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:34.194 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:34.194 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:34.194 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m <==      Total: 1
2023-05-15 13:25:34.194 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:34.194 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:34.196 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:34.196 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:34.196 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m <==      Total: 1
2023-05-15 13:25:34.196 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:34.196 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:34.198 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:34.198 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:34.198 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m <==      Total: 1
2023-05-15 13:25:34.198 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:34.199 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:34.200 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:34.200 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:34.200 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m <==      Total: 1
2023-05-15 13:25:34.200 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:34.200 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:34.202 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:34.202 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940102549966849 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:34.202 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940102549966849 [0;39m <==      Total: 1
2023-05-15 13:25:34.203 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38940102549966848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 13:25:34.203 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38940102549966848 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:34.204 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940102549966849 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 13:25:34.204 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940102549966849 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2023-05-15 13:25:34.205 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940102549966848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 13:25:34.205 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940102549966848 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 110, 5
2023-05-15 13:25:34.205 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940102549966848 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 13:25:34.205 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940102549966848 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 13:25:34.205 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940102549966848 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 13:25:34.205 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940102549966848 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 13:25:34.205 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940102549966848 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 13:25:34.205 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940102549966848 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 13:25:34.205 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940102549966848 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 13:25:34.206 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38940102549966848 [0;39m <==      Total: 8
2023-05-15 13:25:34.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940102549966848 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":110,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 13:25:34.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940102549966848 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š34 ms -------------
2023-05-15 13:25:34.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940102780653568 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:25:34.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940102780653568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 13:25:34.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940102780653568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 13:25:34.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940102780653568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:25:34.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940102780653568 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:25:34.233 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38940102780653568 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 13:25:34.234 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38940102780653568 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:34.238 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38940102780653568 [0;39m <==    Columns: id, content
2023-05-15 13:25:34.238 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38940102780653568 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 13:25:34.239 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38940102780653568 [0;39m <==      Total: 1
2023-05-15 13:25:34.240 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38940102780653568 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 13:25:34.240 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38940102780653568 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:34.364 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38940102780653568 [0;39m <==    Updates: 1
2023-05-15 13:25:34.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940102780653568 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 13:25:34.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940102780653568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š133 ms -------------
2023-05-15 13:25:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38940106010267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:25:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940106010267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:25:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940106010267648 [0;39m ==> Parameters: 
2023-05-15 13:25:35.140 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940106010267648 [0;39m <==    Updates: 1
2023-05-15 13:25:35.140 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38940106010267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š138æ¯«ç§’
2023-05-15 13:25:41.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:41.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:41.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:41.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:42.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940136645464064 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:25:42.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940136645464064 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:25:42.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940136645464064 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:25:42.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940136645464064 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:25:42.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940136645464064 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:25:42.308 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38940136645464064 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:25:42.308 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38940136645464064 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:42.315 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940136645464064 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:25:42.316 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940136645464064 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 13:25:42.317 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940136645464064 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 13:25:42.317 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940136645464064 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 13:25:42.317 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940136645464064 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 13:25:42.318 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38940136645464064 [0;39m <==      Total: 4
2023-05-15 13:25:42.318 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:42.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:42.320 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:42.320 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:42.321 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m <==      Total: 1
2023-05-15 13:25:42.321 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:42.321 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:42.322 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:42.322 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:42.322 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m <==      Total: 1
2023-05-15 13:25:42.322 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:42.323 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:42.323 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:42.324 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:42.324 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m <==      Total: 1
2023-05-15 13:25:42.324 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:42.324 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:42.325 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:42.325 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:42.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m <==      Total: 1
2023-05-15 13:25:42.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:42.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:42.327 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:42.327 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:42.327 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m <==      Total: 1
2023-05-15 13:25:42.327 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:25:42.327 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:25:42.328 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:25:42.328 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940136645464064 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:25:42.328 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940136645464064 [0;39m <==      Total: 1
2023-05-15 13:25:42.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940136645464064 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 13:25:42.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940136645464064 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-15 13:25:43.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:25:43.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38940210863673344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:26:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940210863673344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:26:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940210863673344 [0;39m ==> Parameters: 
2023-05-15 13:26:00.191 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940210863673344 [0;39m <==    Updates: 0
2023-05-15 13:26:00.192 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38940210863673344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š190æ¯«ç§’
2023-05-15 13:26:03.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:03.637 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38940231835193344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940231835193344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940231835193344 [0;39m ==> Parameters: 
2023-05-15 13:26:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940231835193344 [0;39m <==    Updates: 1
2023-05-15 13:26:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38940231835193344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 13:26:11.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:11.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:11.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:23.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:23.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38940357668507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:26:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940357668507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:26:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940357668507648 [0;39m ==> Parameters: 
2023-05-15 13:26:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940357668507648 [0;39m <==    Updates: 1
2023-05-15 13:26:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38940357668507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:26:41.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:41.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:41.915 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:41.929 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:43.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:26:43.649 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38940462530301952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:27:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940462530301952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:27:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940462530301952 [0;39m ==> Parameters: 
2023-05-15 13:27:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940462530301952 [0;39m <==    Updates: 0
2023-05-15 13:27:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38940462530301952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:27:03.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:03.657 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38940483497627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:27:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940483497627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:27:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940483497627648 [0;39m ==> Parameters: 
2023-05-15 13:27:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940483497627648 [0;39m <==    Updates: 1
2023-05-15 13:27:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38940483497627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:27:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:11.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:23.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38940609318359040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:27:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940609318359040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:27:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940609318359040 [0;39m ==> Parameters: 
2023-05-15 13:27:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940609318359040 [0;39m <==    Updates: 1
2023-05-15 13:27:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38940609318359040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:27:41.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:41.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:41.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:43.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:27:43.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38940714184347648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:28:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940714184347648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:28:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940714184347648 [0;39m ==> Parameters: 
2023-05-15 13:28:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940714184347648 [0;39m <==    Updates: 0
2023-05-15 13:28:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38940714184347648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:28:03.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:03.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38940735202004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:28:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940735202004992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:28:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940735202004992 [0;39m ==> Parameters: 
2023-05-15 13:28:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940735202004992 [0;39m <==    Updates: 1
2023-05-15 13:28:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38940735202004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:28:11.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:11.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:11.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:11.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:23.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38940860993376256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940860993376256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940860993376256 [0;39m ==> Parameters: 
2023-05-15 13:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940860993376256 [0;39m <==    Updates: 1
2023-05-15 13:28:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38940860993376256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:28:38.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940877179195392 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:28:38.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940877179195393 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:28:38.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940877179195392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:28:38.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940877179195392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:28:38.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940877179195393 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 13:28:38.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940877179195392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:28:38.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940877179195393 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 13:28:38.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940877179195393 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:28:38.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940877179195392 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:28:38.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940877179195393 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:28:38.865 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38940877179195392 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:28:38.866 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38940877179195393 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 13:28:38.866 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38940877179195392 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:28:38.866 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38940877179195393 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:28:38.872 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940877179195392 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:28:38.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940877179195393 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 13:28:38.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940877179195393 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 111, 5
2023-05-15 13:28:38.873 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940877179195392 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 13:28:38.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940877179195393 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 13:28:38.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940877179195393 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 13:28:38.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940877179195393 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 13:28:38.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940877179195393 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 13:28:38.874 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940877179195392 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 13:28:38.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940877179195393 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 13:28:38.874 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940877179195392 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 13:28:38.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940877179195393 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 13:28:38.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38940877179195393 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 13:28:38.874 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38940877179195392 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 13:28:38.874 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38940877179195392 [0;39m <==      Total: 4
2023-05-15 13:28:38.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:28:38.876 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:28:38.876 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38940877179195393 [0;39m <==      Total: 8
2023-05-15 13:28:38.878 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:28:38.878 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:28:38.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m <==      Total: 1
2023-05-15 13:28:38.879 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:28:38.879 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:28:38.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940877179195393 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":111,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 13:28:38.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940877179195393 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 13:28:38.880 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:28:38.880 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:28:38.881 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m <==      Total: 1
2023-05-15 13:28:38.881 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:28:38.881 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:28:38.882 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:28:38.882 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:28:38.883 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m <==      Total: 1
2023-05-15 13:28:38.883 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:28:38.883 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:28:38.884 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:28:38.885 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:28:38.885 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m <==      Total: 1
2023-05-15 13:28:38.886 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:28:38.886 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:28:38.887 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:28:38.887 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:28:38.887 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m <==      Total: 1
2023-05-15 13:28:38.888 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:28:38.888 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:28:38.889 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:28:38.889 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38940877179195392 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:28:38.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38940877179195392 [0;39m <==      Total: 1
2023-05-15 13:28:38.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940877179195392 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 13:28:38.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940877179195392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2023-05-15 13:28:38.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38940877531516928 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:28:38.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38940877531516928 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 13:28:38.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38940877531516928 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 13:28:38.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38940877531516928 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:28:38.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38940877531516928 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:28:38.948 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38940877531516928 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 13:28:38.948 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38940877531516928 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:28:38.997 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38940877531516928 [0;39m <==    Columns: id, content
2023-05-15 13:28:38.997 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38940877531516928 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 13:28:38.997 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38940877531516928 [0;39m <==      Total: 1
2023-05-15 13:28:38.997 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38940877531516928 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 13:28:38.998 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38940877531516928 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:28:39.096 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38940877531516928 [0;39m <==    Updates: 1
2023-05-15 13:28:39.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38940877531516928 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 13:28:39.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38940877531516928 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š149 ms -------------
2023-05-15 13:28:41.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:41.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:41.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:41.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:43.750 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:28:43.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38940965884530688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:29:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940965884530688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:29:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940965884530688 [0;39m ==> Parameters: 
2023-05-15 13:29:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38940965884530688 [0;39m <==    Updates: 0
2023-05-15 13:29:00.036 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38940965884530688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2023-05-15 13:29:03.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:03.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38940986822496256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:29:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940986822496256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:29:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940986822496256 [0;39m ==> Parameters: 
2023-05-15 13:29:05.067 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38940986822496256 [0;39m <==    Updates: 1
2023-05-15 13:29:05.067 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38940986822496256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š63æ¯«ç§’
2023-05-15 13:29:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:23.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:23.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:35.027 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38941112748085248 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:29:35.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941112748085248 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:29:35.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941112748085248 [0;39m ==> Parameters: 
2023-05-15 13:29:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941112748085248 [0;39m <==    Updates: 1
2023-05-15 13:29:35.041 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38941112748085248 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-15 13:29:36.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38941120453021697 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:29:36.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38941120453021696 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:29:36.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38941120453021697 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:29:36.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38941120453021696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 13:29:36.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38941120453021697 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:29:36.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38941120453021696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 13:29:36.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38941120453021697 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:29:36.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38941120453021696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:29:36.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38941120453021696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:29:36.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38941120453021697 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:29:36.867 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38941120453021697 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:29:36.867 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38941120453021696 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 13:29:36.867 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38941120453021696 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:29:36.867 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38941120453021697 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:29:36.869 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38941120453021697 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:29:36.869 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38941120453021696 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 13:29:36.870 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38941120453021696 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 112, 5
2023-05-15 13:29:36.870 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38941120453021696 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 13:29:36.870 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38941120453021696 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 13:29:36.870 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38941120453021697 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 13:29:36.870 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38941120453021696 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 13:29:36.870 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38941120453021696 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 13:29:36.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38941120453021696 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 13:29:36.871 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38941120453021697 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 13:29:36.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38941120453021696 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 13:29:36.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38941120453021696 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 13:29:36.871 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38941120453021696 [0;39m <==      Total: 8
2023-05-15 13:29:36.871 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38941120453021697 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 13:29:36.871 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38941120453021697 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 13:29:36.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38941120453021696 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":112,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 13:29:36.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38941120453021696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 13:29:36.872 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38941120453021697 [0;39m <==      Total: 4
2023-05-15 13:29:36.873 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:29:36.874 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:29:36.918 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:29:36.918 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:29:36.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m <==      Total: 1
2023-05-15 13:29:36.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:29:36.920 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:29:36.939 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:29:36.940 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:29:36.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m <==      Total: 1
2023-05-15 13:29:36.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:29:36.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:29:36.949 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:29:36.949 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:29:36.949 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m <==      Total: 1
2023-05-15 13:29:36.950 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:29:36.950 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:29:36.951 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:29:36.951 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:29:36.951 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m <==      Total: 1
2023-05-15 13:29:36.952 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:29:36.953 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:29:36.954 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:29:36.954 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:29:36.955 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m <==      Total: 1
2023-05-15 13:29:36.955 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:29:36.956 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:29:36.958 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:29:36.958 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38941120453021697 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:29:36.959 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38941120453021697 [0;39m <==      Total: 1
2023-05-15 13:29:36.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38941120453021697 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 13:29:36.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38941120453021697 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š96 ms -------------
2023-05-15 13:29:37.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38941121174441984 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:29:37.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38941121174441984 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 13:29:37.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38941121174441984 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 13:29:37.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38941121174441984 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:29:37.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38941121174441984 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:29:37.037 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38941121174441984 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 13:29:37.038 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38941121174441984 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:29:37.063 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38941121174441984 [0;39m <==    Columns: id, content
2023-05-15 13:29:37.064 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38941121174441984 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 13:29:37.064 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38941121174441984 [0;39m <==      Total: 1
2023-05-15 13:29:37.065 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38941121174441984 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 13:29:37.065 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38941121174441984 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:29:37.121 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38941121174441984 [0;39m <==    Updates: 1
2023-05-15 13:29:37.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38941121174441984 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 13:29:37.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38941121174441984 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š86 ms -------------
2023-05-15 13:29:41.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:41.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:41.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:41.930 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:43.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:29:43.777 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38941217521799168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:30:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941217521799168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:30:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941217521799168 [0;39m ==> Parameters: 
2023-05-15 13:30:00.147 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941217521799168 [0;39m <==    Updates: 0
2023-05-15 13:30:00.147 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38941217521799168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š139æ¯«ç§’
2023-05-15 13:30:03.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:03.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38941238480736256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:30:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941238480736256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:30:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941238480736256 [0;39m ==> Parameters: 
2023-05-15 13:30:05.083 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941238480736256 [0;39m <==    Updates: 1
2023-05-15 13:30:05.084 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38941238480736256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š80æ¯«ç§’
2023-05-15 13:30:11.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:11.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:11.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:11.928 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:23.796 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:23.797 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38941364293079040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:30:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941364293079040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:30:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941364293079040 [0;39m ==> Parameters: 
2023-05-15 13:30:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941364293079040 [0;39m <==    Updates: 1
2023-05-15 13:30:35.046 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38941364293079040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š45æ¯«ç§’
2023-05-15 13:30:41.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:41.926 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:41.926 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:43.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:30:43.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38941469209399296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:31:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941469209399296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:31:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941469209399296 [0;39m ==> Parameters: 
2023-05-15 13:31:00.144 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941469209399296 [0;39m <==    Updates: 0
2023-05-15 13:31:00.144 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38941469209399296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š130æ¯«ç§’
2023-05-15 13:31:03.837 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:03.837 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38941490126393344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:31:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941490126393344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:31:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941490126393344 [0;39m ==> Parameters: 
2023-05-15 13:31:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941490126393344 [0;39m <==    Updates: 1
2023-05-15 13:31:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38941490126393344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 13:31:11.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:11.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:11.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:11.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:23.855 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:23.857 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38941615989067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:31:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941615989067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:31:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941615989067776 [0;39m ==> Parameters: 
2023-05-15 13:31:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941615989067776 [0;39m <==    Updates: 1
2023-05-15 13:31:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38941615989067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:31:41.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:41.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:41.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:41.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:43.872 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:31:43.872 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38941720825696256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:32:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941720825696256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:32:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941720825696256 [0;39m ==> Parameters: 
2023-05-15 13:32:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941720825696256 [0;39m <==    Updates: 0
2023-05-15 13:32:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38941720825696256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-15 13:32:03.883 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:03.885 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38941741818187776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:32:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941741818187776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:32:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941741818187776 [0;39m ==> Parameters: 
2023-05-15 13:32:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941741818187776 [0;39m <==    Updates: 1
2023-05-15 13:32:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38941741818187776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:32:11.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:11.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:11.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:23.898 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:23.900 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38941867672473600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:32:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941867672473600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:32:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941867672473600 [0;39m ==> Parameters: 
2023-05-15 13:32:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941867672473600 [0;39m <==    Updates: 1
2023-05-15 13:32:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38941867672473600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:32:41.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:41.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:41.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:41.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:43.903 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:32:43.904 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38941972542656512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:33:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941972542656512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:33:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941972542656512 [0;39m ==> Parameters: 
2023-05-15 13:33:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38941972542656512 [0;39m <==    Updates: 0
2023-05-15 13:33:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38941972542656512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:33:03.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:03.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38941993489010688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941993489010688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941993489010688 [0;39m ==> Parameters: 
2023-05-15 13:33:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38941993489010688 [0;39m <==    Updates: 1
2023-05-15 13:33:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38941993489010688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:33:11.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:11.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:11.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:23.934 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:23.936 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38942119330713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:33:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942119330713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:33:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942119330713600 [0;39m ==> Parameters: 
2023-05-15 13:33:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942119330713600 [0;39m <==    Updates: 1
2023-05-15 13:33:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38942119330713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:33:41.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:41.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:41.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:41.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:43.948 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:33:43.949 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38942224154759168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:34:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942224154759168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:34:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942224154759168 [0;39m ==> Parameters: 
2023-05-15 13:34:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942224154759168 [0;39m <==    Updates: 0
2023-05-15 13:34:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38942224154759168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:34:03.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:03.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38942245172416512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:34:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942245172416512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:34:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942245172416512 [0;39m ==> Parameters: 
2023-05-15 13:34:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942245172416512 [0;39m <==    Updates: 1
2023-05-15 13:34:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38942245172416512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:34:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:23.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:23.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38942370959593472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:34:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942370959593472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:34:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942370959593472 [0;39m ==> Parameters: 
2023-05-15 13:34:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942370959593472 [0;39m <==    Updates: 1
2023-05-15 13:34:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38942370959593472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:34:41.915 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:41.915 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:41.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:34:43.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38942475817193472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:35:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942475817193472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:35:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942475817193472 [0;39m ==> Parameters: 
2023-05-15 13:35:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942475817193472 [0;39m <==    Updates: 0
2023-05-15 13:35:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38942475817193472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:35:04.002 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38942496759353344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:35:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942496759353344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:35:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942496759353344 [0;39m ==> Parameters: 
2023-05-15 13:35:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942496759353344 [0;39m <==    Updates: 1
2023-05-15 13:35:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38942496759353344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:35:11.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:11.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:11.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:24.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:24.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38942622592667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:35:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942622592667648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:35:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942622592667648 [0;39m ==> Parameters: 
2023-05-15 13:35:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942622592667648 [0;39m <==    Updates: 1
2023-05-15 13:35:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38942622592667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:35:41.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:41.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:41.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:41.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:35:44.017 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38942727450267648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:36:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942727450267648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:36:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942727450267648 [0;39m ==> Parameters: 
2023-05-15 13:36:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942727450267648 [0;39m <==    Updates: 0
2023-05-15 13:36:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38942727450267648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:36:04.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38942748463730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:36:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942748463730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:36:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942748463730688 [0;39m ==> Parameters: 
2023-05-15 13:36:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942748463730688 [0;39m <==    Updates: 1
2023-05-15 13:36:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38942748463730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:36:11.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:11.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:24.029 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:24.031 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38942874292850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:36:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942874292850688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:36:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942874292850688 [0;39m ==> Parameters: 
2023-05-15 13:36:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38942874292850688 [0;39m <==    Updates: 1
2023-05-15 13:36:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38942874292850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:36:41.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:41.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:41.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:41.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:44.036 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:36:44.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38942979116896256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:37:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942979116896256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:37:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942979116896256 [0;39m ==> Parameters: 
2023-05-15 13:37:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38942979116896256 [0;39m <==    Updates: 0
2023-05-15 13:37:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38942979116896256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:37:04.040 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:04.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38943000080027648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:37:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943000080027648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:37:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943000080027648 [0;39m ==> Parameters: 
2023-05-15 13:37:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943000080027648 [0;39m <==    Updates: 1
2023-05-15 13:37:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38943000080027648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:37:11.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:11.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:11.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:11.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:24.055 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:24.057 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38943125913341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:37:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943125913341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:37:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943125913341952 [0;39m ==> Parameters: 
2023-05-15 13:37:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943125913341952 [0;39m <==    Updates: 1
2023-05-15 13:37:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38943125913341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:37:41.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:41.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:41.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:44.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:37:44.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:38:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38943230766747648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:38:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943230766747648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:38:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943230766747648 [0;39m ==> Parameters: 
2023-05-15 13:38:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943230766747648 [0;39m <==    Updates: 0
2023-05-15 13:38:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38943230766747648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:38:04.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:38:04.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:38:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38943251771822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:38:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943251771822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:38:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943251771822080 [0;39m ==> Parameters: 
2023-05-15 13:38:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943251771822080 [0;39m <==    Updates: 1
2023-05-15 13:38:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38943251771822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:38:11.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:38:11.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:38:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:38:24.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:38:24.083 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:38:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38943377588359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:38:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943377588359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:38:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943377588359168 [0;39m ==> Parameters: 
2023-05-15 13:38:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943377588359168 [0;39m <==    Updates: 1
2023-05-15 13:38:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38943377588359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 13:38:41.915 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:38:41.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:38:44.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38943482429181952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:39:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943482429181952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:39:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943482429181952 [0;39m ==> Parameters: 
2023-05-15 13:39:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943482429181952 [0;39m <==    Updates: 0
2023-05-15 13:39:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38943482429181952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:39:04.087 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:04.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38943503404896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:39:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943503404896256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:39:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943503404896256 [0;39m ==> Parameters: 
2023-05-15 13:39:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943503404896256 [0;39m <==    Updates: 1
2023-05-15 13:39:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38943503404896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:39:11.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:11.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:11.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:11.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:24.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:24.094 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38943629271764992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:39:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943629271764992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:39:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943629271764992 [0;39m ==> Parameters: 
2023-05-15 13:39:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943629271764992 [0;39m <==    Updates: 1
2023-05-15 13:39:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38943629271764992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:39:41.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:41.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:41.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:41.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:44.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:39:44.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38943734116782080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:40:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943734116782080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:40:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943734116782080 [0;39m ==> Parameters: 
2023-05-15 13:40:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943734116782080 [0;39m <==    Updates: 0
2023-05-15 13:40:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38943734116782080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 13:40:04.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:04.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38943755067330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:40:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943755067330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:40:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943755067330560 [0;39m ==> Parameters: 
2023-05-15 13:40:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943755067330560 [0;39m <==    Updates: 1
2023-05-15 13:40:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38943755067330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:40:11.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:11.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:11.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:11.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:24.136 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:24.137 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38943880942587904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:40:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943880942587904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:40:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943880942587904 [0;39m ==> Parameters: 
2023-05-15 13:40:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38943880942587904 [0;39m <==    Updates: 1
2023-05-15 13:40:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38943880942587904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:40:41.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:41.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:41.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:41.926 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:40:44.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38943985762439168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:41:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943985762439168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:41:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943985762439168 [0;39m ==> Parameters: 
2023-05-15 13:41:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38943985762439168 [0;39m <==    Updates: 0
2023-05-15 13:41:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38943985762439168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:41:04.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:04.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38944006746542080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:41:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944006746542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:41:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944006746542080 [0;39m ==> Parameters: 
2023-05-15 13:41:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944006746542080 [0;39m <==    Updates: 1
2023-05-15 13:41:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38944006746542080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:41:11.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:11.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:11.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:11.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:24.173 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:24.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38944132584050688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:41:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944132584050688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:41:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944132584050688 [0;39m ==> Parameters: 
2023-05-15 13:41:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944132584050688 [0;39m <==    Updates: 1
2023-05-15 13:41:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38944132584050688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:41:41.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:41.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:41.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:41.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:44.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:41:44.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38944237445844992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:42:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944237445844992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:42:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944237445844992 [0;39m ==> Parameters: 
2023-05-15 13:42:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944237445844992 [0;39m <==    Updates: 0
2023-05-15 13:42:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38944237445844992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 13:42:04.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:04.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38944258417364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:42:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944258417364992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:42:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944258417364992 [0;39m ==> Parameters: 
2023-05-15 13:42:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944258417364992 [0;39m <==    Updates: 1
2023-05-15 13:42:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38944258417364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:42:11.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:11.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:11.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:24.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:24.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38944384196153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944384196153344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944384196153344 [0;39m ==> Parameters: 
2023-05-15 13:42:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944384196153344 [0;39m <==    Updates: 1
2023-05-15 13:42:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38944384196153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 13:42:41.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:41.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:44.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:42:44.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38944489078919168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:43:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944489078919168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:43:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944489078919168 [0;39m ==> Parameters: 
2023-05-15 13:43:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944489078919168 [0;39m <==    Updates: 0
2023-05-15 13:43:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38944489078919168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:43:04.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:04.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38944510046244864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:43:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944510046244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:43:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944510046244864 [0;39m ==> Parameters: 
2023-05-15 13:43:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944510046244864 [0;39m <==    Updates: 1
2023-05-15 13:43:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38944510046244864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:43:11.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:11.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:11.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:11.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:21.824 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šWauNSuzX3Fï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 13:43:21.851 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-15 13:43:21.861 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-15 13:43:21.867 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-15 13:43:21.871 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-15 13:43:21.901 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-15 13:43:22.010 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-15 13:43:22.010 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-15 13:43:25.374 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-15 13:43:25.398 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.5 on åº·ä¿Šæ° with PID 15312 (D:\Coun-Vue\target\classes started by 82413 in D:\Coun-Vue)
2023-05-15 13:43:25.399 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-15 13:43:25.432 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-15 13:43:25.432 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-15 13:43:25.938 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-15 13:43:25.939 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-15 13:43:25.954 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-05-15 13:43:26.071 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$8792d298] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.077 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.094 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.096 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$29cd4799] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.096 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.097 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.099 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.100 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.101 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.102 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.103 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.110 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.111 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.112 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.113 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.121 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.185 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.186 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:43:26.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:26.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:26.499 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-15 13:43:26.504 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-15 13:43:26.504 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-15 13:43:26.505 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-15 13:43:26.542 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-15 13:43:26.543 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1110 ms
2023-05-15 13:43:27.027 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-15 13:43:27.214 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-15 13:43:27.238 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-15 13:43:27.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:27.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:27.268 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-15 13:43:27.268 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-15 13:43:27.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:27.275 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-15 13:43:27.282 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-15 13:43:27.290 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 2.148 seconds (JVM running for 2.543)
2023-05-15 13:43:27.291 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-15 13:43:27.292 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-15 13:43:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38944635862781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:43:35.005 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38944635862781952 [0;39m HikariPool-1 - Starting...
2023-05-15 13:43:35.341 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38944635862781952 [0;39m HikariPool-1 - Start completed.
2023-05-15 13:43:35.342 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944635862781952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:43:35.369 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944635862781952 [0;39m ==> Parameters: 
2023-05-15 13:43:35.384 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944635862781952 [0;39m <==    Updates: 1
2023-05-15 13:43:35.386 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38944635862781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š382æ¯«ç§’
2023-05-15 13:43:40.235 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 13:43:40.235 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-15 13:43:40.236 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-15 13:43:40.271 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š4h4CiMNvxOï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 13:43:40.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38944658042261504 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:43:40.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38944658042261505 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:43:40.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38944658042261504 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 13:43:40.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38944658042261505 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:43:40.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38944658042261504 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 13:43:40.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38944658042261505 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:43:40.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38944658042261504 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:43:40.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38944658042261505 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:43:40.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38944658042261505 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:43:40.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38944658042261504 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:43:40.353 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944658042261505 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:43:40.353 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944658042261505 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:40.369 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944658042261505 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:43:40.369 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944658042261505 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 13:43:40.369 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944658042261505 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 13:43:40.369 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944658042261505 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 13:43:40.369 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944658042261505 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 13:43:40.369 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944658042261505 [0;39m <==      Total: 4
2023-05-15 13:43:40.380 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:40.380 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:40.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:40.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:40.382 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m <==      Total: 1
2023-05-15 13:43:40.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:40.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:40.385 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:40.385 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:40.386 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m <==      Total: 1
2023-05-15 13:43:40.386 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:40.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:40.388 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:40.388 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:40.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m <==      Total: 1
2023-05-15 13:43:40.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:40.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:40.389 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38944658042261504 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 13:43:40.389 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:40.389 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:40.389 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38944658042261504 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:40.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m <==      Total: 1
2023-05-15 13:43:40.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:40.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:40.389 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:40.389 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:40.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944658042261504 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 13:43:40.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944658042261504 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 113, 5
2023-05-15 13:43:40.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m <==      Total: 1
2023-05-15 13:43:40.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944658042261504 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 13:43:40.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:40.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944658042261504 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 13:43:40.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:40.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944658042261504 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 13:43:40.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944658042261504 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 13:43:40.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944658042261504 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 13:43:40.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944658042261504 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 13:43:40.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944658042261504 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 13:43:40.389 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:40.401 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38944658042261504 [0;39m <==      Total: 8
2023-05-15 13:43:40.401 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944658042261505 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:40.401 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944658042261505 [0;39m <==      Total: 1
2023-05-15 13:43:40.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38944658042261504 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":113,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 13:43:40.415 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38944658042261504 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š124 ms -------------
2023-05-15 13:43:40.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38944658042261505 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 13:43:40.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38944658042261505 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š128 ms -------------
2023-05-15 13:43:40.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38944658843373568 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:43:40.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38944658843373568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 13:43:40.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38944658843373568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 13:43:40.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38944658843373568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:43:40.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38944658843373568 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:43:40.484 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38944658843373568 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 13:43:40.484 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38944658843373568 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:40.504 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38944658843373568 [0;39m <==    Columns: id, content
2023-05-15 13:43:40.504 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38944658843373568 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 13:43:40.505 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38944658843373568 [0;39m <==      Total: 1
2023-05-15 13:43:40.505 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38944658843373568 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 13:43:40.506 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38944658843373568 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:40.592 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38944658843373568 [0;39m <==    Updates: 1
2023-05-15 13:43:40.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38944658843373568 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 13:43:40.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38944658843373568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š112 ms -------------
2023-05-15 13:43:42.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38944668100202496 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:43:42.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38944668100202496 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:43:42.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38944668100202496 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:43:42.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38944668100202496 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:43:42.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38944668100202496 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:43:42.692 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944668100202496 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:43:42.692 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944668100202496 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:42.697 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944668100202496 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:43:42.698 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944668100202496 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 13:43:42.698 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944668100202496 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 13:43:42.699 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944668100202496 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 13:43:42.699 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944668100202496 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 13:43:42.700 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944668100202496 [0;39m <==      Total: 4
2023-05-15 13:43:42.701 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:42.702 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:42.703 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:42.704 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:42.704 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m <==      Total: 1
2023-05-15 13:43:42.704 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:42.705 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:42.706 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:42.706 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:42.706 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m <==      Total: 1
2023-05-15 13:43:42.706 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:42.707 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:42.708 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:42.708 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:42.708 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m <==      Total: 1
2023-05-15 13:43:42.708 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:42.709 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:42.710 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:42.710 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:42.710 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m <==      Total: 1
2023-05-15 13:43:42.711 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:42.711 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:42.712 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:42.712 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:42.712 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m <==      Total: 1
2023-05-15 13:43:42.712 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:42.712 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:42.716 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:42.716 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944668100202496 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:42.716 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944668100202496 [0;39m <==      Total: 1
2023-05-15 13:43:42.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38944668100202496 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 13:43:42.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38944668100202496 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š28 ms -------------
2023-05-15 13:43:47.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:47.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:56.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:56.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:56.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:56.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:43:57.926 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š4h4CiMNvxOï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 13:43:59.055 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šaqLqV4Se8Pï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 13:43:59.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38944736983257088 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:43:59.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38944736983257089 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:43:59.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38944736983257088 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 13:43:59.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38944736983257089 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:43:59.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38944736983257088 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 13:43:59.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38944736983257088 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:43:59.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38944736983257089 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:43:59.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38944736983257088 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:43:59.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38944736983257089 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:43:59.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38944736983257089 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:43:59.114 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944736983257089 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:43:59.115 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38944736983257088 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 13:43:59.115 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944736983257089 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:59.115 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38944736983257088 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:59.116 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944736983257088 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 13:43:59.116 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944736983257088 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 114, 5
2023-05-15 13:43:59.116 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944736983257089 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:43:59.117 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944736983257088 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 13:43:59.117 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944736983257089 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 13:43:59.117 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944736983257088 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 13:43:59.117 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944736983257088 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 13:43:59.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944736983257088 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 13:43:59.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944736983257088 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 13:43:59.118 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944736983257089 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 13:43:59.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944736983257088 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 13:43:59.118 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944736983257089 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 13:43:59.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38944736983257088 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 13:43:59.119 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944736983257089 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 13:43:59.119 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944736983257089 [0;39m <==      Total: 4
2023-05-15 13:43:59.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:59.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:59.120 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38944736983257088 [0;39m <==      Total: 8
2023-05-15 13:43:59.122 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:59.122 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:59.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m <==      Total: 1
2023-05-15 13:43:59.123 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:59.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38944736983257088 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":114,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 13:43:59.123 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:59.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38944736983257088 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-15 13:43:59.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:59.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:59.125 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m <==      Total: 1
2023-05-15 13:43:59.125 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:59.126 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:59.127 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:59.127 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:59.127 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m <==      Total: 1
2023-05-15 13:43:59.127 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:59.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:59.129 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:59.129 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:59.130 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m <==      Total: 1
2023-05-15 13:43:59.131 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:59.131 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:59.137 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:59.137 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:59.139 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m <==      Total: 1
2023-05-15 13:43:59.140 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:43:59.140 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:59.142 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:43:59.142 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944736983257089 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:43:59.143 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944736983257089 [0;39m <==      Total: 1
2023-05-15 13:43:59.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38944736983257089 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 13:43:59.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38944736983257089 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š31 ms -------------
2023-05-15 13:43:59.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38944737297829888 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:43:59.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38944737297829888 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 13:43:59.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38944737297829888 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 13:43:59.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38944737297829888 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:43:59.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38944737297829888 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:43:59.189 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38944737297829888 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 13:43:59.189 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38944737297829888 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:59.203 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38944737297829888 [0;39m <==    Columns: id, content
2023-05-15 13:43:59.204 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38944737297829888 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 13:43:59.205 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38944737297829888 [0;39m <==      Total: 1
2023-05-15 13:43:59.207 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38944737297829888 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 13:43:59.207 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38944737297829888 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:43:59.292 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38944737297829888 [0;39m <==    Updates: 1
2023-05-15 13:43:59.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38944737297829888 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 13:43:59.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38944737297829888 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š106 ms -------------
2023-05-15 13:44:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38944740711993344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:44:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944740711993344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:44:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944740711993344 [0;39m ==> Parameters: 
2023-05-15 13:44:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944740711993344 [0;39m <==    Updates: 0
2023-05-15 13:44:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38944740711993344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 13:44:00.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38944744306511872 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:44:00.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38944744306511872 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:44:00.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38944744306511872 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:44:00.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38944744306511872 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:44:00.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38944744306511872 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:44:00.859 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944744306511872 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:44:00.860 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944744306511872 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:00.861 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944744306511872 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:44:00.862 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944744306511872 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 13:44:00.862 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944744306511872 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 13:44:00.862 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944744306511872 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 13:44:00.863 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944744306511872 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 13:44:00.864 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944744306511872 [0;39m <==      Total: 4
2023-05-15 13:44:00.864 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:00.865 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:00.867 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:00.867 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:00.868 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m <==      Total: 1
2023-05-15 13:44:00.869 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:00.869 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:00.871 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:00.872 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:00.872 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m <==      Total: 1
2023-05-15 13:44:00.872 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:00.873 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:00.875 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:00.875 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:00.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m <==      Total: 1
2023-05-15 13:44:00.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:00.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:00.876 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:00.876 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:00.877 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m <==      Total: 1
2023-05-15 13:44:00.877 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:00.877 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:00.878 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:00.878 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:00.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m <==      Total: 1
2023-05-15 13:44:00.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:00.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:00.879 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:00.879 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944744306511872 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:00.879 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944744306511872 [0;39m <==      Total: 1
2023-05-15 13:44:00.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38944744306511872 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 13:44:00.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38944744306511872 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-15 13:44:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38944761704484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:44:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944761704484864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:44:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944761704484864 [0;39m ==> Parameters: 
2023-05-15 13:44:05.070 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944761704484864 [0;39m <==    Updates: 1
2023-05-15 13:44:05.071 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38944761704484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š65æ¯«ç§’
2023-05-15 13:44:07.299 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:07.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:26.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:26.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:26.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:27.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:27.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38944887512633344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:44:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944887512633344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:44:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944887512633344 [0;39m ==> Parameters: 
2023-05-15 13:44:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38944887512633344 [0;39m <==    Updates: 1
2023-05-15 13:44:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38944887512633344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 13:44:47.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:47.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:47.745 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šaqLqV4Se8Pï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 13:44:47.790 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-15 13:44:47.792 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-15 13:44:47.792 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-15 13:44:47.793 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-15 13:44:47.800 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-15 13:44:47.810 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-15 13:44:47.810 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-15 13:44:50.612 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-15 13:44:50.627 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.5 on åº·ä¿Šæ° with PID 15904 (D:\Coun-Vue\target\classes started by 82413 in D:\Coun-Vue)
2023-05-15 13:44:50.628 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-15 13:44:50.659 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-15 13:44:50.659 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-15 13:44:51.093 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-15 13:44:51.094 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-15 13:44:51.106 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2023-05-15 13:44:51.209 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$8b44c467] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.215 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.238 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.242 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$2d7f3968] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.243 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.244 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.246 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.246 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.247 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.249 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.249 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.257 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.257 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.259 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.260 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.267 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.330 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.331 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:44:51.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:51.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:51.534 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-15 13:44:51.539 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-15 13:44:51.539 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-15 13:44:51.539 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-15 13:44:51.582 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-15 13:44:51.582 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 923 ms
2023-05-15 13:44:52.073 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-15 13:44:52.244 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-15 13:44:52.275 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-15 13:44:52.299 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:52.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:52.301 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-15 13:44:52.301 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-15 13:44:52.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:52.302 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:44:52.306 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-15 13:44:52.312 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-15 13:44:52.321 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 1.909 seconds (JVM running for 2.3)
2023-05-15 13:44:52.322 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-15 13:44:52.324 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-15 13:44:57.994 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 13:44:57.995 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-15 13:44:57.996 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-15 13:44:58.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38944984153591808 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:44:58.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38944984153591808 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:44:58.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38944984153591808 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:44:58.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38944984153591808 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:44:58.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38944984153591808 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:44:58.082 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38944984153591808 [0;39m HikariPool-1 - Starting...
2023-05-15 13:44:58.414 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38944984153591808 [0;39m HikariPool-1 - Start completed.
2023-05-15 13:44:58.418 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944984153591808 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:44:58.433 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944984153591808 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:58.449 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944984153591808 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:44:58.449 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944984153591808 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-15 13:44:58.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944984153591808 [0;39m <==        Row: 2, 1, 1, null, null, springbootè‡ªåŠ¨åŒ–é…ç½®, 2023-05-13 02:28:17, null
2023-05-15 13:44:58.451 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944984153591808 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 10:14:26, null
2023-05-15 13:44:58.451 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38944984153591808 [0;39m <==        Row: 4, 1, 1, 2, 1, ee, 2023-05-15 10:19:28, null
2023-05-15 13:44:58.452 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38944984153591808 [0;39m <==      Total: 4
2023-05-15 13:44:58.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:58.456 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:58.457 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:58.457 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:58.458 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m <==      Total: 1
2023-05-15 13:44:58.458 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:58.459 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:58.460 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:58.461 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:58.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m <==      Total: 1
2023-05-15 13:44:58.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:58.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:58.463 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:58.464 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:58.464 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m <==      Total: 1
2023-05-15 13:44:58.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:58.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:58.466 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:58.466 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:58.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m <==      Total: 1
2023-05-15 13:44:58.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:58.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:58.471 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:58.471 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:58.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m <==      Total: 1
2023-05-15 13:44:58.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:44:58.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:44:58.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:44:58.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38944984153591808 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:44:58.473 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38944984153591808 [0;39m <==      Total: 1
2023-05-15 13:44:58.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38944984153591808 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1},{"content":"springbootè‡ªåŠ¨åŒ–é…ç½®","createTime":1683916097000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684116866000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ee","createTime":1684117168000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 13:44:58.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38944984153591808 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š442 ms -------------
2023-05-15 13:45:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38944992374427648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:45:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944992374427648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:45:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944992374427648 [0;39m ==> Parameters: 
2023-05-15 13:45:00.258 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38944992374427648 [0;39m <==    Updates: 0
2023-05-15 13:45:00.260 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38944992374427648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š258æ¯«ç§’
2023-05-15 13:45:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38945013341753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:45:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945013341753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:45:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945013341753344 [0;39m ==> Parameters: 
2023-05-15 13:45:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945013341753344 [0;39m <==    Updates: 1
2023-05-15 13:45:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38945013341753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 13:45:12.314 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:12.314 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:21.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:21.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:21.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:32.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:32.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38945139225399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:45:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945139225399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:45:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945139225399296 [0;39m ==> Parameters: 
2023-05-15 13:45:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945139225399296 [0;39m <==    Updates: 1
2023-05-15 13:45:35.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38945139225399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 13:45:44.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945176982523904 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:45:44.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945176982523904 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:45:44.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945176982523904 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:45:44.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945176982523904 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:45:44.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945176982523904 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:45:44.019 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945176982523904 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:45:44.020 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945176982523904 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:45:44.021 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945176982523904 [0;39m <==      Total: 0
2023-05-15 13:45:44.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945176982523904 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 13:45:44.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945176982523904 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 13:45:46.305 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 13:45:46.306 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š1 ms -------------
2023-05-15 13:45:46.310 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 13:45:46.310 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-15 13:45:46.310 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 13:45:46.468 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 13:45:46.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945187405369344 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:45:46.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945187405369344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-15 13:45:46.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945187405369344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-15 13:45:46.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945187405369344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:45:46.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945187405369344 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ewqeqw","ebookId":1,"userId":1}]
2023-05-15 13:45:46.501 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945187405369344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:45:46.501 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945187405369344 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:45:46.501 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945187405369344 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:45:46.501 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945187405369344 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:45:46.501 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945187405369344 [0;39m <==      Total: 1
2023-05-15 13:45:46.501 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38945187405369344 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-15 13:45:46.501 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38945187405369344 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:45:46.501 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38945187405369344 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 13:45:46.501 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38945187405369344 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 155, 10
2023-05-15 13:45:46.501 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38945187405369344 [0;39m <==      Total: 1
2023-05-15 13:45:46.501 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38945187405369344 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-15 13:45:46.501 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38945187405369344 [0;39m ==> Parameters: null, 1(Long), 1(Long), null, null, ewqeqw(String), 2023-05-15 13:45:46.501(Timestamp), null
2023-05-15 13:45:46.602 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38945187405369344 [0;39m <==    Updates: 1
2023-05-15 13:45:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945187405369344 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 13:45:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945187405369344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š101 ms -------------
2023-05-15 13:45:46.602 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38945187405369344 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š292 ms -------------
2023-05-15 13:45:46.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945187908685824 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:45:46.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945187908685824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:45:46.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945187908685824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:45:46.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945187908685824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:45:46.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945187908685824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:45:46.623 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945187908685824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:45:46.623 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945187908685824 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:45:46.625 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945187908685824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:45:46.625 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945187908685824 [0;39m <==        Row: 1, 1, 1, null, null, ewqeqw, 2023-05-15 13:45:47, null
2023-05-15 13:45:46.625 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945187908685824 [0;39m <==      Total: 1
2023-05-15 13:45:46.625 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945187908685824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:45:46.625 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945187908685824 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:45:46.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945187908685824 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:45:46.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945187908685824 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:45:46.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945187908685824 [0;39m <==      Total: 1
2023-05-15 13:45:46.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945187908685824 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129547000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 13:45:46.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945187908685824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š26 ms -------------
2023-05-15 13:45:51.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:51.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:51.354 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:51.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945208452386816 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:45:51.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945208452386816 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:45:51.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945208452386816 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:45:51.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945208452386816 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:45:51.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945208452386816 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:45:51.520 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945208452386816 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:45:51.521 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945208452386816 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:45:51.522 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945208452386816 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:45:51.523 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945208452386816 [0;39m <==        Row: 1, 1, 1, null, null, ewqeqw, 2023-05-15 13:45:47, null
2023-05-15 13:45:51.523 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945208452386816 [0;39m <==      Total: 1
2023-05-15 13:45:51.524 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945208452386816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:45:51.524 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945208452386816 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:45:51.525 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945208452386816 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:45:51.525 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945208452386816 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:45:51.525 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945208452386816 [0;39m <==      Total: 1
2023-05-15 13:45:51.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945208452386816 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129547000,"ebookId":1,"id":1,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 13:45:51.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945208452386816 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 13:45:52.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:45:52.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38945244087193600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:46:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945244087193600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:46:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945244087193600 [0;39m ==> Parameters: 
2023-05-15 13:46:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945244087193600 [0;39m <==    Updates: 0
2023-05-15 13:46:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38945244087193600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:46:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38945265041936384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:46:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945265041936384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:46:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945265041936384 [0;39m ==> Parameters: 
2023-05-15 13:46:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945265041936384 [0;39m <==    Updates: 1
2023-05-15 13:46:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38945265041936384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:46:12.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:21.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:21.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:21.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:31.491 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-15 13:46:31.494 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-15 13:46:31.495 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-15 13:46:31.495 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-15 13:46:31.504 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-15 13:46:31.621 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-15 13:46:31.622 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-15 13:46:34.544 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-15 13:46:34.557 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.5 on åº·ä¿Šæ° with PID 15092 (D:\Coun-Vue\target\classes started by 82413 in D:\Coun-Vue)
2023-05-15 13:46:34.558 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-15 13:46:34.596 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-15 13:46:34.596 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-15 13:46:35.060 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-15 13:46:35.061 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-15 13:46:35.074 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-05-15 13:46:35.176 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$64ce121b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.187 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.208 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.209 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$708871c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.210 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.211 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.213 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.213 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.214 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.215 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.215 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.223 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.235 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.236 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.237 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.246 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.313 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.313 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-15 13:46:35.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:35.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:35.533 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-15 13:46:35.538 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-15 13:46:35.538 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-15 13:46:35.538 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-15 13:46:35.581 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-15 13:46:35.582 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 985 ms
2023-05-15 13:46:36.081 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-15 13:46:36.259 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-15 13:46:36.288 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-15 13:46:36.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:36.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:36.318 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-15 13:46:36.318 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-15 13:46:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:36.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:46:36.324 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-15 13:46:36.331 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-15 13:46:36.339 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 2.038 seconds (JVM running for 2.452)
2023-05-15 13:46:36.340 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-15 13:46:36.341 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-15 13:46:42.264 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 13:46:42.265 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-15 13:46:42.266 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-15 13:46:42.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945421397200896 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:46:42.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945421397200896 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:46:42.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945421397200896 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:46:42.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945421397200896 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:46:42.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945421397200896 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:46:42.320 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38945421397200896 [0;39m HikariPool-1 - Starting...
2023-05-15 13:46:42.541 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38945421397200896 [0;39m HikariPool-1 - Start completed.
2023-05-15 13:46:42.545 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945421397200896 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:46:42.562 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945421397200896 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:46:42.575 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945421397200896 [0;39m <==      Total: 0
2023-05-15 13:46:42.587 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945421397200896 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 13:46:42.587 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945421397200896 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š298 ms -------------
2023-05-15 13:46:43.964 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 13:46:43.964 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-15 13:46:43.965 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 13:46:44.054 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 13:46:44.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945428938559488 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:46:44.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945428938559488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-15 13:46:44.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945428938559488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-15 13:46:44.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945428938559488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:46:44.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945428938559488 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ewqeqw","ebookId":1,"userId":1}]
2023-05-15 13:46:44.087 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945428938559488 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:46:44.087 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945428938559488 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:46:44.087 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945428938559488 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:46:44.087 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945428938559488 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:46:44.087 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945428938559488 [0;39m <==      Total: 1
2023-05-15 13:46:44.087 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38945428938559488 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-15 13:46:44.087 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38945428938559488 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:46:44.101 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38945428938559488 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 13:46:44.101 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38945428938559488 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 155, 10
2023-05-15 13:46:44.102 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38945428938559488 [0;39m <==      Total: 1
2023-05-15 13:46:44.102 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38945428938559488 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-15 13:46:44.104 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38945428938559488 [0;39m ==> Parameters: null, 1(Long), 1(Long), null, null, ewqeqw(String), 2023-05-15 13:46:44.102(Timestamp), null
2023-05-15 13:46:44.188 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38945428938559488 [0;39m <==    Updates: 1
2023-05-15 13:46:44.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945428938559488 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 13:46:44.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945428938559488 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š101 ms -------------
2023-05-15 13:46:44.188 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38945428938559488 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š224 ms -------------
2023-05-15 13:46:44.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945429404127232 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:46:44.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945429404127232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:46:44.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945429404127232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:46:44.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945429404127232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:46:44.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945429404127232 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:46:44.199 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945429404127232 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:46:44.199 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945429404127232 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:46:44.206 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945429404127232 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:46:44.206 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945429404127232 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 13:46:44.206 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945429404127232 [0;39m <==      Total: 1
2023-05-15 13:46:44.206 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945429404127232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:46:44.206 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945429404127232 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:46:44.218 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945429404127232 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:46:44.219 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945429404127232 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:46:44.219 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945429404127232 [0;39m <==      Total: 1
2023-05-15 13:46:44.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945429404127232 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 13:46:44.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945429404127232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-15 13:46:46.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945440242208768 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:46:46.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945440242208768 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:46:46.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945440242208768 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:46:46.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945440242208768 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:46:46.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945440242208768 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:46:46.785 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945440242208768 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:46:46.786 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945440242208768 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:46:46.805 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945440242208768 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:46:46.807 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945440242208768 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 13:46:46.807 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945440242208768 [0;39m <==      Total: 1
2023-05-15 13:46:46.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945440242208768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:46:46.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945440242208768 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:46:46.809 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945440242208768 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:46:46.809 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945440242208768 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:46:46.809 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945440242208768 [0;39m <==      Total: 1
2023-05-15 13:46:46.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945440242208768 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 13:46:46.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945440242208768 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š28 ms -------------
2023-05-15 13:46:56.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38945495711879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:47:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945495711879168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:47:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945495711879168 [0;39m ==> Parameters: 
2023-05-15 13:47:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945495711879168 [0;39m <==    Updates: 0
2023-05-15 13:47:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38945495711879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:47:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38945516658233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:47:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945516658233344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:47:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945516658233344 [0;39m ==> Parameters: 
2023-05-15 13:47:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945516658233344 [0;39m <==    Updates: 1
2023-05-15 13:47:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38945516658233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 13:47:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:05.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:16.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:16.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38945642541879296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:47:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945642541879296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:47:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945642541879296 [0;39m ==> Parameters: 
2023-05-15 13:47:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945642541879296 [0;39m <==    Updates: 1
2023-05-15 13:47:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38945642541879296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:47:35.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:35.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:35.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:35.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:36.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:36.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:56.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:56.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:47:59.797 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šDo9t6X8JLiï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 13:47:59.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945746845831168 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:47:59.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945746845831168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:47:59.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945746845831168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:47:59.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945746845831168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:47:59.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945746845831168 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:47:59.913 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38945746845831168 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:47:59.913 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38945746845831168 [0;39m ==> Parameters: 
2023-05-15 13:47:59.915 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:47:59.916 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:47:59.916 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:47:59.937 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:47:59.938 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:47:59.938 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:47:59.938 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:47:59.938 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:47:59.939 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:47:59.939 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:47:59.939 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:47:59.939 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:47:59.939 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:47:59.939 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:47:59.939 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:47:59.940 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945746845831168 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:47:59.940 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38945746845831168 [0;39m <==      Total: 15
2023-05-15 13:47:59.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945746845831168 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:47:59.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945746845831168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š81 ms -------------
2023-05-15 13:48:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38945747344953344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:48:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945747344953344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:48:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945747344953344 [0;39m ==> Parameters: 
2023-05-15 13:48:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945747344953344 [0;39m <==    Updates: 0
2023-05-15 13:48:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38945747344953344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 13:48:00.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945747441422336 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:48:00.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945747441422336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 13:48:00.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945747441422336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 13:48:00.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945747441422336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:48:00.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945747441422336 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 13:48:00.062 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38945747441422336 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 13:48:00.063 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38945747441422336 [0;39m ==> Parameters: 
2023-05-15 13:48:00.066 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38945747441422336 [0;39m <==    Columns: count(0)
2023-05-15 13:48:00.066 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38945747441422336 [0;39m <==        Row: 5
2023-05-15 13:48:00.067 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38945747441422336 [0;39m <==      Total: 1
2023-05-15 13:48:00.070 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38945747441422336 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 13:48:00.070 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38945747441422336 [0;39m ==> Parameters: 10(Integer)
2023-05-15 13:48:00.072 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38945747441422336 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 13:48:00.072 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38945747441422336 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 155, 10
2023-05-15 13:48:00.072 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38945747441422336 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:48:00.072 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38945747441422336 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:48:00.072 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38945747441422336 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:48:00.073 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38945747441422336 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:48:00.073 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38945747441422336 [0;39m <==      Total: 5
2023-05-15 13:48:00.074 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38945747441422336 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 13:48:00.074 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38945747441422336 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 13:48:00.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945747441422336 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":155,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 13:48:00.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945747441422336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š55 ms -------------
2023-05-15 13:48:01.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945754919866368 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:48:01.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945754919866368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:48:01.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945754919866369 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:48:01.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945754919866370 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:48:01.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945754919866368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:48:01.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945754919866369 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 13:48:01.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945754919866370 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 13:48:01.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945754919866368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:48:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945754919866369 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 13:48:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945754919866370 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 13:48:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945754919866368 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:48:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945754919866370 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:48:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945754919866369 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:48:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945754919866370 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:48:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945754919866369 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:48:01.809 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38945754919866368 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:48:01.810 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38945754919866368 [0;39m ==> Parameters: 
2023-05-15 13:48:01.811 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38945754919866369 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 13:48:01.811 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38945754919866370 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 13:48:01.811 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38945754919866369 [0;39m ==> Parameters: 
2023-05-15 13:48:01.811 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38945754919866370 [0;39m ==> Parameters: 
2023-05-15 13:48:01.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:48:01.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:48:01.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:48:01.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:48:01.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:48:01.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:48:01.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:48:01.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:48:01.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:48:01.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:48:01.814 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:48:01.814 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:48:01.814 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:48:01.814 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:48:01.814 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:48:01.814 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38945754919866368 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:48:01.814 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38945754919866368 [0;39m <==      Total: 15
2023-05-15 13:48:01.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945754919866368 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:48:01.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945754919866368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 13:48:01.824 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38945754919866369 [0;39m <==      Total: 0
2023-05-15 13:48:01.824 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38945754919866370 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 13:48:01.825 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38945754919866370 [0;39m <==        Row: 2023-05-15, 155, 10, 155, 10
2023-05-15 13:48:01.825 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945754919866369 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 13:48:01.825 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945754919866369 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-15 13:48:01.827 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38945754919866370 [0;39m <==      Total: 1
2023-05-15 13:48:01.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945754919866370 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":155,"viewIncrease":155,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 13:48:01.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945754919866370 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-15 13:48:02.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945758547939328 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:48:02.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945758547939328 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 13:48:02.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945758547939328 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 13:48:02.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945758547939328 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:48:02.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945758547939328 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-15 13:48:02.698 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38945758547939328 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 13:48:02.698 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38945758547939328 [0;39m ==> Parameters: 202(Long)
2023-05-15 13:48:02.699 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38945758547939328 [0;39m <==    Columns: count(0)
2023-05-15 13:48:02.700 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38945758547939328 [0;39m <==        Row: 1
2023-05-15 13:48:02.700 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38945758547939328 [0;39m <==      Total: 1
2023-05-15 13:48:02.700 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38945758547939328 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 13:48:02.700 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38945758547939328 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-15 13:48:02.701 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38945758547939328 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 13:48:02.702 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38945758547939328 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 155, 10
2023-05-15 13:48:02.702 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38945758547939328 [0;39m <==      Total: 1
2023-05-15 13:48:02.703 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38945758547939328 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 13:48:02.703 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38945758547939328 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 13:48:02.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945758547939328 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":155,"voteCount":10}],"total":1},"success":true}
2023-05-15 13:48:02.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945758547939328 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š31 ms -------------
2023-05-15 13:48:03.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945763291697152 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:48:03.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945763291697153 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:48:03.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945763291697152 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:48:03.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945763291697152 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:48:03.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945763291697153 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 13:48:03.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945763291697152 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:48:03.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945763291697153 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 13:48:03.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945763291697153 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:48:03.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945763291697152 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:48:03.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945763291697153 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:48:03.805 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945763291697152 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:48:03.806 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945763291697152 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:48:03.808 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945763291697152 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:48:03.808 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945763291697152 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 13:48:03.808 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945763291697152 [0;39m <==      Total: 1
2023-05-15 13:48:03.809 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945763291697152 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:48:03.809 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945763291697152 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:48:03.811 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945763291697152 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:48:03.811 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945763291697152 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:48:03.811 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945763291697152 [0;39m <==      Total: 1
2023-05-15 13:48:03.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945763291697152 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 13:48:03.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945763291697152 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 13:48:03.823 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38945763291697153 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 13:48:03.823 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38945763291697153 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:48:03.825 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38945763291697153 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 13:48:03.825 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38945763291697153 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 115, 5
2023-05-15 13:48:03.825 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38945763291697153 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 13:48:03.825 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38945763291697153 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 13:48:03.826 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38945763291697153 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 13:48:03.826 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38945763291697153 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 13:48:03.826 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38945763291697153 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 13:48:03.826 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38945763291697153 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 13:48:03.826 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38945763291697153 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 13:48:03.826 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38945763291697153 [0;39m <==      Total: 8
2023-05-15 13:48:03.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945763291697153 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":115,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 13:48:03.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945763291697153 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š30 ms -------------
2023-05-15 13:48:03.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945763501412352 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:48:03.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945763501412352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 13:48:03.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945763501412352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 13:48:03.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945763501412352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:48:03.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945763501412352 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:48:03.855 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38945763501412352 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 13:48:03.855 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38945763501412352 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:48:03.858 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38945763501412352 [0;39m <==    Columns: id, content
2023-05-15 13:48:03.858 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38945763501412352 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 13:48:03.859 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38945763501412352 [0;39m <==      Total: 1
2023-05-15 13:48:03.860 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38945763501412352 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 13:48:03.860 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38945763501412352 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:48:03.945 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38945763501412352 [0;39m <==    Updates: 1
2023-05-15 13:48:03.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945763501412352 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 13:48:03.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945763501412352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š93 ms -------------
2023-05-15 13:48:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38945768366804992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:48:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945768366804992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:48:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945768366804992 [0;39m ==> Parameters: 
2023-05-15 13:48:05.123 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945768366804992 [0;39m <==    Updates: 1
2023-05-15 13:48:05.123 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38945768366804992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š110æ¯«ç§’
2023-05-15 13:48:05.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:05.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:05.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:05.636 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945770979856384 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:48:05.636 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945770979856384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:48:05.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945770979856384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:48:05.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945770979856384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:48:05.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945770979856384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:48:05.638 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945770979856384 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:48:05.639 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945770979856384 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:48:05.652 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945770979856384 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:48:05.653 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945770979856384 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 13:48:05.654 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945770979856384 [0;39m <==      Total: 1
2023-05-15 13:48:05.654 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945770979856384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:48:05.654 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945770979856384 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:48:05.655 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945770979856384 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:48:05.655 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945770979856384 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:48:05.655 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945770979856384 [0;39m <==      Total: 1
2023-05-15 13:48:05.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945770979856384 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 13:48:05.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945770979856384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š20 ms -------------
2023-05-15 13:48:08.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38945783113977856 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:48:08.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38945783113977856 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:48:08.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38945783113977856 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:48:08.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38945783113977856 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:48:08.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38945783113977856 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:48:08.531 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945783113977856 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:48:08.531 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945783113977856 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:48:08.533 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945783113977856 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:48:08.534 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38945783113977856 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 13:48:08.535 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38945783113977856 [0;39m <==      Total: 1
2023-05-15 13:48:08.536 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945783113977856 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:48:08.536 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945783113977856 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:48:08.537 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945783113977856 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:48:08.538 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38945783113977856 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:48:08.538 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38945783113977856 [0;39m <==      Total: 1
2023-05-15 13:48:08.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38945783113977856 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 13:48:08.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38945783113977856 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 13:48:16.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:16.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38945894200119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:48:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945894200119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:48:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945894200119296 [0;39m ==> Parameters: 
2023-05-15 13:48:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38945894200119296 [0;39m <==    Updates: 1
2023-05-15 13:48:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38945894200119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:48:35.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:35.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:35.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:35.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:36.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:36.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:56.388 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:48:56.388 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38945999003193344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:49:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945999003193344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:49:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945999003193344 [0;39m ==> Parameters: 
2023-05-15 13:49:00.317 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38945999003193344 [0;39m <==    Updates: 0
2023-05-15 13:49:00.317 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38945999003193344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š316æ¯«ç§’
2023-05-15 13:49:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38946020041822208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:49:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946020041822208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:49:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946020041822208 [0;39m ==> Parameters: 
2023-05-15 13:49:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946020041822208 [0;39m <==    Updates: 1
2023-05-15 13:49:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38946020041822208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 13:49:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:05.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:05.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:05.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:16.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:16.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38946145858359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:49:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946145858359296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:49:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946145858359296 [0;39m ==> Parameters: 
2023-05-15 13:49:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946145858359296 [0;39m <==    Updates: 1
2023-05-15 13:49:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38946145858359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:49:35.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:35.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:35.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:35.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:36.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:49:56.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:50:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38946250678210560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:50:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38946250678210560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:50:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38946250678210560 [0;39m ==> Parameters: 
2023-05-15 13:50:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38946250678210560 [0;39m <==    Updates: 0
2023-05-15 13:50:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38946250678210560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:50:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38946271637147648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:50:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946271637147648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:50:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946271637147648 [0;39m ==> Parameters: 
2023-05-15 13:50:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946271637147648 [0;39m <==    Updates: 1
2023-05-15 13:50:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38946271637147648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:50:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:50:05.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:50:16.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:50:16.411 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:50:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38946397457879040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:50:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946397457879040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:50:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946397457879040 [0;39m ==> Parameters: 
2023-05-15 13:50:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946397457879040 [0;39m <==    Updates: 1
2023-05-15 13:50:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38946397457879040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:50:35.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:50:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:50:36.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:50:36.414 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:50:48.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38946456031334400 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:50:48.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38946456031334400 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:50:48.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38946456031334400 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:50:48.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38946456031334400 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:50:48.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38946456031334400 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:50:48.969 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38946456031334400 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:50:48.970 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38946456031334400 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:50:48.975 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38946456031334400 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:50:48.976 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38946456031334400 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 13:50:48.977 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38946456031334400 [0;39m <==      Total: 1
2023-05-15 13:50:48.978 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38946456031334400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:50:48.978 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38946456031334400 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:50:48.981 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38946456031334400 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:50:48.982 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38946456031334400 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:50:48.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38946456031334400 [0;39m <==      Total: 1
2023-05-15 13:50:48.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38946456031334400 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 13:50:48.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38946456031334400 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-15 13:50:56.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:50:56.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38946502319673344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:51:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38946502319673344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:51:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38946502319673344 [0;39m ==> Parameters: 
2023-05-15 13:51:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38946502319673344 [0;39m <==    Updates: 0
2023-05-15 13:51:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38946502319673344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:51:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38946523295387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:51:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946523295387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:51:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946523295387648 [0;39m ==> Parameters: 
2023-05-15 13:51:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946523295387648 [0;39m <==    Updates: 1
2023-05-15 13:51:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38946523295387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:51:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:05.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:16.435 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:16.435 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38946649128701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:51:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946649128701952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:51:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946649128701952 [0;39m ==> Parameters: 
2023-05-15 13:51:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946649128701952 [0;39m <==    Updates: 1
2023-05-15 13:51:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38946649128701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:51:35.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:35.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:36.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:36.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:56.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:51:56.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38946754024050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:52:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38946754024050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:52:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38946754024050688 [0;39m ==> Parameters: 
2023-05-15 13:52:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38946754024050688 [0;39m <==    Updates: 0
2023-05-15 13:52:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38946754024050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 13:52:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38946774966210560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:52:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946774966210560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:52:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946774966210560 [0;39m ==> Parameters: 
2023-05-15 13:52:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946774966210560 [0;39m <==    Updates: 1
2023-05-15 13:52:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38946774966210560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:52:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:05.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:16.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:16.475 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38946900824690688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:52:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946900824690688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:52:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946900824690688 [0;39m ==> Parameters: 
2023-05-15 13:52:35.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38946900824690688 [0;39m <==    Updates: 1
2023-05-15 13:52:35.048 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38946900824690688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2023-05-15 13:52:35.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:35.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:36.493 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:52:56.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:53:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38947005678096384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:53:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947005678096384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:53:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947005678096384 [0;39m ==> Parameters: 
2023-05-15 13:53:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947005678096384 [0;39m <==    Updates: 0
2023-05-15 13:53:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38947005678096384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-15 13:53:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38947026607673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:53:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947026607673344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:53:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947026607673344 [0;39m ==> Parameters: 
2023-05-15 13:53:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947026607673344 [0;39m <==    Updates: 1
2023-05-15 13:53:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38947026607673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:53:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:53:05.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:53:16.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:53:16.520 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:53:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38947152436793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:53:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947152436793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:53:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947152436793344 [0;39m ==> Parameters: 
2023-05-15 13:53:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947152436793344 [0;39m <==    Updates: 1
2023-05-15 13:53:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38947152436793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:53:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:53:35.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:53:35.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:53:36.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:53:36.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:53:56.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38947257294393344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:54:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947257294393344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:54:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947257294393344 [0;39m ==> Parameters: 
2023-05-15 13:54:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947257294393344 [0;39m <==    Updates: 0
2023-05-15 13:54:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38947257294393344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:54:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38947278320439296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:54:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947278320439296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:54:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947278320439296 [0;39m ==> Parameters: 
2023-05-15 13:54:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947278320439296 [0;39m <==    Updates: 1
2023-05-15 13:54:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38947278320439296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:54:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:05.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:05.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:16.533 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:16.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38947404103421952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:54:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947404103421952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:54:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947404103421952 [0;39m ==> Parameters: 
2023-05-15 13:54:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947404103421952 [0;39m <==    Updates: 1
2023-05-15 13:54:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38947404103421952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 13:54:35.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:36.538 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:56.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:54:56.542 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38947508948439040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:55:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947508948439040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:55:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947508948439040 [0;39m ==> Parameters: 
2023-05-15 13:55:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947508948439040 [0;39m <==    Updates: 0
2023-05-15 13:55:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38947508948439040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:55:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38947529928347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:55:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947529928347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:55:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947529928347648 [0;39m ==> Parameters: 
2023-05-15 13:55:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947529928347648 [0;39m <==    Updates: 1
2023-05-15 13:55:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38947529928347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š19æ¯«ç§’
2023-05-15 13:55:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:05.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:05.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:05.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:16.546 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:16.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38947655749079040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:55:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947655749079040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:55:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947655749079040 [0;39m ==> Parameters: 
2023-05-15 13:55:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947655749079040 [0;39m <==    Updates: 1
2023-05-15 13:55:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38947655749079040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 13:55:35.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:35.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:35.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:36.550 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:36.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:55:56.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38947760661204992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:56:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947760661204992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:56:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947760661204992 [0;39m ==> Parameters: 
2023-05-15 13:56:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38947760661204992 [0;39m <==    Updates: 0
2023-05-15 13:56:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38947760661204992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 13:56:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38947781624336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:56:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947781624336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:56:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947781624336384 [0;39m ==> Parameters: 
2023-05-15 13:56:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947781624336384 [0;39m <==    Updates: 1
2023-05-15 13:56:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38947781624336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 13:56:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:05.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:16.561 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38947907428290560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:56:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947907428290560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:56:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947907428290560 [0;39m ==> Parameters: 
2023-05-15 13:56:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38947907428290560 [0;39m <==    Updates: 1
2023-05-15 13:56:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38947907428290560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:56:35.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:35.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:35.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:36.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:56.593 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:56:56.595 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38948012302667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:57:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948012302667776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:57:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948012302667776 [0;39m ==> Parameters: 
2023-05-15 13:57:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948012302667776 [0;39m <==    Updates: 0
2023-05-15 13:57:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38948012302667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 13:57:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38948033295159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:57:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948033295159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:57:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948033295159296 [0;39m ==> Parameters: 
2023-05-15 13:57:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948033295159296 [0;39m <==    Updates: 1
2023-05-15 13:57:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38948033295159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 13:57:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:05.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:16.606 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:16.606 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38948159128473600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:57:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948159128473600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:57:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948159128473600 [0;39m ==> Parameters: 
2023-05-15 13:57:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948159128473600 [0;39m <==    Updates: 1
2023-05-15 13:57:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38948159128473600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 13:57:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:35.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:35.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:35.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:36.621 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:56.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:57:56.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38948263927353344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:58:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948263927353344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:58:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948263927353344 [0;39m ==> Parameters: 
2023-05-15 13:58:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948263927353344 [0;39m <==    Updates: 0
2023-05-15 13:58:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38948263927353344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 13:58:01.035 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948268264263680 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:01.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948268264263680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 13:58:01.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948268264263680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 13:58:01.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948268264263680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:01.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948268264263680 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 13:58:01.038 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38948268264263680 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 13:58:01.038 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38948268264263680 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:58:01.040 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38948268264263680 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 13:58:01.040 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38948268264263680 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 13:58:01.040 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38948268264263680 [0;39m <==      Total: 1
2023-05-15 13:58:01.040 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38948268264263680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 13:58:01.041 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38948268264263680 [0;39m ==> Parameters: 1(Long)
2023-05-15 13:58:01.042 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38948268264263680 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:58:01.042 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38948268264263680 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:58:01.042 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38948268264263680 [0;39m <==      Total: 1
2023-05-15 13:58:01.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948268264263680 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 13:58:01.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948268264263680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 13:58:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38948284898873344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:58:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948284898873344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:58:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948284898873344 [0;39m ==> Parameters: 
2023-05-15 13:58:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948284898873344 [0;39m <==    Updates: 1
2023-05-15 13:58:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38948284898873344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 13:58:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:05.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:08.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948298140291072 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:08.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948298140291072 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:08.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948298140291072 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:08.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948298140291072 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:08.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948298140291072 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:08.160 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948298140291072 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:08.160 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948298140291072 [0;39m ==> Parameters: 
2023-05-15 13:58:08.161 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:08.161 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:08.161 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:08.162 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:08.162 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:08.162 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:08.162 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:08.163 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:08.163 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:08.163 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:08.163 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:08.164 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:08.164 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:08.164 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:08.164 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:08.164 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948298140291072 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:08.164 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948298140291072 [0;39m <==      Total: 15
2023-05-15 13:58:08.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948298140291072 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:08.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948298140291072 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 13:58:16.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:26.218 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38945747441422336 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 13:58:26.219 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38945747441422336 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š1 ms -------------
2023-05-15 13:58:26.221 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38945770979856384 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 13:58:26.221 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38945770979856384 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/category/save
2023-05-15 13:58:26.221 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38945770979856384 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 13:58:26.249 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38945770979856384 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 13:58:26.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948374107525120 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:26.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948374107525120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/save POST
2023-05-15 13:58:26.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948374107525120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.save
2023-05-15 13:58:26.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948374107525120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:26.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948374107525120 [0;39m è¯·æ±‚å‚æ•°: [{"name":"React","parent":100,"sort":102}]
2023-05-15 13:58:26.278 DEBUG com.jiawa.wiki.mapper.CategoryMapper.insert       :137  [32m38948374107525120 [0;39m ==>  Preparing: insert into category (id, parent, `name`, sort) values (?, ?, ?, ?)
2023-05-15 13:58:26.278 DEBUG com.jiawa.wiki.mapper.CategoryMapper.insert       :137  [32m38948374107525120 [0;39m ==> Parameters: 38948374136885248(Long), 100(Long), React(String), 102(Integer)
2023-05-15 13:58:26.336 DEBUG com.jiawa.wiki.mapper.CategoryMapper.insert       :137  [32m38948374107525120 [0;39m <==    Updates: 1
2023-05-15 13:58:26.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948374107525120 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 13:58:26.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948374107525120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š66 ms -------------
2023-05-15 13:58:26.336 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38948374107525120 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š115 ms -------------
2023-05-15 13:58:26.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948374472429568 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:26.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948374472429568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:26.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948374472429568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:26.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948374472429568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:26.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948374472429568 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:26.358 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948374472429568 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:26.358 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948374472429568 [0;39m ==> Parameters: 
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:26.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948374472429568 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:26.358 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948374472429568 [0;39m <==      Total: 16
2023-05-15 13:58:26.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948374472429568 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:26.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948374472429568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 13:58:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38948410795102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:58:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948410795102208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:58:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948410795102208 [0;39m ==> Parameters: 
2023-05-15 13:58:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948410795102208 [0;39m <==    Updates: 1
2023-05-15 13:58:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38948410795102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 13:58:35.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:35.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:35.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:35.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:36.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:36.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:41.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948438875967488 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:41.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948438875967488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:41.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948438875967488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:41.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948438875967488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:41.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948438875967488 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:41.714 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948438875967488 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:41.714 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948438875967488 [0;39m ==> Parameters: 
2023-05-15 13:58:41.715 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:41.715 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:41.716 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:41.716 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:41.716 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:58:41.716 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:41.716 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:41.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:41.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:41.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:41.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:41.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:41.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:41.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:41.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:41.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:41.717 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948438875967488 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:41.717 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948438875967488 [0;39m <==      Total: 16
2023-05-15 13:58:41.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948438875967488 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:41.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948438875967488 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 13:58:42.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948441275109376 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:42.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948441275109376 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:42.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948441275109376 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:42.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948441275109376 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:42.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948441275109376 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:42.284 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948441275109376 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:42.284 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948441275109376 [0;39m ==> Parameters: 
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:42.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948441275109376 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:42.290 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948441275109376 [0;39m <==      Total: 16
2023-05-15 13:58:42.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948441275109376 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:42.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948441275109376 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 13:58:43.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948444756381696 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:43.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948444756381696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:43.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948444756381696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:43.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948444756381696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:43.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948444756381696 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:43.115 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948444756381696 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:43.115 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948444756381696 [0;39m ==> Parameters: 
2023-05-15 13:58:43.117 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:43.117 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:43.118 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:43.118 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:43.118 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:58:43.118 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:43.118 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:43.119 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:43.119 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:43.119 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:43.119 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:43.119 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:43.119 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:43.119 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:43.119 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:43.119 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:43.119 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948444756381696 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:43.119 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948444756381696 [0;39m <==      Total: 16
2023-05-15 13:58:43.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948444756381696 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:43.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948444756381696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 13:58:43.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948446727704576 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:43.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948446727704576 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:43.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948446727704576 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:43.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948446727704576 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:43.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948446727704576 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:43.584 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948446727704576 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:43.584 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948446727704576 [0;39m ==> Parameters: 
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:43.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948446727704576 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:43.584 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948446727704576 [0;39m <==      Total: 16
2023-05-15 13:58:43.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948446727704576 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:43.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948446727704576 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 13:58:44.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948448904548352 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:44.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948448904548352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:44.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948448904548352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:44.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948448904548352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:44.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948448904548352 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:44.103 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948448904548352 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:44.103 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948448904548352 [0;39m ==> Parameters: 
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:44.134 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948448904548352 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:44.134 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948448904548352 [0;39m <==      Total: 16
2023-05-15 13:58:44.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948448904548352 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:44.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948448904548352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š31 ms -------------
2023-05-15 13:58:44.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948451052032000 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:44.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948451052032000 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:44.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948451052032000 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:44.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948451052032000 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:44.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948451052032000 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:44.615 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948451052032000 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:44.615 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948451052032000 [0;39m ==> Parameters: 
2023-05-15 13:58:44.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:44.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:44.649 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:44.650 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:44.650 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:58:44.650 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:44.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:44.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:44.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:44.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:44.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:44.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:44.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:44.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:44.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:44.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:44.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948451052032000 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:44.653 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948451052032000 [0;39m <==      Total: 16
2023-05-15 13:58:44.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948451052032000 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:44.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948451052032000 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š38 ms -------------
2023-05-15 13:58:45.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948454097096704 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:45.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948454097096704 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:45.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948454097096704 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:45.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948454097096704 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:45.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948454097096704 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:45.342 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948454097096704 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:45.343 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948454097096704 [0;39m ==> Parameters: 
2023-05-15 13:58:45.344 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:45.344 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:45.344 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:45.344 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:45.344 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:58:45.345 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:45.345 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:45.345 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:45.345 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:45.345 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:45.345 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:45.345 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:45.345 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:45.345 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:45.345 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:45.346 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:45.346 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948454097096704 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:45.346 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948454097096704 [0;39m <==      Total: 16
2023-05-15 13:58:45.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948454097096704 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:45.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948454097096704 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948461428740096 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948461428740096 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948461428740097 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948461428740098 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948461428740096 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948461428740097 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948461428740096 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948461428740098 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948461428740097 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948461428740098 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948461428740096 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:47.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948461428740097 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:47.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948461428740098 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:47.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948461428740097 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:47.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948461428740098 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:47.090 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948461428740097 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:47.090 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38948461428740098 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 13:58:47.090 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38948461428740096 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 13:58:47.091 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38948461428740098 [0;39m ==> Parameters: 
2023-05-15 13:58:47.091 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948461428740097 [0;39m ==> Parameters: 
2023-05-15 13:58:47.091 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38948461428740096 [0;39m ==> Parameters: 
2023-05-15 13:58:47.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:47.092 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38948461428740096 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 13:58:47.092 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38948461428740098 [0;39m <==      Total: 0
2023-05-15 13:58:47.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:47.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:47.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948461428740098 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 13:58:47.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:47.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948461428740098 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-15 13:58:47.092 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38948461428740096 [0;39m <==        Row: 2023-05-15, 156, 10, 156, 10
2023-05-15 13:58:47.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:58:47.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:47.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:47.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:47.093 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38948461428740096 [0;39m <==      Total: 1
2023-05-15 13:58:47.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:47.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:47.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:47.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:47.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948461428740096 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":156,"viewIncrease":156,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 13:58:47.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:47.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948461428740096 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-15 13:58:47.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:47.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:47.094 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:47.094 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948461428740097 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:47.094 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948461428740097 [0;39m <==      Total: 16
2023-05-15 13:58:47.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948461428740097 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:47.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948461428740097 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 13:58:48.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948465606266880 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:48.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948465606266880 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 13:58:48.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948465606266880 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 13:58:48.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948465606266880 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:48.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948465606266880 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":38948374136885248,"page":1,"size":1000}]
2023-05-15 13:58:48.085 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948465606266880 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 13:58:48.085 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948465606266880 [0;39m ==> Parameters: 38948374136885248(Long)
2023-05-15 13:58:48.085 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948465606266880 [0;39m <==    Columns: count(0)
2023-05-15 13:58:48.085 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948465606266880 [0;39m <==        Row: 0
2023-05-15 13:58:48.085 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948465606266880 [0;39m <==      Total: 1
2023-05-15 13:58:48.085 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38948465606266880 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-15 13:58:48.085 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38948465606266880 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-15 13:58:48.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948465606266880 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-15 13:58:48.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948465606266880 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 13:58:48.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948468215123968 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:48.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948468215123968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 13:58:48.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948468215123968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 13:58:48.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948468215123968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:48.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948468215123968 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-15 13:58:48.707 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948468215123968 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 13:58:48.707 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948468215123968 [0;39m ==> Parameters: 102(Long)
2023-05-15 13:58:48.707 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948468215123968 [0;39m <==    Columns: count(0)
2023-05-15 13:58:48.707 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948468215123968 [0;39m <==        Row: 0
2023-05-15 13:58:48.707 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948468215123968 [0;39m <==      Total: 1
2023-05-15 13:58:48.707 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38948468215123968 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-15 13:58:48.707 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38948468215123968 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-15 13:58:48.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948468215123968 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-15 13:58:48.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948468215123968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 13:58:49.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948470022868992 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:49.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948470022868992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 13:58:49.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948470022868992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 13:58:49.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948470022868992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:49.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948470022868992 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-15 13:58:49.138 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948470022868992 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 13:58:49.138 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948470022868992 [0;39m ==> Parameters: 101(Long)
2023-05-15 13:58:49.151 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948470022868992 [0;39m <==    Columns: count(0)
2023-05-15 13:58:49.151 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948470022868992 [0;39m <==        Row: 1
2023-05-15 13:58:49.151 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948470022868992 [0;39m <==      Total: 1
2023-05-15 13:58:49.151 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948470022868992 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 13:58:49.151 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948470022868992 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-15 13:58:49.151 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948470022868992 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 13:58:49.151 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948470022868992 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:58:49.151 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948470022868992 [0;39m <==      Total: 1
2023-05-15 13:58:49.151 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38948470022868992 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 13:58:49.151 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38948470022868992 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 13:58:49.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948470022868992 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-15 13:58:49.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948470022868992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 13:58:50.101 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38948454097096704 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 13:58:50.102 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38948454097096704 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š1 ms -------------
2023-05-15 13:58:50.104 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38948461428740098 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 13:58:50.104 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38948461428740098 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 13:58:50.104 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38948461428740098 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 13:58:50.105 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38948461428740098 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 13:58:50.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948474099732480 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:50.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948474099732480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 13:58:50.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948474099732480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 13:58:50.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948474099732480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:50.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948474099732480 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 13:58:50.118 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38948474099732480 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 13:58:50.118 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38948474099732480 [0;39m ==> Parameters: 
2023-05-15 13:58:50.118 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38948474099732480 [0;39m <==    Columns: count(0)
2023-05-15 13:58:50.118 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38948474099732480 [0;39m <==        Row: 3
2023-05-15 13:58:50.118 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38948474099732480 [0;39m <==      Total: 1
2023-05-15 13:58:50.118 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38948474099732480 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 13:58:50.118 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38948474099732480 [0;39m ==> Parameters: 10(Integer)
2023-05-15 13:58:50.118 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38948474099732480 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:58:50.118 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38948474099732480 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:58:50.118 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38948474099732480 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 13:58:50.118 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38948474099732480 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 13:58:50.118 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38948474099732480 [0;39m <==      Total: 3
2023-05-15 13:58:50.118 INFO  com.jiawa.wiki.service.UserService                :50   [32m38948474099732480 [0;39m æ€»è¡Œæ•°ï¼š3
2023-05-15 13:58:50.118 INFO  com.jiawa.wiki.service.UserService                :51   [32m38948474099732480 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 13:58:50.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948474099732480 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"}],"total":3},"success":true}
2023-05-15 13:58:50.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948474099732480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-15 13:58:50.135 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38948474099732480 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š31 ms -------------
2023-05-15 13:58:50.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948475819397120 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:50.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948475819397120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:58:50.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948475819397120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:58:50.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948475819397120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:50.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948475819397120 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:58:50.521 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948475819397120 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:58:50.521 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948475819397120 [0;39m ==> Parameters: 
2023-05-15 13:58:50.522 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:58:50.522 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:58:50.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:58:50.524 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:58:50.524 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:58:50.524 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:58:50.524 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948475819397120 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:58:50.524 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948475819397120 [0;39m <==      Total: 16
2023-05-15 13:58:50.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948475819397120 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:58:50.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948475819397120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-15 13:58:50.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948475865534464 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:58:50.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948475865534464 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 13:58:50.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948475865534464 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 13:58:50.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948475865534464 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:58:50.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948475865534464 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 13:58:50.533 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948475865534464 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 13:58:50.533 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948475865534464 [0;39m ==> Parameters: 
2023-05-15 13:58:50.535 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948475865534464 [0;39m <==    Columns: count(0)
2023-05-15 13:58:50.535 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948475865534464 [0;39m <==        Row: 5
2023-05-15 13:58:50.536 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948475865534464 [0;39m <==      Total: 1
2023-05-15 13:58:50.536 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948475865534464 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 13:58:50.536 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948475865534464 [0;39m ==> Parameters: 10(Integer)
2023-05-15 13:58:50.537 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948475865534464 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 13:58:50.537 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948475865534464 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 156, 10
2023-05-15 13:58:50.537 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948475865534464 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:58:50.537 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948475865534464 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:58:50.537 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948475865534464 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:58:50.537 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948475865534464 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:58:50.537 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948475865534464 [0;39m <==      Total: 5
2023-05-15 13:58:50.537 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38948475865534464 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 13:58:50.537 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38948475865534464 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 13:58:50.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948475865534464 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":156,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 13:58:50.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948475865534464 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 13:58:56.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:58:56.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38948515593981952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 13:59:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948515593981952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 13:59:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948515593981952 [0;39m ==> Parameters: 
2023-05-15 13:59:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948515593981952 [0;39m <==    Updates: 0
2023-05-15 13:59:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38948515593981952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 13:59:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38948536569696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:59:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948536569696256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:59:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948536569696256 [0;39m ==> Parameters: 
2023-05-15 13:59:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948536569696256 [0;39m <==    Updates: 1
2023-05-15 13:59:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38948536569696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 13:59:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:05.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:05.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:06.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948543951671296 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:59:06.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948543951671296 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/3 GET
2023-05-15 13:59:06.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948543951671296 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 13:59:06.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948543951671296 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:59:06.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948543951671296 [0;39m è¯·æ±‚å‚æ•°: [3]
2023-05-15 13:59:06.768 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38948543951671296 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 13:59:06.768 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38948543951671296 [0;39m ==> Parameters: 3(Long)
2023-05-15 13:59:06.770 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38948543951671296 [0;39m <==      Total: 0
2023-05-15 13:59:06.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948543951671296 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 13:59:06.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948543951671296 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 13:59:08.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948552768098304 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:59:08.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948552768098304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:59:08.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948552768098304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:59:08.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948552768098304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:59:08.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948552768098304 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:59:08.868 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948552768098304 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:59:08.868 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948552768098304 [0;39m ==> Parameters: 
2023-05-15 13:59:08.869 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:59:08.869 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:59:08.869 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:59:08.870 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948552768098304 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:59:08.870 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948552768098304 [0;39m <==      Total: 16
2023-05-15 13:59:08.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948552768098304 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:59:08.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948552768098304 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 13:59:08.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948552839401472 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:59:08.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948552839401472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 13:59:08.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948552839401472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 13:59:08.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948552839401472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:59:08.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948552839401472 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 13:59:08.885 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948552839401472 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 13:59:08.885 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948552839401472 [0;39m ==> Parameters: 
2023-05-15 13:59:08.888 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948552839401472 [0;39m <==    Columns: count(0)
2023-05-15 13:59:08.888 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948552839401472 [0;39m <==        Row: 5
2023-05-15 13:59:08.888 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948552839401472 [0;39m <==      Total: 1
2023-05-15 13:59:08.889 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948552839401472 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 13:59:08.889 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948552839401472 [0;39m ==> Parameters: 10(Integer)
2023-05-15 13:59:08.890 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948552839401472 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 13:59:08.890 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948552839401472 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 156, 10
2023-05-15 13:59:08.891 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948552839401472 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:59:08.892 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948552839401472 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:59:08.897 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948552839401472 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:59:08.897 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948552839401472 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:59:08.898 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948552839401472 [0;39m <==      Total: 5
2023-05-15 13:59:08.898 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38948552839401472 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 13:59:08.898 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38948552839401472 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 13:59:08.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948552839401472 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":156,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 13:59:08.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948552839401472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-15 13:59:09.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948554273853440 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:59:09.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948554273853440 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:59:09.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948554273853440 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:59:09.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948554273853440 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:59:09.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948554273853440 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:59:09.226 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948554273853440 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:59:09.226 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948554273853440 [0;39m ==> Parameters: 
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:59:09.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948554273853440 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:59:09.250 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948554273853440 [0;39m <==      Total: 16
2023-05-15 13:59:09.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948554273853440 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:59:09.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948554273853440 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-15 13:59:13.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948572326137856 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:59:13.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948572326137856 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 13:59:13.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948572326137856 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 13:59:13.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948572326137856 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:59:13.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948572326137856 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 13:59:13.531 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948572326137856 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 13:59:13.532 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948572326137856 [0;39m ==> Parameters: 
2023-05-15 13:59:13.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 13:59:13.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 13:59:13.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 13:59:13.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 13:59:13.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38948572326137856 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 13:59:13.534 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38948572326137856 [0;39m <==      Total: 16
2023-05-15 13:59:13.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948572326137856 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 13:59:13.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948572326137856 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 13:59:13.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948572405829632 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:59:13.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948572405829632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 13:59:13.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948572405829632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 13:59:13.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948572405829632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:59:13.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948572405829632 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 13:59:13.549 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948572405829632 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 13:59:13.551 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948572405829632 [0;39m ==> Parameters: 
2023-05-15 13:59:13.552 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948572405829632 [0;39m <==    Columns: count(0)
2023-05-15 13:59:13.553 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38948572405829632 [0;39m <==        Row: 5
2023-05-15 13:59:13.553 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38948572405829632 [0;39m <==      Total: 1
2023-05-15 13:59:13.553 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948572405829632 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 13:59:13.553 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948572405829632 [0;39m ==> Parameters: 10(Integer)
2023-05-15 13:59:13.555 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948572405829632 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 13:59:13.555 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948572405829632 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 156, 10
2023-05-15 13:59:13.555 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948572405829632 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:59:13.555 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948572405829632 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:59:13.555 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948572405829632 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:59:13.555 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38948572405829632 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 13:59:13.555 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38948572405829632 [0;39m <==      Total: 5
2023-05-15 13:59:13.556 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38948572405829632 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 13:59:13.556 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38948572405829632 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 13:59:13.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948572405829632 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":156,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 13:59:13.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948572405829632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 13:59:13.853 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38948474099732480 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 13:59:13.853 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38948474099732480 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 13:59:13.853 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38948474099732480 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 13:59:13.854 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38948474099732480 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 13:59:13.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38948573693480960 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 13:59:13.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38948573693480960 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 13:59:13.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38948573693480960 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 13:59:13.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38948573693480960 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 13:59:13.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38948573693480960 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 13:59:13.857 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38948573693480960 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 13:59:13.857 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38948573693480960 [0;39m ==> Parameters: 
2023-05-15 13:59:13.858 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38948573693480960 [0;39m <==    Columns: count(0)
2023-05-15 13:59:13.858 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38948573693480960 [0;39m <==        Row: 3
2023-05-15 13:59:13.858 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38948573693480960 [0;39m <==      Total: 1
2023-05-15 13:59:13.859 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38948573693480960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 13:59:13.859 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38948573693480960 [0;39m ==> Parameters: 10(Integer)
2023-05-15 13:59:13.860 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38948573693480960 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 13:59:13.860 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38948573693480960 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 13:59:13.860 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38948573693480960 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 13:59:13.860 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38948573693480960 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 13:59:13.860 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38948573693480960 [0;39m <==      Total: 3
2023-05-15 13:59:13.860 INFO  com.jiawa.wiki.service.UserService                :50   [32m38948573693480960 [0;39m æ€»è¡Œæ•°ï¼š3
2023-05-15 13:59:13.860 INFO  com.jiawa.wiki.service.UserService                :51   [32m38948573693480960 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 13:59:13.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38948573693480960 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"}],"total":3},"success":true}
2023-05-15 13:59:13.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38948573693480960 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 13:59:13.861 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38948573693480960 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 13:59:16.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:16.690 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38948662407204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 13:59:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948662407204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 13:59:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948662407204864 [0;39m ==> Parameters: 
2023-05-15 13:59:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948662407204864 [0;39m <==    Updates: 1
2023-05-15 13:59:35.037 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38948662407204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2023-05-15 13:59:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:35.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:36.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 13:59:56.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38948767302553600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:00:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948767302553600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:00:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948767302553600 [0;39m ==> Parameters: 
2023-05-15 14:00:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38948767302553600 [0;39m <==    Updates: 0
2023-05-15 14:00:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38948767302553600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:00:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38948788257296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:00:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948788257296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:00:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948788257296384 [0;39m ==> Parameters: 
2023-05-15 14:00:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948788257296384 [0;39m <==    Updates: 1
2023-05-15 14:00:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38948788257296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-15 14:00:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:05.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:05.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:05.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:16.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38948914073833472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:00:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948914073833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:00:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948914073833472 [0;39m ==> Parameters: 
2023-05-15 14:00:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38948914073833472 [0;39m <==    Updates: 1
2023-05-15 14:00:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38948914073833472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:00:35.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:35.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:35.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:36.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:36.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:56.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:00:56.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38949018973376512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:01:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949018973376512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:01:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949018973376512 [0;39m ==> Parameters: 
2023-05-15 14:01:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949018973376512 [0;39m <==    Updates: 0
2023-05-15 14:01:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38949018973376512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:01:05.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38949039953285120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:01:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949039953285120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:01:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949039953285120 [0;39m ==> Parameters: 
2023-05-15 14:01:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949039953285120 [0;39m <==    Updates: 1
2023-05-15 14:01:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38949039953285120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:01:06.036 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:06.036 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:06.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:06.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:16.736 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:16.736 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38949165744656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:01:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949165744656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:01:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949165744656384 [0;39m ==> Parameters: 
2023-05-15 14:01:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949165744656384 [0;39m <==    Updates: 1
2023-05-15 14:01:35.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38949165744656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 14:01:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:36.749 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:01:56.759 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38949270593867776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:02:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949270593867776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:02:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949270593867776 [0;39m ==> Parameters: 
2023-05-15 14:02:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949270593867776 [0;39m <==    Updates: 0
2023-05-15 14:02:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38949270593867776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:02:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38949291586359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:02:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949291586359296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:02:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949291586359296 [0;39m ==> Parameters: 
2023-05-15 14:02:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949291586359296 [0;39m <==    Updates: 1
2023-05-15 14:02:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38949291586359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:02:05.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:05.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:05.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:05.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:16.761 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:16.761 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:35.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38949417453228032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:02:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949417453228032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:02:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949417453228032 [0;39m ==> Parameters: 
2023-05-15 14:02:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949417453228032 [0;39m <==    Updates: 1
2023-05-15 14:02:35.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38949417453228032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:02:35.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:35.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:35.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:35.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:36.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:36.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:57.056 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:02:57.056 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38949522273079296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949522273079296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949522273079296 [0;39m ==> Parameters: 
2023-05-15 14:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949522273079296 [0;39m <==    Updates: 0
2023-05-15 14:03:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38949522273079296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:03:05.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38949543282348032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:03:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949543282348032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:03:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949543282348032 [0;39m ==> Parameters: 
2023-05-15 14:03:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949543282348032 [0;39m <==    Updates: 1
2023-05-15 14:03:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38949543282348032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:03:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:05.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:05.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:05.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:17.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:17.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38949669086302208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:03:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949669086302208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:03:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949669086302208 [0;39m ==> Parameters: 
2023-05-15 14:03:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949669086302208 [0;39m <==    Updates: 1
2023-05-15 14:03:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38949669086302208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:03:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:35.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:35.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:37.083 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:37.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:57.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:03:57.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38949773956485120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:04:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949773956485120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:04:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949773956485120 [0;39m ==> Parameters: 
2023-05-15 14:04:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38949773956485120 [0;39m <==    Updates: 0
2023-05-15 14:04:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38949773956485120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 14:04:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38949794898644992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949794898644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949794898644992 [0;39m ==> Parameters: 
2023-05-15 14:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949794898644992 [0;39m <==    Updates: 1
2023-05-15 14:04:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38949794898644992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:04:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:17.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:17.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38949920706793472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:04:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949920706793472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:04:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949920706793472 [0;39m ==> Parameters: 
2023-05-15 14:04:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38949920706793472 [0;39m <==    Updates: 1
2023-05-15 14:04:35.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38949920706793472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-15 14:04:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:37.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:57.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:04:57.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38950025556004864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:05:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950025556004864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:05:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950025556004864 [0;39m ==> Parameters: 
2023-05-15 14:05:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950025556004864 [0;39m <==    Updates: 0
2023-05-15 14:05:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38950025556004864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:05:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38950046531719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950046531719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950046531719168 [0;39m ==> Parameters: 
2023-05-15 14:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950046531719168 [0;39m <==    Updates: 1
2023-05-15 14:05:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38950046531719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:05:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:05.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:05.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:17.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:17.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38950172373422080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950172373422080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950172373422080 [0;39m ==> Parameters: 
2023-05-15 14:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950172373422080 [0;39m <==    Updates: 1
2023-05-15 14:05:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38950172373422080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:05:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:37.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:37.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:57.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:05:57.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38950277239410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:06:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950277239410688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:06:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950277239410688 [0;39m ==> Parameters: 
2023-05-15 14:06:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950277239410688 [0;39m <==    Updates: 0
2023-05-15 14:06:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38950277239410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:06:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38950298231902208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:06:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950298231902208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:06:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950298231902208 [0;39m ==> Parameters: 
2023-05-15 14:06:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950298231902208 [0;39m <==    Updates: 1
2023-05-15 14:06:05.034 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38950298231902208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-15 14:06:05.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:05.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:17.152 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:17.152 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38950424052633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950424052633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950424052633600 [0;39m ==> Parameters: 
2023-05-15 14:06:35.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950424052633600 [0;39m <==    Updates: 1
2023-05-15 14:06:35.032 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38950424052633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-15 14:06:35.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:35.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:35.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:35.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:37.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:37.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:57.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:06:57.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38950528943788032 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:07:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950528943788032 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:07:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950528943788032 [0;39m ==> Parameters: 
2023-05-15 14:07:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950528943788032 [0;39m <==    Updates: 0
2023-05-15 14:07:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38950528943788032 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:07:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38950549873364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:07:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950549873364992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:07:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950549873364992 [0;39m ==> Parameters: 
2023-05-15 14:07:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950549873364992 [0;39m <==    Updates: 1
2023-05-15 14:07:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38950549873364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:07:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:17.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:17.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38950675710873600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:07:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950675710873600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:07:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950675710873600 [0;39m ==> Parameters: 
2023-05-15 14:07:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950675710873600 [0;39m <==    Updates: 1
2023-05-15 14:07:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38950675710873600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:07:35.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:35.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:35.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:37.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:37.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:57.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:07:57.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38950780581056512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:08:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950780581056512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:08:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950780581056512 [0;39m ==> Parameters: 
2023-05-15 14:08:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38950780581056512 [0;39m <==    Updates: 0
2023-05-15 14:08:00.033 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38950780581056512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-15 14:08:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38950801544187904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:08:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950801544187904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:08:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950801544187904 [0;39m ==> Parameters: 
2023-05-15 14:08:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950801544187904 [0;39m <==    Updates: 1
2023-05-15 14:08:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38950801544187904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:08:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:05.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:17.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:17.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38950927327170560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:08:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950927327170560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:08:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950927327170560 [0;39m ==> Parameters: 
2023-05-15 14:08:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38950927327170560 [0;39m <==    Updates: 1
2023-05-15 14:08:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38950927327170560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 14:08:35.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:35.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:37.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:57.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:08:57.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:09:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38951032226713600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:09:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951032226713600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:09:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951032226713600 [0;39m ==> Parameters: 
2023-05-15 14:09:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951032226713600 [0;39m <==    Updates: 0
2023-05-15 14:09:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38951032226713600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 14:09:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38951053164679168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:09:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951053164679168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:09:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951053164679168 [0;39m ==> Parameters: 
2023-05-15 14:09:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951053164679168 [0;39m <==    Updates: 1
2023-05-15 14:09:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38951053164679168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 14:09:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:09:05.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:09:17.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:09:17.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:09:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38951179035742208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:09:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951179035742208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:09:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951179035742208 [0;39m ==> Parameters: 
2023-05-15 14:09:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951179035742208 [0;39m <==    Updates: 1
2023-05-15 14:09:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38951179035742208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:09:35.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:09:35.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:09:35.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:09:37.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:09:37.250 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:09:57.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38951283872370688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951283872370688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951283872370688 [0;39m ==> Parameters: 
2023-05-15 14:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951283872370688 [0;39m <==    Updates: 0
2023-05-15 14:10:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38951283872370688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:10:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38951304797753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:10:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951304797753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:10:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951304797753344 [0;39m ==> Parameters: 
2023-05-15 14:10:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951304797753344 [0;39m <==    Updates: 1
2023-05-15 14:10:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38951304797753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:10:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:17.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:17.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:25.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951391850532864 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:25.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951391850532865 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:25.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951391850532866 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951391850532864 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951391850532865 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951391850532866 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951391850532864 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951391850532865 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951391850532866 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951391850532864 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951391850532865 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951391850532866 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951391850532865 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951391850532866 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:10:25.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951391850532864 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:10:25.759 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38951391850532866 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 14:10:25.759 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38951391850532865 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 14:10:25.759 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951391850532864 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 14:10:25.759 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38951391850532865 [0;39m ==> Parameters: 
2023-05-15 14:10:25.759 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951391850532864 [0;39m ==> Parameters: 
2023-05-15 14:10:25.759 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38951391850532866 [0;39m ==> Parameters: 
2023-05-15 14:10:25.761 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 14:10:25.761 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38951391850532865 [0;39m <==      Total: 0
2023-05-15 14:10:25.761 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38951391850532866 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 14:10:25.761 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 14:10:25.761 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 14:10:25.761 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951391850532865 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 14:10:25.761 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951391850532865 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 14:10:25.761 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38951391850532866 [0;39m <==        Row: 2023-05-15, 156, 10, 156, 10
2023-05-15 14:10:25.761 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 14:10:25.762 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38951391850532866 [0;39m <==      Total: 1
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 14:10:25.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951391850532866 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":156,"viewIncrease":156,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 14:10:25.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951391850532866 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 14:10:25.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 14:10:25.763 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 14:10:25.763 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951391850532864 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 14:10:25.763 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951391850532864 [0;39m <==      Total: 16
2023-05-15 14:10:25.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951391850532864 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 14:10:25.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951391850532864 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 14:10:26.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951395990310912 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:26.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951395990310912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 14:10:26.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951395990310912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 14:10:26.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951395990310912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:26.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951395990310912 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-15 14:10:26.745 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951395990310912 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 14:10:26.746 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951395990310912 [0;39m ==> Parameters: 202(Long)
2023-05-15 14:10:26.748 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38951395990310912 [0;39m <==    Columns: count(0)
2023-05-15 14:10:26.748 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38951395990310912 [0;39m <==        Row: 1
2023-05-15 14:10:26.748 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951395990310912 [0;39m <==      Total: 1
2023-05-15 14:10:26.749 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951395990310912 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 14:10:26.749 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951395990310912 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-15 14:10:26.750 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951395990310912 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 14:10:26.751 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951395990310912 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 156, 10
2023-05-15 14:10:26.751 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951395990310912 [0;39m <==      Total: 1
2023-05-15 14:10:26.751 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38951395990310912 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 14:10:26.751 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38951395990310912 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 14:10:26.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951395990310912 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":156,"voteCount":10}],"total":1},"success":true}
2023-05-15 14:10:26.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951395990310912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 14:10:28.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951403015770112 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:28.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951403015770112 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 14:10:28.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951403015770112 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 14:10:28.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951403015770112 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:28.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951403015770112 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-15 14:10:28.421 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951403015770112 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 14:10:28.421 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951403015770112 [0;39m ==> Parameters: 101(Long)
2023-05-15 14:10:28.422 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38951403015770112 [0;39m <==    Columns: count(0)
2023-05-15 14:10:28.422 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38951403015770112 [0;39m <==        Row: 1
2023-05-15 14:10:28.422 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951403015770112 [0;39m <==      Total: 1
2023-05-15 14:10:28.422 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951403015770112 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 14:10:28.422 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951403015770112 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-15 14:10:28.424 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951403015770112 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 14:10:28.424 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951403015770112 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 14:10:28.424 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951403015770112 [0;39m <==      Total: 1
2023-05-15 14:10:28.424 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38951403015770112 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 14:10:28.424 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38951403015770112 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 14:10:28.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951403015770112 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-15 14:10:28.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951403015770112 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 14:10:28.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951405188419584 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:28.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951405188419584 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-15 14:10:28.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951405188419584 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:10:28.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951405188419584 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:28.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951405188419584 [0;39m è¯·æ±‚å‚æ•°: [2]
2023-05-15 14:10:28.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951405188419585 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:28.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951405188419585 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/2 GET
2023-05-15 14:10:28.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951405188419585 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:10:28.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951405188419585 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:28.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951405188419585 [0;39m è¯·æ±‚å‚æ•°: [2]
2023-05-15 14:10:28.937 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951405188419584 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:10:28.937 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951405188419584 [0;39m ==> Parameters: 2(Long)
2023-05-15 14:10:28.937 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951405188419585 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:10:28.937 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951405188419585 [0;39m ==> Parameters: 2(Long)
2023-05-15 14:10:28.938 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951405188419584 [0;39m <==      Total: 0
2023-05-15 14:10:28.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951405188419584 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 14:10:28.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951405188419584 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-15 14:10:28.939 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951405188419585 [0;39m <==      Total: 0
2023-05-15 14:10:28.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951405188419585 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 14:10:28.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951405188419585 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951413786742786 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951413786742784 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951413786742785 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951413786742786 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951413786742785 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951413786742784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951413786742786 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951413786742785 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951413786742784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951413786742786 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951413786742785 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951413786742784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951413786742786 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951413786742784 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:10:30.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951413786742785 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:10:30.986 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951413786742786 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 14:10:30.986 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38951413786742784 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 14:10:30.986 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38951413786742785 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 14:10:30.986 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951413786742786 [0;39m ==> Parameters: 
2023-05-15 14:10:30.986 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38951413786742785 [0;39m ==> Parameters: 
2023-05-15 14:10:30.986 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38951413786742784 [0;39m ==> Parameters: 
2023-05-15 14:10:30.999 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38951413786742785 [0;39m <==      Total: 0
2023-05-15 14:10:30.999 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 14:10:30.999 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38951413786742784 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 14:10:30.999 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 14:10:30.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951413786742785 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 14:10:30.999 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38951413786742784 [0;39m <==        Row: 2023-05-15, 156, 10, 156, 10
2023-05-15 14:10:31.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 14:10:31.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951413786742785 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-15 14:10:31.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 14:10:31.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 14:10:31.000 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38951413786742784 [0;39m <==      Total: 1
2023-05-15 14:10:31.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 14:10:31.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 14:10:31.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951413786742784 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":156,"viewIncrease":156,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 14:10:31.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 14:10:31.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951413786742784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-15 14:10:31.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 14:10:31.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 14:10:31.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 14:10:31.001 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 14:10:31.001 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 14:10:31.001 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 14:10:31.001 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 14:10:31.001 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 14:10:31.001 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951413786742786 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 14:10:31.001 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951413786742786 [0;39m <==      Total: 16
2023-05-15 14:10:31.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951413786742786 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 14:10:31.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951413786742786 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 14:10:31.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951417129603072 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:31.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951417129603072 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 14:10:31.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951417129603072 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 14:10:31.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951417129603072 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:31.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951417129603072 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-15 14:10:31.783 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951417129603072 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 14:10:31.783 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951417129603072 [0;39m ==> Parameters: 202(Long)
2023-05-15 14:10:31.783 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38951417129603072 [0;39m <==    Columns: count(0)
2023-05-15 14:10:31.783 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38951417129603072 [0;39m <==        Row: 1
2023-05-15 14:10:31.783 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951417129603072 [0;39m <==      Total: 1
2023-05-15 14:10:31.783 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951417129603072 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 14:10:31.783 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951417129603072 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-15 14:10:31.783 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951417129603072 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 14:10:31.783 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951417129603072 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 156, 10
2023-05-15 14:10:31.783 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951417129603072 [0;39m <==      Total: 1
2023-05-15 14:10:31.783 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38951417129603072 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 14:10:31.783 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38951417129603072 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 14:10:31.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951417129603072 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":156,"voteCount":10}],"total":1},"success":true}
2023-05-15 14:10:31.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951417129603072 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 14:10:32.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951419709100033 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:32.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951419709100032 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:32.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951419709100033 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:10:32.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951419709100032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:10:32.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951419709100033 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:10:32.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951419709100032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:10:32.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951419709100032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:32.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951419709100033 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:32.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951419709100033 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:10:32.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951419709100032 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:10:32.400 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951419709100032 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:10:32.400 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951419709100032 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:10:32.400 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951419709100033 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:10:32.400 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951419709100033 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:10:32.401 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951419709100032 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:10:32.402 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951419709100032 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:10:32.402 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951419709100033 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:10:32.402 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951419709100033 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 116, 5
2023-05-15 14:10:32.402 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951419709100032 [0;39m <==      Total: 1
2023-05-15 14:10:32.402 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951419709100032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:10:32.402 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951419709100032 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:10:32.403 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951419709100033 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:10:32.403 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951419709100033 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:10:32.403 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951419709100033 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:10:32.403 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951419709100033 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:10:32.403 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951419709100033 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:10:32.403 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951419709100033 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:10:32.403 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951419709100033 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:10:32.405 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951419709100033 [0;39m <==      Total: 8
2023-05-15 14:10:32.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951419709100033 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":116,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:10:32.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951419709100033 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-15 14:10:32.420 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951419709100032 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:10:32.420 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951419709100032 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:10:32.420 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951419709100032 [0;39m <==      Total: 1
2023-05-15 14:10:32.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951419709100032 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:10:32.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951419709100032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-15 14:10:32.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951419826540544 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:32.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951419826540544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:10:32.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951419826540544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:10:32.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951419826540544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:32.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951419826540544 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:10:32.427 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951419826540544 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:10:32.427 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951419826540544 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:10:32.428 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951419826540544 [0;39m <==    Columns: id, content
2023-05-15 14:10:32.428 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951419826540544 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:10:32.428 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951419826540544 [0;39m <==      Total: 1
2023-05-15 14:10:32.430 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951419826540544 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:10:32.430 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951419826540544 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:10:32.502 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951419826540544 [0;39m <==    Updates: 1
2023-05-15 14:10:32.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951419826540544 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 14:10:32.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951419826540544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š87 ms -------------
2023-05-15 14:10:33.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951424826150912 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:10:33.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951424826150912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:10:33.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951424826150912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:10:33.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951424826150912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:10:33.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951424826150912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:10:33.619 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951424826150912 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:10:33.619 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951424826150912 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:10:33.620 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951424826150912 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:10:33.620 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951424826150912 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:10:33.620 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951424826150912 [0;39m <==      Total: 1
2023-05-15 14:10:33.621 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951424826150912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:10:33.621 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951424826150912 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:10:33.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951424826150912 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:10:33.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951424826150912 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:10:33.624 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951424826150912 [0;39m <==      Total: 1
2023-05-15 14:10:33.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951424826150912 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:10:33.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951424826150912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 14:10:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38951430631067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:10:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951430631067648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:10:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951430631067648 [0;39m ==> Parameters: 
2023-05-15 14:10:35.067 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951430631067648 [0;39m <==    Updates: 1
2023-05-15 14:10:35.068 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38951430631067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š66æ¯«ç§’
2023-05-15 14:10:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:35.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:35.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:37.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:37.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:57.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:10:57.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38951535547387904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:11:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951535547387904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:11:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951535547387904 [0;39m ==> Parameters: 
2023-05-15 14:11:00.185 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951535547387904 [0;39m <==    Updates: 0
2023-05-15 14:11:00.185 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38951535547387904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š168æ¯«ç§’
2023-05-15 14:11:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38951556460187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:11:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951556460187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:11:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951556460187648 [0;39m ==> Parameters: 
2023-05-15 14:11:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951556460187648 [0;39m <==    Updates: 1
2023-05-15 14:11:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38951556460187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:11:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:05.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:08.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951571740037120 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:08.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951571740037120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:11:08.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951571740037120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:11:08.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951571740037120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:08.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951571740037120 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:08.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951571752620032 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:08.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951571752620032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:11:08.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951571752620032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:11:08.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951571752620032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:08.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951571752620032 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:08.649 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951571740037120 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:11:08.650 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951571740037120 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:08.652 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951571740037120 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:11:08.652 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951571752620032 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:11:08.653 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951571752620032 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:08.653 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951571740037120 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:11:08.654 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951571740037120 [0;39m <==      Total: 1
2023-05-15 14:11:08.655 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951571740037120 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:08.655 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951571740037120 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:08.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951571752620032 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:11:08.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951571752620032 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 117, 5
2023-05-15 14:11:08.657 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951571740037120 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:08.657 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951571740037120 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:08.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951571752620032 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:11:08.657 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951571740037120 [0;39m <==      Total: 1
2023-05-15 14:11:08.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951571752620032 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:11:08.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951571752620032 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:11:08.658 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951571752620032 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:11:08.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951571740037120 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:11:08.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951571740037120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-15 14:11:08.658 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951571752620032 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:11:08.658 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951571752620032 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:11:08.658 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951571752620032 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:11:08.659 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951571752620032 [0;39m <==      Total: 8
2023-05-15 14:11:08.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951571752620032 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":117,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:11:08.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951571752620032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 14:11:08.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951571941363712 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:08.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951571941363712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:11:08.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951571941363712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:11:08.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951571941363712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:08.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951571941363712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:08.697 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951571941363712 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:11:08.698 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951571941363712 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:08.701 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951571941363712 [0;39m <==    Columns: id, content
2023-05-15 14:11:08.701 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951571941363712 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:11:08.701 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951571941363712 [0;39m <==      Total: 1
2023-05-15 14:11:08.702 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951571941363712 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:11:08.702 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951571941363712 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:08.772 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951571941363712 [0;39m <==    Updates: 1
2023-05-15 14:11:08.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951571941363712 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 14:11:08.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951571941363712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š79 ms -------------
2023-05-15 14:11:10.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951578455117824 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:10.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951578455117825 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:10.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951578455117824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:11:10.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951578455117825 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:11:10.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951578455117824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:11:10.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951578455117824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:10.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951578455117825 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:11:10.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951578455117825 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:10.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951578455117824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:10.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951578455117825 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:10.249 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951578455117825 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:11:10.248 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951578455117824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:11:10.250 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951578455117824 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:10.250 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951578455117825 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:10.251 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951578455117824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:11:10.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951578455117825 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:11:10.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951578455117825 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 118, 5
2023-05-15 14:11:10.252 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951578455117825 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:11:10.252 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951578455117824 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:11:10.252 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951578455117825 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:11:10.252 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951578455117825 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:11:10.252 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951578455117824 [0;39m <==      Total: 1
2023-05-15 14:11:10.252 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951578455117825 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:11:10.252 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951578455117825 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:11:10.252 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951578455117825 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:11:10.252 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951578455117825 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:11:10.252 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951578455117825 [0;39m <==      Total: 8
2023-05-15 14:11:10.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951578455117825 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":118,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:11:10.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951578455117825 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 14:11:10.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951578455117824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:10.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951578455117824 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:10.254 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951578455117824 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:10.255 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951578455117824 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:10.255 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951578455117824 [0;39m <==      Total: 1
2023-05-15 14:11:10.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951578455117824 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:11:10.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951578455117824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 14:11:10.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951578597724160 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:10.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951578597724160 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:11:10.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951578597724160 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:11:10.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951578597724160 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:10.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951578597724160 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:10.284 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951578597724160 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:11:10.285 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951578597724160 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:10.287 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951578597724160 [0;39m <==    Columns: id, content
2023-05-15 14:11:10.287 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951578597724160 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:11:10.288 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951578597724160 [0;39m <==      Total: 1
2023-05-15 14:11:10.288 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951578597724160 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:11:10.289 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951578597724160 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:10.357 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951578597724160 [0;39m <==    Updates: 1
2023-05-15 14:11:10.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951578597724160 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 14:11:10.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951578597724160 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š80 ms -------------
2023-05-15 14:11:11.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951585509937152 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:11.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951585509937152 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:11:11.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951585509937152 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:11:11.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951585509937152 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:11.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951585509937152 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:11.932 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951585509937152 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:11:11.933 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951585509937152 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:11.935 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951585509937152 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:11:11.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951585509937152 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:11:11.936 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951585509937152 [0;39m <==      Total: 1
2023-05-15 14:11:11.937 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951585509937152 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:11.937 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951585509937152 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:11.939 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951585509937152 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:11.939 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951585509937152 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:11.939 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951585509937152 [0;39m <==      Total: 1
2023-05-15 14:11:11.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951585509937152 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:11:11.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951585509937152 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 14:11:16.612 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951605156057088 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:16.612 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951605156057088 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:11:16.612 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951605156057088 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:11:16.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951605156057088 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:16.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951605156057088 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:16.614 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951605156057088 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:11:16.614 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951605156057088 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:16.615 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951605156057088 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:11:16.615 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951605156057088 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:11:16.615 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951605156057088 [0;39m <==      Total: 1
2023-05-15 14:11:16.616 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951605156057088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:16.617 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951605156057088 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:16.618 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951605156057088 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:16.618 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951605156057088 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:16.618 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951605156057088 [0;39m <==      Total: 1
2023-05-15 14:11:16.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951605156057088 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:11:16.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951605156057088 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 14:11:17.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:20.757 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38951571740037120 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 14:11:20.758 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38951571740037120 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š1 ms -------------
2023-05-15 14:11:20.760 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38951571752620032 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 14:11:20.760 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38951571752620032 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleReplyComment/
2023-05-15 14:11:20.760 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38951571752620032 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 14:11:20.771 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38951571752620032 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 14:11:20.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951622742773760 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:20.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951622742773760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleReplyComment/ POST
2023-05-15 14:11:20.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951622742773760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-15 14:11:20.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951622742773760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:20.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951622742773760 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ww","ebookId":1,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-15 14:11:20.807 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951622742773760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:20.807 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951622742773760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:20.819 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951622742773760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:20.819 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951622742773760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:20.819 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951622742773760 [0;39m <==      Total: 1
2023-05-15 14:11:20.819 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951622742773760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:20.819 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951622742773760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:20.819 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951622742773760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:20.819 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951622742773760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:20.819 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951622742773760 [0;39m <==      Total: 1
2023-05-15 14:11:20.823 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38951622742773760 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-15 14:11:20.823 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38951622742773760 [0;39m ==> Parameters: 1(Long), 1(Long), 2(Long), 1(Long), ww(String), 2023-05-15 14:11:20.819(Timestamp), null
2023-05-15 14:11:20.919 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38951622742773760 [0;39m <==    Updates: 1
2023-05-15 14:11:20.935 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38951622742773760 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-15 14:11:20.935 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38951622742773760 [0;39m ==> Parameters: 3(Long)
2023-05-15 14:11:20.951 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38951622742773760 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:11:20.951 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38951622742773760 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 14:11:21, null
2023-05-15 14:11:20.951 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38951622742773760 [0;39m <==      Total: 1
2023-05-15 14:11:20.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951622742773760 [0;39m è¿”å›žç»“æžœ: {"content":{"content":"ww","createTime":1684131081000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},"success":true}
2023-05-15 14:11:20.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951622742773760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š146 ms -------------
2023-05-15 14:11:20.951 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38951622742773760 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š191 ms -------------
2023-05-15 14:11:20.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951623426445312 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:20.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951623426445312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:11:20.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951623426445312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:11:20.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951623426445312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:20.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951623426445312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:20.971 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951623426445312 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:11:20.972 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951623426445312 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:20.973 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951623426445312 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:11:20.973 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951623426445312 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:11:20.973 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951623426445312 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 14:11:21, null
2023-05-15 14:11:20.973 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951623426445312 [0;39m <==      Total: 2
2023-05-15 14:11:20.973 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951623426445312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:20.973 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951623426445312 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:20.979 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951623426445312 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:20.980 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951623426445312 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:20.980 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951623426445312 [0;39m <==      Total: 1
2023-05-15 14:11:20.980 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951623426445312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:20.980 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951623426445312 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:20.980 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951623426445312 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:20.980 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951623426445312 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:20.980 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951623426445312 [0;39m <==      Total: 1
2023-05-15 14:11:20.980 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951623426445312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:20.980 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951623426445312 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:20.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951623426445312 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:20.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951623426445312 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:20.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951623426445312 [0;39m <==      Total: 1
2023-05-15 14:11:20.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951623426445312 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131081000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:11:20.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951623426445312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 14:11:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38951682285113344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:11:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951682285113344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:11:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951682285113344 [0;39m ==> Parameters: 
2023-05-15 14:11:35.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951682285113344 [0;39m <==    Updates: 1
2023-05-15 14:11:35.082 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38951682285113344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š81æ¯«ç§’
2023-05-15 14:11:35.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:35.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:35.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:37.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:37.297 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:49.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951741248638977 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:49.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951741248638976 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:49.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951741248638977 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:11:49.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951741248638976 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:11:49.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951741248638977 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:11:49.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951741248638976 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:11:49.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951741248638977 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:49.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951741248638976 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:49.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951741248638977 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:49.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951741248638976 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:49.062 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951741248638976 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:11:49.062 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951741248638977 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:11:49.062 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951741248638976 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:49.062 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951741248638977 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:49.075 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951741248638977 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:11:49.075 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951741248638976 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:11:49.075 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951741248638976 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 119, 5
2023-05-15 14:11:49.076 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951741248638976 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:11:49.076 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951741248638976 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:11:49.076 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951741248638976 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:11:49.076 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951741248638976 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:11:49.076 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951741248638976 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:11:49.076 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951741248638976 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:11:49.076 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951741248638976 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:11:49.076 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951741248638976 [0;39m <==      Total: 8
2023-05-15 14:11:49.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951741248638976 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":119,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:11:49.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951741248638976 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-15 14:11:49.077 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951741248638977 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:11:49.077 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951741248638977 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 14:11:21, null
2023-05-15 14:11:49.077 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951741248638977 [0;39m <==      Total: 2
2023-05-15 14:11:49.078 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951741248638977 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:49.078 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951741248638977 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:49.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951741387051008 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:49.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951741387051008 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:11:49.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951741387051008 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:11:49.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951741387051008 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:49.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951741387051008 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:49.094 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951741387051008 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:11:49.094 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951741387051008 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:49.094 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951741248638977 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:49.094 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951741248638977 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:49.094 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951741248638977 [0;39m <==      Total: 1
2023-05-15 14:11:49.095 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951741248638977 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:49.095 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951741248638977 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:49.096 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951741248638977 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:49.096 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951741248638977 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:49.096 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951741248638977 [0;39m <==      Total: 1
2023-05-15 14:11:49.096 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951741387051008 [0;39m <==    Columns: id, content
2023-05-15 14:11:49.096 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951741387051008 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:11:49.096 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951741248638977 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:49.096 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951741387051008 [0;39m <==      Total: 1
2023-05-15 14:11:49.096 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951741248638977 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:49.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951741387051008 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:11:49.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951741387051008 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:49.098 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951741248638977 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:49.098 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951741248638977 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:49.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951741248638977 [0;39m <==      Total: 1
2023-05-15 14:11:49.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951741248638977 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131081000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:11:49.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951741248638977 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š39 ms -------------
2023-05-15 14:11:49.271 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951741387051008 [0;39m <==    Updates: 1
2023-05-15 14:11:49.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951741387051008 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 14:11:49.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951741387051008 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š180 ms -------------
2023-05-15 14:11:51.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951750656462848 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:51.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951750656462849 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:51.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951750656462849 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:11:51.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951750656462848 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:11:51.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951750656462849 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:11:51.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951750656462848 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:11:51.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951750656462849 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:51.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951750656462848 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:51.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951750656462848 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:51.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951750656462849 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:51.305 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951750656462848 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:11:51.306 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951750656462848 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:51.307 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951750656462849 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:11:51.308 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951750656462848 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:11:51.308 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951750656462849 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:51.308 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951750656462848 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:11:51.308 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951750656462848 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 14:11:21, null
2023-05-15 14:11:51.309 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951750656462848 [0;39m <==      Total: 2
2023-05-15 14:11:51.309 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951750656462848 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:51.309 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951750656462848 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:51.310 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951750656462848 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:51.310 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951750656462849 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:11:51.311 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951750656462848 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:51.311 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951750656462849 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 120, 5
2023-05-15 14:11:51.311 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951750656462848 [0;39m <==      Total: 1
2023-05-15 14:11:51.311 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951750656462849 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:11:51.311 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951750656462849 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:11:51.311 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951750656462849 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:11:51.311 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951750656462849 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:11:51.311 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951750656462848 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:51.311 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951750656462849 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:11:51.311 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951750656462849 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:11:51.311 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951750656462848 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:51.311 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951750656462849 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:11:51.312 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951750656462849 [0;39m <==      Total: 8
2023-05-15 14:11:51.313 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951750656462848 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:51.313 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951750656462848 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:51.313 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951750656462848 [0;39m <==      Total: 1
2023-05-15 14:11:51.313 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951750656462848 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:51.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951750656462849 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":120,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:11:51.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951750656462849 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 14:11:51.314 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951750656462848 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:51.315 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951750656462848 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:51.315 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951750656462848 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:51.316 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951750656462848 [0;39m <==      Total: 1
2023-05-15 14:11:51.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951750656462848 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131081000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:11:51.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951750656462848 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-15 14:11:51.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951750841012224 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:51.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951750841012224 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:11:51.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951750841012224 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:11:51.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951750841012224 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:51.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951750841012224 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:51.347 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951750841012224 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:11:51.348 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951750841012224 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:51.350 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951750841012224 [0;39m <==    Columns: id, content
2023-05-15 14:11:51.351 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951750841012224 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:11:51.351 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951750841012224 [0;39m <==      Total: 1
2023-05-15 14:11:51.352 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951750841012224 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:11:51.353 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951750841012224 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:51.421 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951750841012224 [0;39m <==    Updates: 1
2023-05-15 14:11:51.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951750841012224 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 14:11:51.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951750841012224 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š76 ms -------------
2023-05-15 14:11:52.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951757648367616 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:11:52.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951757648367616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:11:52.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951757648367616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:11:52.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951757648367616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:11:52.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951757648367616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:11:52.970 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951757648367616 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:11:52.971 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951757648367616 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:52.973 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951757648367616 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:11:52.973 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951757648367616 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:11:52.973 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951757648367616 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 14:11:21, null
2023-05-15 14:11:52.974 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951757648367616 [0;39m <==      Total: 2
2023-05-15 14:11:52.974 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951757648367616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:52.974 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951757648367616 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:52.976 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951757648367616 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:52.976 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951757648367616 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:52.976 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951757648367616 [0;39m <==      Total: 1
2023-05-15 14:11:52.976 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951757648367616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:52.976 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951757648367616 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:52.978 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951757648367616 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:52.978 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951757648367616 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:52.978 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951757648367616 [0;39m <==      Total: 1
2023-05-15 14:11:52.978 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951757648367616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:11:52.979 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951757648367616 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:11:52.980 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951757648367616 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:11:52.980 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951757648367616 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:11:52.981 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951757648367616 [0;39m <==      Total: 1
2023-05-15 14:11:52.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951757648367616 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131081000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:11:52.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951757648367616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 14:11:57.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:11:57.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38951787188850688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:12:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951787188850688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:12:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951787188850688 [0;39m ==> Parameters: 
2023-05-15 14:12:00.170 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38951787188850688 [0;39m <==    Updates: 0
2023-05-15 14:12:00.170 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38951787188850688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š158æ¯«ç§’
2023-05-15 14:12:00.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951790976307201 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:00.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951790976307200 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:00.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951790976307201 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:12:00.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951790976307200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:12:00.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951790976307201 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:12:00.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951790976307201 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:00.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951790976307200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:12:00.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951790976307201 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:12:00.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951790976307200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:00.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951790976307200 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:12:00.917 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951790976307201 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:12:00.917 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951790976307201 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:00.918 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951790976307200 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:12:00.918 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951790976307200 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:00.919 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951790976307201 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:12:00.920 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951790976307201 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:12:00.920 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951790976307201 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 14:11:21, null
2023-05-15 14:12:00.921 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951790976307201 [0;39m <==      Total: 2
2023-05-15 14:12:00.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951790976307201 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:12:00.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951790976307201 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:00.922 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951790976307201 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:12:00.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951790976307200 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:12:00.923 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951790976307201 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:12:00.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951790976307200 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 121, 5
2023-05-15 14:12:00.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951790976307201 [0;39m <==      Total: 1
2023-05-15 14:12:00.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951790976307200 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:12:00.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951790976307200 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:12:00.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951790976307201 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:12:00.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951790976307200 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:12:00.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951790976307201 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:00.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951790976307200 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:12:00.923 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951790976307200 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:12:00.924 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951790976307200 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:12:00.924 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951790976307200 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:12:00.924 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951790976307200 [0;39m <==      Total: 8
2023-05-15 14:12:00.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951790976307200 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":121,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:12:00.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951790976307200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 14:12:00.925 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951790976307201 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:12:00.925 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951790976307201 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:12:00.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951790976307201 [0;39m <==      Total: 1
2023-05-15 14:12:00.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951790976307201 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:12:00.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951790976307201 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:00.941 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951790976307201 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:12:00.942 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951790976307201 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:12:00.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951790976307201 [0;39m <==      Total: 1
2023-05-15 14:12:00.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951790976307201 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131081000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:12:00.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951790976307201 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2023-05-15 14:12:00.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951791152467968 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:00.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951791152467968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:12:00.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951791152467968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:12:00.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951791152467968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:00.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951791152467968 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:12:00.958 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951791152467968 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:12:00.959 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951791152467968 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:00.960 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951791152467968 [0;39m <==    Columns: id, content
2023-05-15 14:12:00.960 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951791152467968 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:12:00.960 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951791152467968 [0;39m <==      Total: 1
2023-05-15 14:12:00.960 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951791152467968 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:12:00.961 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951791152467968 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:01.034 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951791152467968 [0;39m <==    Updates: 1
2023-05-15 14:12:01.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951791152467968 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 14:12:01.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951791152467968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š79 ms -------------
2023-05-15 14:12:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38951808135204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:12:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951808135204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:12:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951808135204864 [0;39m ==> Parameters: 
2023-05-15 14:12:05.077 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951808135204864 [0;39m <==    Updates: 1
2023-05-15 14:12:05.077 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38951808135204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š71æ¯«ç§’
2023-05-15 14:12:05.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:05.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:08.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951823343751168 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:08.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951823343751168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 14:12:08.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951823343751168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 14:12:08.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951823343751168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:08.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951823343751168 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:12:08.635 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951823343751168 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 14:12:08.635 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951823343751168 [0;39m ==> Parameters: 
2023-05-15 14:12:08.636 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 14:12:08.636 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 14:12:08.636 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 14:12:08.636 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 14:12:08.636 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 14:12:08.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951823343751168 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 14:12:08.637 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951823343751168 [0;39m <==      Total: 16
2023-05-15 14:12:08.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951823343751168 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 14:12:08.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951823343751168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 14:12:08.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951823469580288 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:08.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951823469580288 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 14:12:08.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951823469580288 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 14:12:08.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951823469580288 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:08.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951823469580288 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 14:12:08.664 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951823469580288 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 14:12:08.665 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951823469580288 [0;39m ==> Parameters: 
2023-05-15 14:12:08.667 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38951823469580288 [0;39m <==    Columns: count(0)
2023-05-15 14:12:08.667 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38951823469580288 [0;39m <==        Row: 5
2023-05-15 14:12:08.667 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951823469580288 [0;39m <==      Total: 1
2023-05-15 14:12:08.668 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951823469580288 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 14:12:08.669 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951823469580288 [0;39m ==> Parameters: 10(Integer)
2023-05-15 14:12:08.671 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951823469580288 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 14:12:08.672 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951823469580288 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 162, 10
2023-05-15 14:12:08.673 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951823469580288 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 14:12:08.673 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951823469580288 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 14:12:08.673 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951823469580288 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 14:12:08.673 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951823469580288 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 14:12:08.673 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951823469580288 [0;39m <==      Total: 5
2023-05-15 14:12:08.674 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38951823469580288 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 14:12:08.674 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38951823469580288 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 14:12:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951823469580288 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":162,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 14:12:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951823469580288 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 14:12:10.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951830604091392 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:10.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951830604091392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:12:10.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951830604091392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:12:10.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951830604091392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:10.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951830604091392 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:12:10.365 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951830604091392 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:12:10.365 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951830604091392 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:10.367 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951830604091392 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:12:10.367 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951830604091392 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 122, 5
2023-05-15 14:12:10.368 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951830604091392 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:12:10.368 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951830604091392 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:12:10.368 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951830604091392 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:12:10.368 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951830604091392 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:12:10.368 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951830604091392 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:12:10.368 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951830604091392 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:12:10.369 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951830604091392 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:12:10.369 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951830604091392 [0;39m <==      Total: 8
2023-05-15 14:12:10.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951830604091392 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":122,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:12:10.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951830604091392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 14:12:11.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951835406569472 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:11.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951835406569472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:12:11.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951835406569472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:12:11.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951835406569472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:11.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951835406569472 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:12:11.510 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951835406569472 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:12:11.510 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951835406569472 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:11.512 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951835406569472 [0;39m <==    Columns: id, content
2023-05-15 14:12:11.512 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951835406569472 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:12:11.512 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951835406569472 [0;39m <==      Total: 1
2023-05-15 14:12:11.513 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951835406569472 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:12:11.513 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951835406569472 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:11.587 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951835406569472 [0;39m <==    Updates: 1
2023-05-15 14:12:11.587 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951835406569472 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-15 14:12:11.587 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951835406569472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š79 ms -------------
2023-05-15 14:12:17.309 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:17.311 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:21.401 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38951790976307200 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 14:12:21.401 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38951790976307200 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 14:12:21.404 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38951790976307201 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 14:12:21.404 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38951790976307201 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/save
2023-05-15 14:12:21.404 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38951790976307201 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 14:12:21.406 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38951790976307201 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 14:12:21.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951876938567680 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:21.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951876938567680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/save POST
2023-05-15 14:12:21.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951876938567680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.save
2023-05-15 14:12:21.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951876938567680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:21.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951876938567680 [0;39m è¯·æ±‚å‚æ•°: [{"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a><br></h2>","ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":122,"voteCount":5}]
2023-05-15 14:12:21.434 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m38951876938567680 [0;39m ==>  Preparing: update doc set ebook_id = ?, parent = ?, `name` = ?, sort = ?, view_count = ?, vote_count = ? where id = ?
2023-05-15 14:12:21.434 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m38951876938567680 [0;39m ==> Parameters: 1(Long), 0(Long), æ–‡æ¡£1(String), 1(Integer), 122(Integer), 5(Integer), 1(Long)
2023-05-15 14:12:21.436 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m38951876938567680 [0;39m <==    Updates: 1
2023-05-15 14:12:21.436 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m38951876938567680 [0;39m ==>  Preparing: update content set content = ? where id = ?
2023-05-15 14:12:21.436 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m38951876938567680 [0;39m ==> Parameters: <p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can "just run".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href="https://github.com/spring-projects/spring-boot/wiki#release-notes">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href="https://spring.io/projects/spring-boot#features"></a><br></h2>(String), 1(Long)
2023-05-15 14:12:21.439 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m38951876938567680 [0;39m <==    Updates: 1
2023-05-15 14:12:21.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951876938567680 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 14:12:21.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951876938567680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š91 ms -------------
2023-05-15 14:12:21.501 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38951876938567680 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š97 ms -------------
2023-05-15 14:12:21.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951877395746816 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:21.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951877395746816 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:12:21.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951877395746816 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:12:21.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951877395746816 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:21.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951877395746816 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:12:21.521 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951877395746816 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:12:21.521 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951877395746816 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:21.522 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951877395746816 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:12:21.522 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951877395746816 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 122, 5
2023-05-15 14:12:21.522 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951877395746816 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:12:21.522 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951877395746816 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:12:21.522 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951877395746816 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:12:21.522 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951877395746816 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:12:21.522 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951877395746816 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:12:21.522 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951877395746816 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:12:21.522 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951877395746816 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:12:21.522 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951877395746816 [0;39m <==      Total: 8
2023-05-15 14:12:21.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951877395746816 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":122,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:12:21.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951877395746816 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 14:12:22.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951879945883648 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:22.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951879945883649 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:22.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951879945883648 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-15 14:12:22.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951879945883650 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:22.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951879945883648 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-15 14:12:22.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951879945883650 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 14:12:22.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951879945883649 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-15 14:12:22.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951879945883650 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 14:12:22.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951879945883648 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:22.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951879945883650 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:22.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951879945883649 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-15 14:12:22.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951879945883650 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:12:22.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951879945883648 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:12:22.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951879945883649 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:22.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951879945883649 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:12:22.129 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951879945883650 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 14:12:22.129 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38951879945883649 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 14:12:22.129 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38951879945883648 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-15 14:12:22.129 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38951879945883648 [0;39m ==> Parameters: 
2023-05-15 14:12:22.129 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951879945883650 [0;39m ==> Parameters: 
2023-05-15 14:12:22.129 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38951879945883649 [0;39m ==> Parameters: 
2023-05-15 14:12:22.131 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 14:12:22.131 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38951879945883649 [0;39m <==      Total: 0
2023-05-15 14:12:22.131 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38951879945883648 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-15 14:12:22.131 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 14:12:22.131 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 14:12:22.131 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951879945883649 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-15 14:12:22.131 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 14:12:22.131 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38951879945883648 [0;39m <==        Row: 2023-05-15, 159, 10, 159, 10
2023-05-15 14:12:22.131 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951879945883649 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-15 14:12:22.131 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 14:12:22.132 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 14:12:22.132 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38951879945883648 [0;39m <==      Total: 1
2023-05-15 14:12:22.132 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 14:12:22.132 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 14:12:22.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951879945883648 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1684080000000,"viewCount":159,"viewIncrease":159,"voteCount":10,"voteIncrease":10}],"success":true}
2023-05-15 14:12:22.132 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 14:12:22.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951879945883648 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 14:12:22.132 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 14:12:22.132 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 14:12:22.133 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 14:12:22.133 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 14:12:22.133 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 14:12:22.133 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 14:12:22.133 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 14:12:22.133 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38951879945883650 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 14:12:22.133 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38951879945883650 [0;39m <==      Total: 16
2023-05-15 14:12:22.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951879945883650 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 14:12:22.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951879945883650 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 14:12:23.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951883670425600 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:23.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951883670425600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 14:12:23.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951883670425600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 14:12:23.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951883670425600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:23.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951883670425600 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-15 14:12:23.018 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951883670425600 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-15 14:12:23.018 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951883670425600 [0;39m ==> Parameters: 202(Long)
2023-05-15 14:12:23.019 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38951883670425600 [0;39m <==    Columns: count(0)
2023-05-15 14:12:23.019 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38951883670425600 [0;39m <==        Row: 1
2023-05-15 14:12:23.019 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38951883670425600 [0;39m <==      Total: 1
2023-05-15 14:12:23.020 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951883670425600 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-15 14:12:23.020 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951883670425600 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-15 14:12:23.021 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951883670425600 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 14:12:23.021 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38951883670425600 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 162, 10
2023-05-15 14:12:23.021 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38951883670425600 [0;39m <==      Total: 1
2023-05-15 14:12:23.021 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38951883670425600 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-15 14:12:23.021 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38951883670425600 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 14:12:23.021 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951883670425600 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":162,"voteCount":10}],"total":1},"success":true}
2023-05-15 14:12:23.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951883670425600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 14:12:24.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951888376434688 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:24.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951888376434689 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:24.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951888376434689 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:12:24.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951888376434689 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:12:24.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951888376434688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:12:24.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951888376434689 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:24.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951888376434688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:12:24.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951888376434689 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:12:24.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951888376434688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:24.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951888376434688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:12:24.139 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951888376434688 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:12:24.139 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951888376434689 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:12:24.139 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951888376434689 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:24.139 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951888376434688 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:24.140 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951888376434689 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:12:24.140 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951888376434688 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:12:24.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951888376434689 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 122, 5
2023-05-15 14:12:24.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951888376434689 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:12:24.141 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951888376434688 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:12:24.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951888376434689 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:12:24.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951888376434689 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:12:24.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951888376434689 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:12:24.141 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951888376434688 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 14:11:21, null
2023-05-15 14:12:24.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951888376434689 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:12:24.141 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951888376434688 [0;39m <==      Total: 2
2023-05-15 14:12:24.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951888376434689 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:12:24.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38951888376434689 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:12:24.141 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38951888376434689 [0;39m <==      Total: 8
2023-05-15 14:12:24.141 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951888376434688 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:12:24.141 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951888376434688 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:24.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951888376434689 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":122,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:12:24.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951888376434689 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-15 14:12:24.142 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951888376434688 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:12:24.143 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951888376434688 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:12:24.143 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951888376434688 [0;39m <==      Total: 1
2023-05-15 14:12:24.143 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951888376434688 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:12:24.143 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951888376434688 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:24.145 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951888376434688 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:12:24.145 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951888376434688 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:12:24.145 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951888376434688 [0;39m <==      Total: 1
2023-05-15 14:12:24.145 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951888376434688 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:12:24.145 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951888376434688 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:24.146 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951888376434688 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:12:24.146 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951888376434688 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:12:24.146 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951888376434688 [0;39m <==      Total: 1
2023-05-15 14:12:24.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951888376434688 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131081000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:12:24.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951888376434688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-15 14:12:24.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951888464515072 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:24.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951888464515072 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:12:24.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951888464515072 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:12:24.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951888464515072 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:24.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951888464515072 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:12:24.160 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951888464515072 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:12:24.160 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951888464515072 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:24.161 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951888464515072 [0;39m <==    Columns: id, content
2023-05-15 14:12:24.161 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38951888464515072 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:12:24.161 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38951888464515072 [0;39m <==      Total: 1
2023-05-15 14:12:24.161 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951888464515072 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:12:24.161 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951888464515072 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:24.239 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38951888464515072 [0;39m <==    Updates: 1
2023-05-15 14:12:24.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951888464515072 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a><br></h2>","success":true}
2023-05-15 14:12:24.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951888464515072 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š81 ms -------------
2023-05-15 14:12:25.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38951892977586176 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:12:25.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38951892977586176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:12:25.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38951892977586176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:12:25.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38951892977586176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:12:25.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38951892977586176 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:12:25.236 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951892977586176 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:12:25.236 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951892977586176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:25.238 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951892977586176 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:12:25.239 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951892977586176 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:12:25.239 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38951892977586176 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 14:11:21, null
2023-05-15 14:12:25.240 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38951892977586176 [0;39m <==      Total: 2
2023-05-15 14:12:25.240 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951892977586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:12:25.240 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951892977586176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:25.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951892977586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:12:25.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951892977586176 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:12:25.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951892977586176 [0;39m <==      Total: 1
2023-05-15 14:12:25.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951892977586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:12:25.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951892977586176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:25.243 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951892977586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:12:25.243 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951892977586176 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:12:25.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951892977586176 [0;39m <==      Total: 1
2023-05-15 14:12:25.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951892977586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:12:25.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951892977586176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:12:25.243 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951892977586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:12:25.243 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38951892977586176 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:12:25.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38951892977586176 [0;39m <==      Total: 1
2023-05-15 14:12:25.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38951892977586176 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131081000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:12:25.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38951892977586176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 14:12:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38951933985296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:12:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951933985296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:12:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951933985296384 [0;39m ==> Parameters: 
2023-05-15 14:12:35.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38951933985296384 [0;39m <==    Updates: 1
2023-05-15 14:12:35.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38951933985296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š94æ¯«ç§’
2023-05-15 14:12:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:35.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:37.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:37.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:57.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:12:57.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38952038847090688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:13:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952038847090688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:13:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952038847090688 [0;39m ==> Parameters: 
2023-05-15 14:13:00.391 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952038847090688 [0;39m <==    Updates: 0
2023-05-15 14:13:00.391 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38952038847090688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š379æ¯«ç§’
2023-05-15 14:13:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38952059772473344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:13:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952059772473344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:13:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952059772473344 [0;39m ==> Parameters: 
2023-05-15 14:13:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952059772473344 [0;39m <==    Updates: 1
2023-05-15 14:13:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38952059772473344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:13:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:05.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:17.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:32.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952175048724480 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:13:32.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952175048724480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:13:32.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952175048724480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:13:32.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952175048724480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:13:32.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952175048724480 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:13:32.486 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952175048724480 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:13:32.487 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952175048724480 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:13:32.488 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952175048724480 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:13:32.488 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952175048724480 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:13:32.489 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952175048724480 [0;39m <==        Row: 3, 1, 1, 2, 1, ww, 2023-05-15 14:11:21, null
2023-05-15 14:13:32.489 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952175048724480 [0;39m <==      Total: 2
2023-05-15 14:13:32.489 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952175048724480 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:13:32.489 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952175048724480 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:13:32.490 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952175048724480 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:13:32.490 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952175048724480 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:13:32.490 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952175048724480 [0;39m <==      Total: 1
2023-05-15 14:13:32.490 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952175048724480 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:13:32.490 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952175048724480 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:13:32.491 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952175048724480 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:13:32.491 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952175048724480 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:13:32.491 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952175048724480 [0;39m <==      Total: 1
2023-05-15 14:13:32.491 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952175048724480 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:13:32.492 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952175048724480 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:13:32.492 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952175048724480 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:13:32.492 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952175048724480 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:13:32.493 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952175048724480 [0;39m <==      Total: 1
2023-05-15 14:13:32.493 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952175048724480 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131081000,"ebookId":1,"id":3,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:13:32.493 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952175048724480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 14:13:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38952185660313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:13:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952185660313600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:13:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952185660313600 [0;39m ==> Parameters: 
2023-05-15 14:13:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952185660313600 [0;39m <==    Updates: 1
2023-05-15 14:13:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38952185660313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:13:35.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:35.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:35.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:35.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:37.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:56.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952275875598336 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:13:56.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952275875598336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:13:56.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952275875598336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:13:56.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952275875598336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:13:56.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952275875598336 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:13:56.527 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952275875598336 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:13:56.527 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952275875598336 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:13:56.529 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952275875598336 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:13:56.529 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952275875598336 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:13:56.530 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952275875598336 [0;39m <==      Total: 1
2023-05-15 14:13:56.530 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952275875598336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:13:56.531 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952275875598336 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:13:56.532 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952275875598336 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:13:56.533 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952275875598336 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:13:56.533 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952275875598336 [0;39m <==      Total: 1
2023-05-15 14:13:56.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952275875598336 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:13:56.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952275875598336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-15 14:13:57.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:13:57.364 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38952290480164864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:14:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952290480164864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:14:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952290480164864 [0;39m ==> Parameters: 
2023-05-15 14:14:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952290480164864 [0;39m <==    Updates: 0
2023-05-15 14:14:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38952290480164864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 14:14:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38952311439101952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:14:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952311439101952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:14:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952311439101952 [0;39m ==> Parameters: 
2023-05-15 14:14:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952311439101952 [0;39m <==    Updates: 1
2023-05-15 14:14:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38952311439101952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 14:14:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:05.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:05.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:05.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:17.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:17.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38952437264027648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:14:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952437264027648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:14:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952437264027648 [0;39m ==> Parameters: 
2023-05-15 14:14:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952437264027648 [0;39m <==    Updates: 1
2023-05-15 14:14:35.038 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38952437264027648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2023-05-15 14:14:35.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:35.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:35.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:37.389 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:37.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:57.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:14:57.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38952542125821952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:15:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952542125821952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:15:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952542125821952 [0;39m ==> Parameters: 
2023-05-15 14:15:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952542125821952 [0;39m <==    Updates: 0
2023-05-15 14:15:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38952542125821952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 14:15:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38952563101536256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:15:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952563101536256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:15:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952563101536256 [0;39m ==> Parameters: 
2023-05-15 14:15:05.063 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952563101536256 [0;39m <==    Updates: 1
2023-05-15 14:15:05.063 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38952563101536256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š59æ¯«ç§’
2023-05-15 14:15:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:05.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:17.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:17.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38952688922267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:15:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952688922267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:15:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952688922267648 [0;39m ==> Parameters: 
2023-05-15 14:15:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952688922267648 [0;39m <==    Updates: 1
2023-05-15 14:15:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38952688922267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:15:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:35.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:35.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:37.412 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:37.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:46.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952738645741568 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:46.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952738645741568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:15:46.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952738645741569 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:46.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952738645741568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:15:46.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952738645741569 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:15:46.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952738645741569 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:15:46.859 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952738645741569 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:46.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952738645741568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:46.859 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952738645741569 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:15:46.859 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952738645741568 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:15:46.860 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952738645741568 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:15:46.861 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952738645741568 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:46.862 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38952738645741569 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:15:46.863 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38952738645741569 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:46.863 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952738645741568 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:15:46.867 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952738645741568 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:15:46.869 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952738645741568 [0;39m <==      Total: 1
2023-05-15 14:15:46.871 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952738645741568 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:46.872 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952738645741568 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:46.873 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952738645741568 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:46.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952738645741569 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:15:46.874 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952738645741568 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:46.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952738645741569 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 123, 5
2023-05-15 14:15:46.874 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952738645741568 [0;39m <==      Total: 1
2023-05-15 14:15:46.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952738645741569 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:15:46.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952738645741569 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:15:46.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952738645741568 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:15:46.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952738645741568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-15 14:15:46.875 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952738645741569 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:15:46.875 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952738645741569 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:15:46.875 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952738645741569 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:15:46.875 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952738645741569 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:15:46.875 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952738645741569 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:15:46.876 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38952738645741569 [0;39m <==      Total: 8
2023-05-15 14:15:46.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952738645741569 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":123,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:15:46.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952738645741569 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š30 ms -------------
2023-05-15 14:15:46.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952738935148544 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:46.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952738935148544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:15:46.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952738935148544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:15:46.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952738935148544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:46.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952738935148544 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:15:46.928 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38952738935148544 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:15:46.929 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38952738935148544 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:46.930 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38952738935148544 [0;39m <==    Columns: id, content
2023-05-15 14:15:46.931 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38952738935148544 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:15:46.931 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38952738935148544 [0;39m <==      Total: 1
2023-05-15 14:15:46.932 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38952738935148544 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:15:46.933 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38952738935148544 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:47.068 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38952738935148544 [0;39m <==    Updates: 1
2023-05-15 14:15:47.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952738935148544 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a><br></h2>","success":true}
2023-05-15 14:15:47.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952738935148544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š143 ms -------------
2023-05-15 14:15:48.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952744232554497 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:48.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952744232554496 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:48.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952744232554497 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:15:48.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952744232554497 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:15:48.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952744232554496 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:15:48.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952744232554497 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:48.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952744232554496 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:15:48.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952744232554496 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:48.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952744232554497 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:15:48.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952744232554496 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:15:48.192 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952744232554497 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:15:48.192 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952744232554497 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:48.193 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38952744232554496 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:15:48.194 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38952744232554496 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:48.194 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952744232554497 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:15:48.195 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952744232554497 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:15:48.195 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952744232554497 [0;39m <==      Total: 1
2023-05-15 14:15:48.196 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952744232554497 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:48.196 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952744232554497 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:48.198 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952744232554497 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:48.199 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952744232554497 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:48.198 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952744232554496 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:15:48.199 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952744232554496 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 124, 5
2023-05-15 14:15:48.199 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952744232554497 [0;39m <==      Total: 1
2023-05-15 14:15:48.199 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952744232554496 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:15:48.199 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952744232554496 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:15:48.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952744232554497 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:15:48.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952744232554496 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:15:48.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952744232554497 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-15 14:15:48.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952744232554496 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:15:48.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952744232554496 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:15:48.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952744232554496 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:15:48.200 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38952744232554496 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:15:48.202 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38952744232554496 [0;39m <==      Total: 8
2023-05-15 14:15:48.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952744232554496 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":124,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:15:48.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952744232554496 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š23 ms -------------
2023-05-15 14:15:48.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952744496795648 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:48.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952744496795648 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:15:48.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952744496795648 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:15:48.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952744496795648 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:48.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952744496795648 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:15:48.254 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38952744496795648 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:15:48.255 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38952744496795648 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:48.268 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38952744496795648 [0;39m <==    Columns: id, content
2023-05-15 14:15:48.269 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38952744496795648 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:15:48.269 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38952744496795648 [0;39m <==      Total: 1
2023-05-15 14:15:48.270 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38952744496795648 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:15:48.272 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38952744496795648 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:48.323 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38952744496795648 [0;39m <==    Updates: 1
2023-05-15 14:15:48.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952744496795648 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a><br></h2>","success":true}
2023-05-15 14:15:48.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952744496795648 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š73 ms -------------
2023-05-15 14:15:48.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952747088875520 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:48.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952747088875520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:15:48.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952747088875520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:15:48.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952747088875520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:48.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952747088875520 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:15:48.872 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952747088875520 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:15:48.873 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952747088875520 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:48.895 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952747088875520 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:15:48.896 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952747088875520 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:15:48.896 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952747088875520 [0;39m <==      Total: 1
2023-05-15 14:15:48.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952747088875520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:48.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952747088875520 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:48.920 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952747088875520 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:48.921 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952747088875520 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:48.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952747088875520 [0;39m <==      Total: 1
2023-05-15 14:15:48.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952747088875520 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:15:48.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952747088875520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š51 ms -------------
2023-05-15 14:15:54.588 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38951888376434689 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 14:15:54.588 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38951888376434689 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleReplyComment/
2023-05-15 14:15:54.588 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38951888376434689 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 14:15:54.601 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38951888376434689 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 14:15:54.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952771197734912 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:54.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952771197734912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleReplyComment/ POST
2023-05-15 14:15:54.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952771197734912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-15 14:15:54.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952771197734912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:54.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952771197734912 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ww","ebookId":1,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-15 14:15:54.620 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771197734912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:54.621 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771197734912 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:54.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952771197734912 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:54.623 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952771197734912 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:54.623 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771197734912 [0;39m <==      Total: 1
2023-05-15 14:15:54.624 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771197734912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:54.624 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771197734912 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:54.625 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952771197734912 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:54.625 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952771197734912 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:54.625 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771197734912 [0;39m <==      Total: 1
2023-05-15 14:15:54.626 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952771197734912 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-15 14:15:54.627 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952771197734912 [0;39m ==> Parameters: 1(Long), 1(Long), 2(Long), 1(Long), ww(String), 2023-05-15 14:15:54.626(Timestamp), null
2023-05-15 14:15:54.717 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952771197734912 [0;39m <==    Updates: 1
2023-05-15 14:15:54.719 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952771197734912 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-15 14:15:54.719 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952771197734912 [0;39m ==> Parameters: 4(Long)
2023-05-15 14:15:54.719 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38952771197734912 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:15:54.719 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38952771197734912 [0;39m <==        Row: 4, 1, 1, 2, 1, ww, 2023-05-15 14:15:55, null
2023-05-15 14:15:54.719 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952771197734912 [0;39m <==      Total: 1
2023-05-15 14:15:54.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952771197734912 [0;39m è¿”å›žç»“æžœ: {"content":{"content":"ww","createTime":1684131355000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},"success":true}
2023-05-15 14:15:54.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952771197734912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š102 ms -------------
2023-05-15 14:15:54.719 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38952771197734912 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š131 ms -------------
2023-05-15 14:15:54.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952771701051392 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:54.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952771701051392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:15:54.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952771701051392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:15:54.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952771701051392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:54.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952771701051392 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:15:54.739 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952771701051392 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:15:54.739 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952771701051392 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:54.740 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952771701051392 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:15:54.740 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952771701051392 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:15:54.741 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952771701051392 [0;39m <==        Row: 4, 1, 1, 2, 1, ww, 2023-05-15 14:15:55, null
2023-05-15 14:15:54.741 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952771701051392 [0;39m <==      Total: 2
2023-05-15 14:15:54.741 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771701051392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:54.741 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771701051392 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:54.742 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952771701051392 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:54.742 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952771701051392 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:54.743 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771701051392 [0;39m <==      Total: 1
2023-05-15 14:15:54.744 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771701051392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:54.744 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771701051392 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:54.745 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952771701051392 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:54.745 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952771701051392 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:54.745 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771701051392 [0;39m <==      Total: 1
2023-05-15 14:15:54.745 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771701051392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:54.745 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771701051392 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:54.745 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952771701051392 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:54.745 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952771701051392 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:54.745 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952771701051392 [0;39m <==      Total: 1
2023-05-15 14:15:54.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952771701051392 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131355000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:15:54.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952771701051392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-15 14:15:57.563 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38952738645741569 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 14:15:57.564 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38952738645741569 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleReplyComment/
2023-05-15 14:15:57.564 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38952738645741569 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 14:15:57.565 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38952738645741569 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 14:15:57.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952783562543104 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:57.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952783562543104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleReplyComment/ POST
2023-05-15 14:15:57.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952783562543104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-15 14:15:57.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952783562543104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:57.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952783562543104 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ww","ebookId":1,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-15 14:15:57.567 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783562543104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:57.568 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783562543104 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:57.569 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783562543104 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:57.569 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783562543104 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:57.569 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783562543104 [0;39m <==      Total: 1
2023-05-15 14:15:57.569 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783562543104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:57.570 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783562543104 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:57.570 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783562543104 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:57.571 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783562543104 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:57.571 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783562543104 [0;39m <==      Total: 1
2023-05-15 14:15:57.571 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952783562543104 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-15 14:15:57.571 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952783562543104 [0;39m ==> Parameters: 1(Long), 1(Long), 2(Long), 1(Long), ww(String), 2023-05-15 14:15:57.571(Timestamp), null
2023-05-15 14:15:57.634 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952783562543104 [0;39m <==    Updates: 1
2023-05-15 14:15:57.634 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952783562543104 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-15 14:15:57.634 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952783562543104 [0;39m ==> Parameters: 5(Long)
2023-05-15 14:15:57.634 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38952783562543104 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:15:57.634 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38952783562543104 [0;39m <==        Row: 5, 1, 1, 2, 1, ww, 2023-05-15 14:15:58, null
2023-05-15 14:15:57.634 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952783562543104 [0;39m <==      Total: 1
2023-05-15 14:15:57.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952783562543104 [0;39m è¿”å›žç»“æžœ: {"content":{"content":"ww","createTime":1684131358000,"ebookId":1,"id":5,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},"success":true}
2023-05-15 14:15:57.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952783562543104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š68 ms -------------
2023-05-15 14:15:57.634 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38952783562543104 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š70 ms -------------
2023-05-15 14:15:57.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952783847755776 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:57.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952783847755776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:15:57.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952783847755776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:15:57.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952783847755776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:57.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952783847755776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:15:57.634 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952783847755776 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:15:57.634 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952783847755776 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:57.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952783847755776 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:15:57.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952783847755776 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:15:57.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952783847755776 [0;39m <==        Row: 4, 1, 1, 2, 1, ww, 2023-05-15 14:15:55, null
2023-05-15 14:15:57.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952783847755776 [0;39m <==        Row: 5, 1, 1, 2, 1, ww, 2023-05-15 14:15:58, null
2023-05-15 14:15:57.634 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952783847755776 [0;39m <==      Total: 3
2023-05-15 14:15:57.634 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:57.634 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:57.649 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783847755776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:57.649 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783847755776 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:57.649 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m <==      Total: 1
2023-05-15 14:15:57.650 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:57.650 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:57.651 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783847755776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:57.651 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783847755776 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:57.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m <==      Total: 1
2023-05-15 14:15:57.652 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:57.652 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:57.656 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783847755776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:57.656 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783847755776 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:57.656 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m <==      Total: 1
2023-05-15 14:15:57.656 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:57.656 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:57.656 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783847755776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:57.656 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783847755776 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:57.656 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m <==      Total: 1
2023-05-15 14:15:57.656 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:57.656 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:57.656 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783847755776 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:57.656 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952783847755776 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:57.656 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952783847755776 [0;39m <==      Total: 1
2023-05-15 14:15:57.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952783847755776 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131355000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ww","createTime":1684131358000,"ebookId":1,"id":5,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:15:57.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952783847755776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-15 14:15:57.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:57.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:15:59.474 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38952744232554497 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 14:15:59.474 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38952744232554497 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleReplyComment/
2023-05-15 14:15:59.474 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38952744232554497 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 14:15:59.475 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38952744232554497 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 14:15:59.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952791573663744 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:59.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952791573663744 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleReplyComment/ POST
2023-05-15 14:15:59.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952791573663744 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-15 14:15:59.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952791573663744 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:59.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952791573663744 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ww","ebookId":1,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-15 14:15:59.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952791573663744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:59.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952791573663744 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:59.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952791573663744 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:59.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952791573663744 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:59.480 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952791573663744 [0;39m <==      Total: 1
2023-05-15 14:15:59.481 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952791573663744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:59.481 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952791573663744 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:59.482 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952791573663744 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:59.482 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952791573663744 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:59.483 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952791573663744 [0;39m <==      Total: 1
2023-05-15 14:15:59.483 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952791573663744 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-15 14:15:59.484 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952791573663744 [0;39m ==> Parameters: 1(Long), 1(Long), 2(Long), 1(Long), ww(String), 2023-05-15 14:15:59.483(Timestamp), null
2023-05-15 14:15:59.586 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952791573663744 [0;39m <==    Updates: 1
2023-05-15 14:15:59.600 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952791573663744 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-15 14:15:59.600 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952791573663744 [0;39m ==> Parameters: 6(Long)
2023-05-15 14:15:59.601 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38952791573663744 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:15:59.601 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38952791573663744 [0;39m <==        Row: 6, 1, 1, 2, 1, ww, 2023-05-15 14:15:59, null
2023-05-15 14:15:59.601 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952791573663744 [0;39m <==      Total: 1
2023-05-15 14:15:59.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952791573663744 [0;39m è¿”å›žç»“æžœ: {"content":{"content":"ww","createTime":1684131359000,"ebookId":1,"id":6,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},"success":true}
2023-05-15 14:15:59.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952791573663744 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š127 ms -------------
2023-05-15 14:15:59.603 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38952791573663744 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š129 ms -------------
2023-05-15 14:15:59.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952792131506176 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:15:59.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952792131506176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:15:59.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952792131506176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:15:59.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952792131506176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:15:59.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952792131506176 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:15:59.610 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952792131506176 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:15:59.610 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952792131506176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:59.611 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952792131506176 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:15:59.612 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952792131506176 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:15:59.612 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952792131506176 [0;39m <==        Row: 4, 1, 1, 2, 1, ww, 2023-05-15 14:15:55, null
2023-05-15 14:15:59.613 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952792131506176 [0;39m <==        Row: 5, 1, 1, 2, 1, ww, 2023-05-15 14:15:58, null
2023-05-15 14:15:59.613 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952792131506176 [0;39m <==        Row: 6, 1, 1, 2, 1, ww, 2023-05-15 14:15:59, null
2023-05-15 14:15:59.613 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952792131506176 [0;39m <==      Total: 4
2023-05-15 14:15:59.613 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:59.613 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:59.614 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:59.614 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:59.615 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m <==      Total: 1
2023-05-15 14:15:59.615 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:59.615 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:59.616 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:59.616 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:59.616 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m <==      Total: 1
2023-05-15 14:15:59.616 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:59.618 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:59.619 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:59.619 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:59.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m <==      Total: 1
2023-05-15 14:15:59.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:59.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:59.620 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:59.620 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:59.620 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m <==      Total: 1
2023-05-15 14:15:59.620 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:59.620 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:59.621 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:59.621 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:59.621 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m <==      Total: 1
2023-05-15 14:15:59.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:59.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:59.623 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:59.623 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:59.624 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m <==      Total: 1
2023-05-15 14:15:59.624 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:15:59.624 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:15:59.625 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:15:59.625 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952792131506176 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:15:59.625 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952792131506176 [0;39m <==      Total: 1
2023-05-15 14:15:59.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952792131506176 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131355000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ww","createTime":1684131358000,"ebookId":1,"id":5,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ww","createTime":1684131359000,"ebookId":1,"id":6,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:15:59.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952792131506176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 14:16:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38952793817616384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:16:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952793817616384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:16:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952793817616384 [0;39m ==> Parameters: 
2023-05-15 14:16:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38952793817616384 [0;39m <==    Updates: 0
2023-05-15 14:16:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38952793817616384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-15 14:16:01.333 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38952744496795648 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 14:16:01.333 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38952744496795648 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleReplyComment/
2023-05-15 14:16:01.333 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38952744496795648 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 14:16:01.335 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38952744496795648 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 14:16:01.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952799375069184 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:16:01.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952799375069184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleReplyComment/ POST
2023-05-15 14:16:01.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952799375069184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-15 14:16:01.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952799375069184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:16:01.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952799375069184 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ww","ebookId":1,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-15 14:16:01.337 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799375069184 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.337 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799375069184 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.338 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799375069184 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.339 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799375069184 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.339 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799375069184 [0;39m <==      Total: 1
2023-05-15 14:16:01.339 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799375069184 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.340 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799375069184 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.341 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799375069184 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.341 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799375069184 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.341 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799375069184 [0;39m <==      Total: 1
2023-05-15 14:16:01.341 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952799375069184 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-15 14:16:01.341 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952799375069184 [0;39m ==> Parameters: 1(Long), 1(Long), 2(Long), 1(Long), ww(String), 2023-05-15 14:16:01.341(Timestamp), null
2023-05-15 14:16:01.401 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m38952799375069184 [0;39m <==    Updates: 1
2023-05-15 14:16:01.401 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952799375069184 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-15 14:16:01.401 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952799375069184 [0;39m ==> Parameters: 7(Long)
2023-05-15 14:16:01.401 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38952799375069184 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:16:01.416 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m38952799375069184 [0;39m <==        Row: 7, 1, 1, 2, 1, ww, 2023-05-15 14:16:01, null
2023-05-15 14:16:01.417 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m38952799375069184 [0;39m <==      Total: 1
2023-05-15 14:16:01.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952799375069184 [0;39m è¿”å›žç»“æžœ: {"content":{"content":"ww","createTime":1684131361000,"ebookId":1,"id":7,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},"success":true}
2023-05-15 14:16:01.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952799375069184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š82 ms -------------
2023-05-15 14:16:01.419 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38952799375069184 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š86 ms -------------
2023-05-15 14:16:01.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952799769333760 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:16:01.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952799769333760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:16:01.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952799769333760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:16:01.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952799769333760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:16:01.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952799769333760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:16:01.432 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952799769333760 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:16:01.432 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952799769333760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.434 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952799769333760 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:16:01.434 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952799769333760 [0;39m <==        Row: 2, 1, 1, null, null, ewqeqw, 2023-05-15 13:46:44, null
2023-05-15 14:16:01.434 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952799769333760 [0;39m <==        Row: 4, 1, 1, 2, 1, ww, 2023-05-15 14:15:55, null
2023-05-15 14:16:01.435 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952799769333760 [0;39m <==        Row: 5, 1, 1, 2, 1, ww, 2023-05-15 14:15:58, null
2023-05-15 14:16:01.436 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952799769333760 [0;39m <==        Row: 6, 1, 1, 2, 1, ww, 2023-05-15 14:15:59, null
2023-05-15 14:16:01.436 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952799769333760 [0;39m <==        Row: 7, 1, 1, 2, 1, ww, 2023-05-15 14:16:01, null
2023-05-15 14:16:01.437 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952799769333760 [0;39m <==      Total: 5
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m <==      Total: 1
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m <==      Total: 1
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m <==      Total: 1
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m <==      Total: 1
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m <==      Total: 1
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.449 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.449 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.450 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m <==      Total: 1
2023-05-15 14:16:01.450 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.450 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.451 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.451 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.451 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m <==      Total: 1
2023-05-15 14:16:01.451 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.451 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.452 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.452 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.452 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m <==      Total: 1
2023-05-15 14:16:01.453 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:01.453 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:01.454 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:01.454 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952799769333760 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:01.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952799769333760 [0;39m <==      Total: 1
2023-05-15 14:16:01.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952799769333760 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ewqeqw","createTime":1684129604000,"ebookId":1,"id":2,"name":"æµ‹è¯•","replies":[{"content":"ww","createTime":1684131355000,"ebookId":1,"id":4,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ww","createTime":1684131358000,"ebookId":1,"id":5,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ww","createTime":1684131359000,"ebookId":1,"id":6,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1},{"content":"ww","createTime":1684131361000,"ebookId":1,"id":7,"name":"æµ‹è¯•","parentId":2,"replies":[],"replyname":"æµ‹è¯•","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-15 14:16:01.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952799769333760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-15 14:16:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38952814755581952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:16:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952814755581952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:16:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952814755581952 [0;39m ==> Parameters: 
2023-05-15 14:16:05.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952814755581952 [0;39m <==    Updates: 1
2023-05-15 14:16:05.082 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38952814755581952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š79æ¯«ç§’
2023-05-15 14:16:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:05.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:05.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:14.296 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38951879945883650 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 14:16:14.296 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38951879945883650 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-15 14:16:14.296 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38951879945883650 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 14:16:14.297 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38951879945883650 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 14:16:14.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952853745831936 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:16:14.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952853745831936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-15 14:16:14.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952853745831936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-15 14:16:14.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952853745831936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:16:14.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952853745831936 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ww","ebookId":1,"userId":1}]
2023-05-15 14:16:14.301 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952853745831936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:14.301 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952853745831936 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:14.302 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952853745831936 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:14.302 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952853745831936 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:14.302 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952853745831936 [0;39m <==      Total: 1
2023-05-15 14:16:14.303 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38952853745831936 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-15 14:16:14.303 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38952853745831936 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:14.304 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38952853745831936 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 14:16:14.304 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38952853745831936 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 165, 10
2023-05-15 14:16:14.305 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38952853745831936 [0;39m <==      Total: 1
2023-05-15 14:16:14.305 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38952853745831936 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-15 14:16:14.305 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38952853745831936 [0;39m ==> Parameters: null, 1(Long), 1(Long), null, null, ww(String), 2023-05-15 14:16:14.305(Timestamp), null
2023-05-15 14:16:14.367 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38952853745831936 [0;39m <==    Updates: 1
2023-05-15 14:16:14.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952853745831936 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-15 14:16:14.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952853745831936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š69 ms -------------
2023-05-15 14:16:14.369 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38952853745831936 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š73 ms -------------
2023-05-15 14:16:14.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38952854064599040 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:16:14.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38952854064599040 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:16:14.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38952854064599040 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:16:14.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38952854064599040 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:16:14.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38952854064599040 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:16:14.376 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952854064599040 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:16:14.376 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952854064599040 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:14.377 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952854064599040 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:16:14.377 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38952854064599040 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:16:14.377 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38952854064599040 [0;39m <==      Total: 1
2023-05-15 14:16:14.377 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952854064599040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:16:14.377 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952854064599040 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:16:14.378 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952854064599040 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:16:14.378 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38952854064599040 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:16:14.378 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38952854064599040 [0;39m <==      Total: 1
2023-05-15 14:16:14.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38952854064599040 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:16:14.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38952854064599040 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-15 14:16:17.726 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:17.726 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38952940626644992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:16:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952940626644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:16:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952940626644992 [0;39m ==> Parameters: 
2023-05-15 14:16:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38952940626644992 [0;39m <==    Updates: 1
2023-05-15 14:16:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38952940626644992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:16:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:37.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:37.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:57.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:16:57.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38953045450690560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:17:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953045450690560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:17:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953045450690560 [0;39m ==> Parameters: 
2023-05-15 14:17:00.202 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953045450690560 [0;39m <==    Updates: 0
2023-05-15 14:17:00.203 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38953045450690560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š198æ¯«ç§’
2023-05-15 14:17:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38953066464153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:17:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953066464153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:17:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953066464153600 [0;39m ==> Parameters: 
2023-05-15 14:17:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953066464153600 [0;39m <==    Updates: 1
2023-05-15 14:17:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38953066464153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 14:17:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:17.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:17.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38953192251330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:17:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953192251330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:17:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953192251330560 [0;39m ==> Parameters: 
2023-05-15 14:17:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953192251330560 [0;39m <==    Updates: 1
2023-05-15 14:17:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38953192251330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 14:17:35.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:35.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:37.750 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:37.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:17:57.764 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38953297129902080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:18:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953297129902080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:18:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953297129902080 [0;39m ==> Parameters: 
2023-05-15 14:18:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953297129902080 [0;39m <==    Updates: 0
2023-05-15 14:18:00.030 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38953297129902080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š20æ¯«ç§’
2023-05-15 14:18:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38953318067867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:18:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953318067867648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:18:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953318067867648 [0;39m ==> Parameters: 
2023-05-15 14:18:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953318067867648 [0;39m <==    Updates: 1
2023-05-15 14:18:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38953318067867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:18:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:05.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:16.415 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953365937459200 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:18:16.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953365937459200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:18:16.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953365937459200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:18:16.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953365937459200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:18:16.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953365937459200 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:18:16.417 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953365937459200 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:18:16.418 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953365937459200 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:18:16.419 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953365937459200 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:18:16.419 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953365937459200 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:18:16.419 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953365937459200 [0;39m <==      Total: 1
2023-05-15 14:18:16.421 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953365937459200 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:18:16.421 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953365937459200 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:18:16.422 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953365937459200 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:18:16.422 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953365937459200 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:18:16.422 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953365937459200 [0;39m <==      Total: 1
2023-05-15 14:18:16.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953365937459200 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:18:16.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953365937459200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-15 14:18:17.778 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:17.779 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38953443892793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:18:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953443892793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:18:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953443892793344 [0;39m ==> Parameters: 
2023-05-15 14:18:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953443892793344 [0;39m <==    Updates: 1
2023-05-15 14:18:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38953443892793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:18:35.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:35.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:37.780 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:37.781 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:57.786 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:18:57.787 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38953548804919296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:19:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953548804919296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:19:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953548804919296 [0;39m ==> Parameters: 
2023-05-15 14:19:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953548804919296 [0;39m <==    Updates: 0
2023-05-15 14:19:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38953548804919296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:19:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38953569780633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:19:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953569780633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:19:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953569780633600 [0;39m ==> Parameters: 
2023-05-15 14:19:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953569780633600 [0;39m <==    Updates: 1
2023-05-15 14:19:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38953569780633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:19:05.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:05.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:05.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:17.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:17.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38953695567810560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:19:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953695567810560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:19:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953695567810560 [0;39m ==> Parameters: 
2023-05-15 14:19:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953695567810560 [0;39m <==    Updates: 1
2023-05-15 14:19:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38953695567810560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:19:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:37.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:57.797 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:57.797 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:19:59.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953799355863040 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:19:59.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953799355863040 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:19:59.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953799355863040 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:19:59.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953799355863040 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:19:59.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953799355863040 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:19:59.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953799372640256 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:19:59.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953799372640256 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:19:59.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953799372640256 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:19:59.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953799372640256 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:19:59.754 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953799355863040 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:19:59.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953799372640256 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:19:59.754 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953799355863040 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:19:59.754 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953799355863040 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:19:59.754 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953799355863040 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:19:59.758 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953799355863040 [0;39m <==      Total: 1
2023-05-15 14:19:59.758 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953799355863040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:19:59.758 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953799355863040 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:19:59.758 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953799355863040 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:19:59.758 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953799355863040 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:19:59.758 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953799355863040 [0;39m <==      Total: 1
2023-05-15 14:19:59.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953799355863040 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:19:59.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953799355863040 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-15 14:19:59.758 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953799372640256 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:19:59.758 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953799372640256 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:19:59.758 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953799372640256 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:19:59.758 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953799372640256 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 125, 5
2023-05-15 14:19:59.758 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953799372640256 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:19:59.758 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953799372640256 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:19:59.758 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953799372640256 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:19:59.758 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953799372640256 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:19:59.758 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953799372640256 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:19:59.758 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953799372640256 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:19:59.758 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953799372640256 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:19:59.758 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953799372640256 [0;39m <==      Total: 8
2023-05-15 14:19:59.774 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953799372640256 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":125,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:19:59.774 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953799372640256 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š20 ms -------------
2023-05-15 14:19:59.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953799586549760 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:19:59.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953799586549760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:19:59.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953799586549760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:19:59.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953799586549760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:19:59.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953799586549760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:19:59.805 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953799586549760 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:19:59.805 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953799586549760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:19:59.837 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38953799586549760 [0;39m <==    Columns: id, content
2023-05-15 14:19:59.837 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38953799586549760 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:19:59.837 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953799586549760 [0;39m <==      Total: 1
2023-05-15 14:19:59.837 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953799586549760 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:19:59.837 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953799586549760 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:19:59.930 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953799586549760 [0;39m <==    Updates: 1
2023-05-15 14:19:59.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953799586549760 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a><br></h2>","success":true}
2023-05-15 14:19:59.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953799586549760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š125 ms -------------
2023-05-15 14:20:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38953800475742208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:20:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953800475742208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:20:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953800475742208 [0;39m ==> Parameters: 
2023-05-15 14:20:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38953800475742208 [0;39m <==    Updates: 0
2023-05-15 14:20:00.048 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38953800475742208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2023-05-15 14:20:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38953821384347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:20:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953821384347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953821384347648 [0;39m ==> Parameters: 
2023-05-15 14:20:05.072 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953821384347648 [0;39m <==    Updates: 1
2023-05-15 14:20:05.073 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38953821384347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š70æ¯«ç§’
2023-05-15 14:20:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:05.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:05.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:05.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953822990766080 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:05.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953822990766080 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:20:05.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953822990766080 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:20:05.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953822990766080 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:05.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953822990766080 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:05.386 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953822990766080 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:20:05.387 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953822990766080 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:05.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953823003348992 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:05.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953823003348992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:20:05.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953823003348992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:20:05.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953823003348992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:05.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953823003348992 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:05.395 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953822990766080 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:20:05.397 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953822990766080 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:20:05.398 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953822990766080 [0;39m <==      Total: 1
2023-05-15 14:20:05.398 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953822990766080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:20:05.399 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953822990766080 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:05.399 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953823003348992 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:20:05.399 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953823003348992 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:05.400 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953822990766080 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:20:05.401 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953822990766080 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:20:05.401 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953822990766080 [0;39m <==      Total: 1
2023-05-15 14:20:05.401 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953823003348992 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:20:05.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953822990766080 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:20:05.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953822990766080 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 14:20:05.401 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953823003348992 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 126, 5
2023-05-15 14:20:05.401 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953823003348992 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:20:05.402 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953823003348992 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:20:05.402 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953823003348992 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:20:05.402 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953823003348992 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:20:05.403 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953823003348992 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:20:05.403 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953823003348992 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:20:05.403 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953823003348992 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:20:05.403 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953823003348992 [0;39m <==      Total: 8
2023-05-15 14:20:05.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953823003348992 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":126,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:20:05.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953823003348992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 14:20:05.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953823187898368 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:05.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953823187898368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:20:05.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953823187898368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:20:05.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953823187898368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:05.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953823187898368 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:05.434 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953823187898368 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:20:05.435 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953823187898368 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:05.445 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38953823187898368 [0;39m <==    Columns: id, content
2023-05-15 14:20:05.445 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38953823187898368 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:20:05.445 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953823187898368 [0;39m <==      Total: 1
2023-05-15 14:20:05.446 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953823187898368 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:20:05.446 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953823187898368 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:05.514 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953823187898368 [0;39m <==    Updates: 1
2023-05-15 14:20:05.515 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953823187898368 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a><br></h2>","success":true}
2023-05-15 14:20:05.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953823187898368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š84 ms -------------
2023-05-15 14:20:11.167 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38953365937459200 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šDo9t6X8JLiï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 14:20:12.947 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38953799372640256 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šEAXze6MtPbï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 14:20:13.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953855215603712 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:13.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953855215603713 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:13.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953855215603712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:20:13.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953855215603713 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:20:13.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953855215603712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:20:13.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953855215603713 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:20:13.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953855215603713 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:13.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953855215603712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:13.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953855215603713 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:13.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953855215603712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:13.072 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953855215603713 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:20:13.073 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953855215603713 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:13.073 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953855215603712 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:20:13.074 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953855215603712 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:13.074 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953855215603713 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:20:13.075 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953855215603713 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:20:13.075 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953855215603712 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:20:13.076 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953855215603712 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 127, 5
2023-05-15 14:20:13.077 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953855215603713 [0;39m <==      Total: 1
2023-05-15 14:20:13.078 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953855215603713 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:20:13.078 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953855215603713 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:13.077 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953855215603712 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:20:13.082 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953855215603712 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:20:13.082 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953855215603712 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:20:13.082 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953855215603712 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:20:13.083 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953855215603712 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:20:13.083 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953855215603712 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:20:13.083 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953855215603712 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:20:13.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953855215603712 [0;39m <==      Total: 8
2023-05-15 14:20:13.083 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953855215603713 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:20:13.083 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953855215603713 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:20:13.084 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953855215603713 [0;39m <==      Total: 1
2023-05-15 14:20:13.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953855215603713 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:20:13.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953855215603713 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 14:20:13.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953855215603712 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":127,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:20:13.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953855215603712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 14:20:13.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953855505010688 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:13.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953855505010688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:20:13.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953855505010688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:20:13.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953855505010688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:13.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953855505010688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:13.138 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953855505010688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:20:13.139 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953855505010688 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:13.147 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38953855505010688 [0;39m <==    Columns: id, content
2023-05-15 14:20:13.147 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38953855505010688 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:20:13.148 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953855505010688 [0;39m <==      Total: 1
2023-05-15 14:20:13.149 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953855505010688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:20:13.150 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953855505010688 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:13.226 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953855505010688 [0;39m <==    Updates: 1
2023-05-15 14:20:13.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953855505010688 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a><br></h2>","success":true}
2023-05-15 14:20:13.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953855505010688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š90 ms -------------
2023-05-15 14:20:15.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953864384352256 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:15.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953864384352256 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:20:15.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953864384352256 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:20:15.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953864384352256 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:15.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953864384352256 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:15.255 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953864384352256 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:20:15.255 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953864384352256 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:15.259 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953864384352256 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:20:15.259 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953864384352256 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:20:15.260 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953864384352256 [0;39m <==      Total: 1
2023-05-15 14:20:15.260 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953864384352256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:20:15.260 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953864384352256 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:15.293 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953864384352256 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:20:15.293 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953864384352256 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:20:15.293 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953864384352256 [0;39m <==      Total: 1
2023-05-15 14:20:15.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953864384352256 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:20:15.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953864384352256 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š39 ms -------------
2023-05-15 14:20:17.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:17.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:24.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953901994676224 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:24.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953901994676224 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:20:24.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953901994676224 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:20:24.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953901994676225 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:24.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953901994676225 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:20:24.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953901994676224 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:24.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953901994676225 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:20:24.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953901994676225 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:24.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953901994676224 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:24.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953901994676225 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:24.225 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953901994676225 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:20:24.225 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953901994676225 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:24.225 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953901994676224 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:20:24.225 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953901994676224 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:24.227 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953901994676225 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:20:24.227 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953901994676225 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:20:24.228 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953901994676225 [0;39m <==      Total: 1
2023-05-15 14:20:24.228 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953901994676224 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:20:24.228 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953901994676224 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 128, 5
2023-05-15 14:20:24.229 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953901994676224 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:20:24.229 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953901994676225 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:20:24.229 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953901994676224 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:20:24.229 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953901994676224 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:20:24.229 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953901994676225 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:24.230 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953901994676224 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:20:24.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953901994676225 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:20:24.331 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953901994676224 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:20:24.330 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953901994676225 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:20:24.331 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953901994676224 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:20:24.331 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953901994676225 [0;39m <==      Total: 1
2023-05-15 14:20:24.331 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38953901994676224 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:20:24.333 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38953901994676224 [0;39m <==      Total: 8
2023-05-15 14:20:24.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953901994676225 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:20:24.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953901994676225 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š112 ms -------------
2023-05-15 14:20:24.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953901994676224 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":128,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:20:24.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953901994676224 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š113 ms -------------
2023-05-15 14:20:24.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953902753845248 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:24.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953902753845248 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:20:24.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953902753845248 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:20:24.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953902753845248 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:24.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953902753845248 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:24.404 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953902753845248 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:20:24.404 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953902753845248 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:24.441 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38953902753845248 [0;39m <==    Columns: id, content
2023-05-15 14:20:24.442 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38953902753845248 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:20:24.443 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38953902753845248 [0;39m <==      Total: 1
2023-05-15 14:20:24.443 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953902753845248 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:20:24.444 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953902753845248 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:24.551 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38953902753845248 [0;39m <==    Updates: 1
2023-05-15 14:20:24.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953902753845248 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a><br></h2>","success":true}
2023-05-15 14:20:24.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953902753845248 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š151 ms -------------
2023-05-15 14:20:25.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38953909322125312 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:20:25.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38953909322125312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:20:25.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38953909322125312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:20:25.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38953909322125312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:20:25.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38953909322125312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:20:25.970 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953909322125312 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:20:25.970 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953909322125312 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:25.974 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953909322125312 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:20:25.976 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38953909322125312 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:20:25.976 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38953909322125312 [0;39m <==      Total: 1
2023-05-15 14:20:25.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953909322125312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:20:25.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953909322125312 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:20:26.016 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953909322125312 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:20:26.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38953909322125312 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:20:26.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38953909322125312 [0;39m <==      Total: 1
2023-05-15 14:20:26.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38953909322125312 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:20:26.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38953909322125312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š50 ms -------------
2023-05-15 14:20:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38953947221856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:20:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953947221856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:20:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953947221856256 [0;39m ==> Parameters: 
2023-05-15 14:20:35.095 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38953947221856256 [0;39m <==    Updates: 1
2023-05-15 14:20:35.095 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38953947221856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š91æ¯«ç§’
2023-05-15 14:20:35.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:35.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:37.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:57.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:20:57.822 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38954052129787904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:21:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954052129787904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:21:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954052129787904 [0;39m ==> Parameters: 
2023-05-15 14:21:00.227 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954052129787904 [0;39m <==    Updates: 0
2023-05-15 14:21:00.227 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38954052129787904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š211æ¯«ç§’
2023-05-15 14:21:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38954073105502208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:21:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954073105502208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:21:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954073105502208 [0;39m ==> Parameters: 
2023-05-15 14:21:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954073105502208 [0;39m <==    Updates: 1
2023-05-15 14:21:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38954073105502208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:21:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:05.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:05.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:17.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:17.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38954198922039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:21:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954198922039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:21:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954198922039296 [0;39m ==> Parameters: 
2023-05-15 14:21:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954198922039296 [0;39m <==    Updates: 1
2023-05-15 14:21:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38954198922039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:21:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:35.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:37.832 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:37.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:57.844 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:21:57.844 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38954303737696256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:22:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954303737696256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:22:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954303737696256 [0;39m ==> Parameters: 
2023-05-15 14:22:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954303737696256 [0;39m <==    Updates: 0
2023-05-15 14:22:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38954303737696256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:22:03.028 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38953855505010688 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šEAXze6MtPbï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-15 14:22:04.214 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38953864384352256 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šbVXlLRZXb3ï¼Œsession idï¼š2ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-15 14:22:04.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38954321672540160 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:22:04.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38954321672540161 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:22:04.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38954321672540161 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:22:04.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38954321672540160 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:22:04.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38954321672540161 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:22:04.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38954321672540160 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:22:04.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38954321672540161 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:22:04.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38954321672540160 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:22:04.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38954321672540161 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:22:04.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38954321672540160 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:22:04.283 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38954321672540160 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:22:04.283 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954321672540161 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:22:04.284 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954321672540161 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:04.284 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38954321672540160 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:04.304 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954321672540160 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:22:04.304 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38954321672540161 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:22:04.305 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954321672540160 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 129, 5
2023-05-15 14:22:04.305 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38954321672540161 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:22:04.305 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954321672540160 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:22:04.305 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954321672540160 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:22:04.305 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954321672540161 [0;39m <==      Total: 1
2023-05-15 14:22:04.305 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954321672540160 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:22:04.306 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954321672540160 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:22:04.306 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954321672540161 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:22:04.306 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954321672540160 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:22:04.307 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954321672540161 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:04.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954321672540160 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:22:04.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954321672540160 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:22:04.308 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38954321672540160 [0;39m <==      Total: 8
2023-05-15 14:22:04.309 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38954321672540161 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:22:04.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38954321672540160 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":129,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:22:04.309 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38954321672540161 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:22:04.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38954321672540160 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š29 ms -------------
2023-05-15 14:22:04.309 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954321672540161 [0;39m <==      Total: 1
2023-05-15 14:22:04.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38954321672540161 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:22:04.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38954321672540161 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š31 ms -------------
2023-05-15 14:22:04.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38954321932587008 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:22:04.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38954321932587008 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:22:04.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38954321932587008 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:22:04.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38954321932587008 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:22:04.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38954321932587008 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:22:04.344 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38954321932587008 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:22:04.345 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38954321932587008 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:04.356 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38954321932587008 [0;39m <==    Columns: id, content
2023-05-15 14:22:04.357 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38954321932587008 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:22:04.361 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38954321932587008 [0;39m <==      Total: 1
2023-05-15 14:22:04.362 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38954321932587008 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:22:04.362 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38954321932587008 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:04.461 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38954321932587008 [0;39m <==    Updates: 1
2023-05-15 14:22:04.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38954321932587008 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a><br></h2>","success":true}
2023-05-15 14:22:04.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38954321932587008 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š120 ms -------------
2023-05-15 14:22:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38954324717604864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:22:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954324717604864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:22:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954324717604864 [0;39m ==> Parameters: 
2023-05-15 14:22:05.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954324717604864 [0;39m <==    Updates: 1
2023-05-15 14:22:05.082 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38954324717604864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š76æ¯«ç§’
2023-05-15 14:22:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:05.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:05.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38954327062220800 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:22:05.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38954327062220800 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:22:05.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38954327062220800 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:22:05.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38954327062220800 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:22:05.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38954327062220800 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:22:05.568 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954327062220800 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:22:05.569 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954327062220800 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:05.584 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38954327062220800 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:22:05.586 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38954327062220800 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:22:05.588 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954327062220800 [0;39m <==      Total: 1
2023-05-15 14:22:05.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954327062220800 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:22:05.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954327062220800 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:05.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38954327062220800 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:22:05.590 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38954327062220800 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:22:05.590 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954327062220800 [0;39m <==      Total: 1
2023-05-15 14:22:05.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38954327062220800 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:22:05.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38954327062220800 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-15 14:22:12.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38954356392988673 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:22:12.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38954356392988673 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:22:12.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38954356392988673 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:22:12.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38954356392988673 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:22:12.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38954356392988673 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:22:12.565 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38954356392988673 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:22:12.567 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38954356392988673 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:12.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38954356392988672 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:22:12.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38954356392988672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:22:12.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38954356392988672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:22:12.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954356392988673 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:22:12.572 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954356392988673 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 130, 5
2023-05-15 14:22:12.572 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954356392988673 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:22:12.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38954356392988672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:22:12.572 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954356392988673 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:22:12.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38954356392988672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:22:12.572 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954356392988673 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:22:12.572 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954356392988673 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:22:12.573 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954356392988673 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:22:12.573 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954356392988673 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:22:12.573 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38954356392988673 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:22:12.573 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38954356392988673 [0;39m <==      Total: 8
2023-05-15 14:22:12.574 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954356392988672 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:22:12.574 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954356392988672 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:12.575 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38954356392988673 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":130,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:22:12.575 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38954356392988673 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-15 14:22:12.593 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38954356392988672 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:22:12.594 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38954356392988672 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:22:12.595 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954356392988672 [0;39m <==      Total: 1
2023-05-15 14:22:12.595 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954356392988672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:22:12.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954356392988672 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:12.598 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38954356392988672 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:22:12.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38954356560760832 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:22:12.598 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38954356392988672 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:22:12.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38954356560760832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-15 14:22:12.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38954356560760832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-15 14:22:12.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38954356560760832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:22:12.598 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954356392988672 [0;39m <==      Total: 1
2023-05-15 14:22:12.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38954356560760832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:22:12.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38954356392988672 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:22:12.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38954356392988672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š41 ms -------------
2023-05-15 14:22:12.599 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38954356560760832 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-15 14:22:12.599 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38954356560760832 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:12.601 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38954356560760832 [0;39m <==    Columns: id, content
2023-05-15 14:22:12.601 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38954356560760832 [0;39m <==        Row: 1, <<BLOB>>
2023-05-15 14:22:12.602 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38954356560760832 [0;39m <==      Total: 1
2023-05-15 14:22:12.603 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38954356560760832 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-15 14:22:12.604 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38954356560760832 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:12.699 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38954356560760832 [0;39m <==    Updates: 1
2023-05-15 14:22:12.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38954356560760832 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a><br></h2>","success":true}
2023-05-15 14:22:12.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38954356560760832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š101 ms -------------
2023-05-15 14:22:14.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38954362751553536 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:22:14.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38954362751553536 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-15 14:22:14.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38954362751553536 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-15 14:22:14.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38954362751553536 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:22:14.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38954362751553536 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:22:14.076 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954362751553536 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-15 14:22:14.076 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954362751553536 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:14.080 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38954362751553536 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replytouser_id, content, create_time, update_time
2023-05-15 14:22:14.082 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38954362751553536 [0;39m <==        Row: 8, 1, 1, null, null, ww, 2023-05-15 14:16:14, null
2023-05-15 14:22:14.083 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38954362751553536 [0;39m <==      Total: 1
2023-05-15 14:22:14.084 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954362751553536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-15 14:22:14.084 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954362751553536 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:22:14.099 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38954362751553536 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:22:14.100 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38954362751553536 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:22:14.100 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38954362751553536 [0;39m <==      Total: 1
2023-05-15 14:22:14.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38954362751553536 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"ww","createTime":1684131374000,"ebookId":1,"id":8,"name":"æµ‹è¯•","replies":[],"userId":1}],"success":true}
2023-05-15 14:22:14.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38954362751553536 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2023-05-15 14:22:17.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:17.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38954450542530560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:22:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954450542530560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:22:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954450542530560 [0;39m ==> Parameters: 
2023-05-15 14:22:35.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954450542530560 [0;39m <==    Updates: 1
2023-05-15 14:22:35.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38954450542530560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š109æ¯«ç§’
2023-05-15 14:22:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:37.856 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:37.856 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:57.864 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:22:57.864 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:23:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38954555425296384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:23:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954555425296384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:23:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954555425296384 [0;39m ==> Parameters: 
2023-05-15 14:23:00.246 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954555425296384 [0;39m <==    Updates: 0
2023-05-15 14:23:00.246 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38954555425296384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š235æ¯«ç§’
2023-05-15 14:23:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38954576409399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:23:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954576409399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:23:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954576409399296 [0;39m ==> Parameters: 
2023-05-15 14:23:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954576409399296 [0;39m <==    Updates: 1
2023-05-15 14:23:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38954576409399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:23:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:23:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:23:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:23:17.888 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38954702242713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:23:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954702242713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:23:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954702242713600 [0;39m ==> Parameters: 
2023-05-15 14:23:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954702242713600 [0;39m <==    Updates: 1
2023-05-15 14:23:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38954702242713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:23:35.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:23:35.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:23:35.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:23:37.889 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:23:37.889 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:23:57.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38954807133868032 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:24:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954807133868032 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:24:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954807133868032 [0;39m ==> Parameters: 
2023-05-15 14:24:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38954807133868032 [0;39m <==    Updates: 0
2023-05-15 14:24:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38954807133868032 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:24:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38954828055056384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:24:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954828055056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:24:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954828055056384 [0;39m ==> Parameters: 
2023-05-15 14:24:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954828055056384 [0;39m <==    Updates: 1
2023-05-15 14:24:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38954828055056384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:24:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:05.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:05.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:17.898 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:17.898 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38954953879982080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:24:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954953879982080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:24:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954953879982080 [0;39m ==> Parameters: 
2023-05-15 14:24:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38954953879982080 [0;39m <==    Updates: 1
2023-05-15 14:24:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38954953879982080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:24:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:37.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:37.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:57.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:24:57.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:25:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38955058758553600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:25:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955058758553600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:25:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955058758553600 [0;39m ==> Parameters: 
2023-05-15 14:25:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955058758553600 [0;39m <==    Updates: 0
2023-05-15 14:25:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38955058758553600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:25:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38955079671353344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:25:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955079671353344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:25:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955079671353344 [0;39m ==> Parameters: 
2023-05-15 14:25:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955079671353344 [0;39m <==    Updates: 1
2023-05-15 14:25:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38955079671353344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 14:25:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:25:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:25:17.929 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:25:17.929 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:25:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38955205504667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:25:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955205504667648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:25:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955205504667648 [0;39m ==> Parameters: 
2023-05-15 14:25:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955205504667648 [0;39m <==    Updates: 1
2023-05-15 14:25:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38955205504667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:25:35.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:25:35.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:25:37.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:25:37.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:25:57.934 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:25:57.935 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38955310358073344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:26:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955310358073344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:26:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955310358073344 [0;39m ==> Parameters: 
2023-05-15 14:26:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955310358073344 [0;39m <==    Updates: 0
2023-05-15 14:26:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38955310358073344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:26:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38955331371536384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955331371536384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955331371536384 [0;39m ==> Parameters: 
2023-05-15 14:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955331371536384 [0;39m <==    Updates: 1
2023-05-15 14:26:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38955331371536384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:26:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:05.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:17.947 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:17.947 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38955457183879168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:26:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955457183879168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:26:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955457183879168 [0;39m ==> Parameters: 
2023-05-15 14:26:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955457183879168 [0;39m <==    Updates: 1
2023-05-15 14:26:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38955457183879168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:26:35.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:35.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:35.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:37.953 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:37.953 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:57.954 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:26:57.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38955562062450688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:27:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955562062450688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:27:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955562062450688 [0;39m ==> Parameters: 
2023-05-15 14:27:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955562062450688 [0;39m <==    Updates: 0
2023-05-15 14:27:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38955562062450688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:27:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38955583033970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:27:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955583033970688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:27:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955583033970688 [0;39m ==> Parameters: 
2023-05-15 14:27:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955583033970688 [0;39m <==    Updates: 1
2023-05-15 14:27:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38955583033970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:27:05.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:05.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:17.956 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:17.956 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38955708816953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:27:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955708816953344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:27:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955708816953344 [0;39m ==> Parameters: 
2023-05-15 14:27:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955708816953344 [0;39m <==    Updates: 1
2023-05-15 14:27:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38955708816953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:27:35.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:35.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:37.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:37.959 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:57.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:27:57.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38955813724884992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:28:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955813724884992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:28:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955813724884992 [0;39m ==> Parameters: 
2023-05-15 14:28:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38955813724884992 [0;39m <==    Updates: 0
2023-05-15 14:28:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38955813724884992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:28:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38955834692210688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:28:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955834692210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:28:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955834692210688 [0;39m ==> Parameters: 
2023-05-15 14:28:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955834692210688 [0;39m <==    Updates: 1
2023-05-15 14:28:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38955834692210688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:28:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:05.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:17.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:17.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38955960512942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:28:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955960512942080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:28:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955960512942080 [0;39m ==> Parameters: 
2023-05-15 14:28:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38955960512942080 [0;39m <==    Updates: 1
2023-05-15 14:28:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38955960512942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:28:35.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:35.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:35.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:37.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:37.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:57.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:28:57.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38956065404096512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:29:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956065404096512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:29:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956065404096512 [0;39m ==> Parameters: 
2023-05-15 14:29:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956065404096512 [0;39m <==    Updates: 0
2023-05-15 14:29:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38956065404096512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:29:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38956086363033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:29:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956086363033600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:29:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956086363033600 [0;39m ==> Parameters: 
2023-05-15 14:29:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956086363033600 [0;39m <==    Updates: 1
2023-05-15 14:29:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38956086363033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:29:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:05.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:17.993 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:17.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38956212175376384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:29:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956212175376384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:29:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956212175376384 [0;39m ==> Parameters: 
2023-05-15 14:29:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956212175376384 [0;39m <==    Updates: 1
2023-05-15 14:29:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38956212175376384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:29:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:37.996 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:37.996 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:57.998 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:29:57.998 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38956317041364992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:30:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956317041364992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:30:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956317041364992 [0;39m ==> Parameters: 
2023-05-15 14:30:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956317041364992 [0;39m <==    Updates: 0
2023-05-15 14:30:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38956317041364992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:30:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38956338012884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:30:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956338012884992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:30:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956338012884992 [0;39m ==> Parameters: 
2023-05-15 14:30:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956338012884992 [0;39m <==    Updates: 1
2023-05-15 14:30:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38956338012884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:30:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:05.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:05.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:18.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:18.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38956463800061952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:30:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956463800061952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:30:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956463800061952 [0;39m ==> Parameters: 
2023-05-15 14:30:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956463800061952 [0;39m <==    Updates: 1
2023-05-15 14:30:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38956463800061952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:30:35.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:35.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:35.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:35.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:38.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:38.036 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:52.700 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38954321932587008 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-15 14:30:52.701 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38954321932587008 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-15 14:30:52.701 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38954321932587008 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38904091275038720
2023-05-15 14:30:52.715 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38954321932587008 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38904091275038720"}
2023-05-15 14:30:52.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38956538160877568 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:30:52.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38956538160877568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-15 14:30:52.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38956538160877568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-15 14:30:52.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38956538160877568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:30:52.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38956538160877568 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 14:30:52.732 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38956538160877568 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-15 14:30:52.732 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38956538160877568 [0;39m ==> Parameters: 
2023-05-15 14:30:52.732 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38956538160877568 [0;39m <==    Columns: count(0)
2023-05-15 14:30:52.732 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38956538160877568 [0;39m <==        Row: 3
2023-05-15 14:30:52.732 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38956538160877568 [0;39m <==      Total: 1
2023-05-15 14:30:52.732 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38956538160877568 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-15 14:30:52.732 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38956538160877568 [0;39m ==> Parameters: 10(Integer)
2023-05-15 14:30:52.732 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38956538160877568 [0;39m <==    Columns: id, login_name, name, password
2023-05-15 14:30:52.732 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38956538160877568 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-15 14:30:52.732 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38956538160877568 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-15 14:30:52.732 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38956538160877568 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-15 14:30:52.732 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38956538160877568 [0;39m <==      Total: 3
2023-05-15 14:30:52.732 INFO  com.jiawa.wiki.service.UserService                :50   [32m38956538160877568 [0;39m æ€»è¡Œæ•°ï¼š3
2023-05-15 14:30:52.732 INFO  com.jiawa.wiki.service.UserService                :51   [32m38956538160877568 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 14:30:52.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38956538160877568 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"}],"total":3},"success":true}
2023-05-15 14:30:52.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38956538160877568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 14:30:52.747 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38956538160877568 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š46 ms -------------
2023-05-15 14:30:53.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38956541751201792 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:30:53.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38956541751201792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 14:30:53.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38956541751201792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 14:30:53.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38956541751201792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:30:53.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38956541751201792 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:30:53.589 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38956541751201792 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 14:30:53.589 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38956541751201792 [0;39m ==> Parameters: 
2023-05-15 14:30:53.590 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 14:30:53.591 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 14:30:53.591 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 14:30:53.591 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 14:30:53.591 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 14:30:53.591 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 14:30:53.591 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 14:30:53.591 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 14:30:53.592 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 14:30:53.592 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 14:30:53.592 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 14:30:53.592 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 14:30:53.592 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 14:30:53.592 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 14:30:53.592 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 14:30:53.592 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 14:30:53.592 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956541751201792 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 14:30:53.593 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38956541751201792 [0;39m <==      Total: 16
2023-05-15 14:30:53.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38956541751201792 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 14:30:53.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38956541751201792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-15 14:30:53.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38956541868642304 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:30:53.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38956541868642304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-15 14:30:53.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38956541868642304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-15 14:30:53.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38956541868642304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:30:53.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38956541868642304 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-15 14:30:53.616 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38956541868642304 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-15 14:30:53.616 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38956541868642304 [0;39m ==> Parameters: 
2023-05-15 14:30:53.616 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38956541868642304 [0;39m <==    Columns: count(0)
2023-05-15 14:30:53.616 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38956541868642304 [0;39m <==        Row: 5
2023-05-15 14:30:53.616 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38956541868642304 [0;39m <==      Total: 1
2023-05-15 14:30:53.616 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38956541868642304 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-15 14:30:53.616 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38956541868642304 [0;39m ==> Parameters: 10(Integer)
2023-05-15 14:30:53.616 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38956541868642304 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-15 14:30:53.616 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38956541868642304 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 171, 10
2023-05-15 14:30:53.616 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38956541868642304 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 14:30:53.616 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38956541868642304 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 14:30:53.616 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38956541868642304 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 14:30:53.616 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38956541868642304 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-15 14:30:53.616 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38956541868642304 [0;39m <==      Total: 5
2023-05-15 14:30:53.616 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38956541868642304 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-15 14:30:53.616 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38956541868642304 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-15 14:30:53.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38956541868642304 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":171,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-15 14:30:53.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38956541868642304 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-15 14:30:55.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38956550546657280 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:30:55.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38956550546657280 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-15 14:30:55.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38956550546657280 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-15 14:30:55.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38956550546657280 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:30:55.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38956550546657280 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-15 14:30:55.685 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38956550546657280 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-15 14:30:55.685 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38956550546657280 [0;39m ==> Parameters: 1(Long)
2023-05-15 14:30:55.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38956550546657280 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-15 14:30:55.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38956550546657280 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 131, 5
2023-05-15 14:30:55.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38956550546657280 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-15 14:30:55.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38956550546657280 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2023-05-15 14:30:55.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38956550546657280 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 6, 1
2023-05-15 14:30:55.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38956550546657280 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 4, 0
2023-05-15 14:30:55.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38956550546657280 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 4, 0
2023-05-15 14:30:55.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38956550546657280 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2023-05-15 14:30:55.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38956550546657280 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 6, 1
2023-05-15 14:30:55.685 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38956550546657280 [0;39m <==      Total: 8
2023-05-15 14:30:55.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38956550546657280 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":131,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2023-05-15 14:30:55.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38956550546657280 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-15 14:30:57.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38956556754227200 [0;39m ------------- å¼€å§‹ -------------
2023-05-15 14:30:57.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38956556754227200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-15 14:30:57.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38956556754227200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-15 14:30:57.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38956556754227200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-15 14:30:57.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38956556754227200 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-15 14:30:57.166 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38956556754227200 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-15 14:30:57.167 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38956556754227200 [0;39m ==> Parameters: 
2023-05-15 14:30:57.168 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==    Columns: id, parent, name, sort
2023-05-15 14:30:57.168 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-15 14:30:57.169 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-15 14:30:57.169 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-15 14:30:57.169 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 38948374136885248, 100, React, 102
2023-05-15 14:30:57.169 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 200, 0, Java, 200
2023-05-15 14:30:57.169 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-15 14:30:57.169 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-15 14:30:57.170 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 300, 0, Python, 300
2023-05-15 14:30:57.170 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-15 14:30:57.170 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-15 14:30:57.170 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-15 14:30:57.170 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-15 14:30:57.170 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-15 14:30:57.170 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-15 14:30:57.170 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-15 14:30:57.170 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38956556754227200 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-15 14:30:57.170 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38956556754227200 [0;39m <==      Total: 16
2023-05-15 14:30:57.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38956556754227200 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":38948374136885248,"name":"React","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-15 14:30:57.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38956556754227200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-15 14:30:58.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:30:58.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:31:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38956568703799296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:31:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956568703799296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:31:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956568703799296 [0;39m ==> Parameters: 
2023-05-15 14:31:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956568703799296 [0;39m <==    Updates: 0
2023-05-15 14:31:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38956568703799296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 14:31:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38956589624987648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:31:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956589624987648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:31:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956589624987648 [0;39m ==> Parameters: 
2023-05-15 14:31:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956589624987648 [0;39m <==    Updates: 1
2023-05-15 14:31:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38956589624987648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:31:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:31:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:31:05.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:31:18.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:31:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38956715483467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:31:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956715483467776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:31:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956715483467776 [0;39m ==> Parameters: 
2023-05-15 14:31:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956715483467776 [0;39m <==    Updates: 1
2023-05-15 14:31:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38956715483467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:31:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:31:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:31:35.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:31:38.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:31:58.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38956820324290560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:32:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956820324290560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:32:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956820324290560 [0;39m ==> Parameters: 
2023-05-15 14:32:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38956820324290560 [0;39m <==    Updates: 0
2023-05-15 14:32:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38956820324290560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:32:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38956841291616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:32:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956841291616256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:32:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956841291616256 [0;39m ==> Parameters: 
2023-05-15 14:32:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956841291616256 [0;39m <==    Updates: 1
2023-05-15 14:32:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38956841291616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:32:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:05.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:18.134 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:18.135 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38956967116541952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:32:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956967116541952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:32:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956967116541952 [0;39m ==> Parameters: 
2023-05-15 14:32:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38956967116541952 [0;39m <==    Updates: 1
2023-05-15 14:32:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38956967116541952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:32:35.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:35.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:38.135 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:38.135 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:58.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:32:58.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38957071978336256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:33:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957071978336256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:33:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957071978336256 [0;39m ==> Parameters: 
2023-05-15 14:33:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957071978336256 [0;39m <==    Updates: 0
2023-05-15 14:33:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38957071978336256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:33:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38957092949856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:33:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957092949856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:33:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957092949856256 [0;39m ==> Parameters: 
2023-05-15 14:33:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957092949856256 [0;39m <==    Updates: 1
2023-05-15 14:33:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38957092949856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-15 14:33:05.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:05.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:18.149 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:18.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38957218816724992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:33:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957218816724992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:33:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957218816724992 [0;39m ==> Parameters: 
2023-05-15 14:33:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957218816724992 [0;39m <==    Updates: 1
2023-05-15 14:33:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38957218816724992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:33:35.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:35.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:35.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:38.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:58.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:33:58.165 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38957323670130688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:34:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957323670130688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:34:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957323670130688 [0;39m ==> Parameters: 
2023-05-15 14:34:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957323670130688 [0;39m <==    Updates: 0
2023-05-15 14:34:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38957323670130688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:34:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38957344612290560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:34:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957344612290560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:34:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957344612290560 [0;39m ==> Parameters: 
2023-05-15 14:34:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957344612290560 [0;39m <==    Updates: 1
2023-05-15 14:34:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38957344612290560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:34:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:05.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:05.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:18.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:18.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38957470424633344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:34:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957470424633344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:34:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957470424633344 [0;39m ==> Parameters: 
2023-05-15 14:34:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957470424633344 [0;39m <==    Updates: 1
2023-05-15 14:34:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38957470424633344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 14:34:35.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:35.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:35.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:35.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:38.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:38.186 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:58.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:34:58.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38957575332564992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:35:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957575332564992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:35:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957575332564992 [0;39m ==> Parameters: 
2023-05-15 14:35:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957575332564992 [0;39m <==    Updates: 0
2023-05-15 14:35:00.043 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38957575332564992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2023-05-15 14:35:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38957596257947648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:35:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957596257947648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:35:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957596257947648 [0;39m ==> Parameters: 
2023-05-15 14:35:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957596257947648 [0;39m <==    Updates: 1
2023-05-15 14:35:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38957596257947648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 14:35:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:05.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:18.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:18.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38957722087067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:35:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957722087067648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:35:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957722087067648 [0;39m ==> Parameters: 
2023-05-15 14:35:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957722087067648 [0;39m <==    Updates: 1
2023-05-15 14:35:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38957722087067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:35:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:35.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:35.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:38.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:38.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:58.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:35:58.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38957826978222080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:36:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957826978222080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:36:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957826978222080 [0;39m ==> Parameters: 
2023-05-15 14:36:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38957826978222080 [0;39m <==    Updates: 0
2023-05-15 14:36:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38957826978222080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 14:36:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38957847916187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:36:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957847916187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:36:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957847916187648 [0;39m ==> Parameters: 
2023-05-15 14:36:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957847916187648 [0;39m <==    Updates: 1
2023-05-15 14:36:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38957847916187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:36:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:05.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:18.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:18.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38957973745307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:36:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957973745307648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:36:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957973745307648 [0;39m ==> Parameters: 
2023-05-15 14:36:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38957973745307648 [0;39m <==    Updates: 1
2023-05-15 14:36:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38957973745307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 14:36:35.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:35.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:38.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:38.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:58.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:36:58.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38958078602907648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:37:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958078602907648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:37:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958078602907648 [0;39m ==> Parameters: 
2023-05-15 14:37:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958078602907648 [0;39m <==    Updates: 0
2023-05-15 14:37:00.041 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38958078602907648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š39æ¯«ç§’
2023-05-15 14:37:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38958099570233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:37:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958099570233344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:37:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958099570233344 [0;39m ==> Parameters: 
2023-05-15 14:37:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958099570233344 [0;39m <==    Updates: 1
2023-05-15 14:37:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38958099570233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-15 14:37:05.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:05.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:18.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38958225403547648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:37:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958225403547648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:37:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958225403547648 [0;39m ==> Parameters: 
2023-05-15 14:37:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958225403547648 [0;39m <==    Updates: 1
2023-05-15 14:37:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38958225403547648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:37:35.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:35.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:38.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:58.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:37:58.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38958330256953344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:38:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958330256953344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:38:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958330256953344 [0;39m ==> Parameters: 
2023-05-15 14:38:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958330256953344 [0;39m <==    Updates: 0
2023-05-15 14:38:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38958330256953344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-15 14:38:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38958351232667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:38:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958351232667648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:38:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958351232667648 [0;39m ==> Parameters: 
2023-05-15 14:38:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958351232667648 [0;39m <==    Updates: 1
2023-05-15 14:38:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38958351232667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 14:38:05.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:05.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:05.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:05.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:18.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:18.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38958477061787648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:38:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958477061787648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:38:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958477061787648 [0;39m ==> Parameters: 
2023-05-15 14:38:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958477061787648 [0;39m <==    Updates: 1
2023-05-15 14:38:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38958477061787648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-15 14:38:35.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:35.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:38.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:38.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:58.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:38:58.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38958581915193344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:39:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958581915193344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:39:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958581915193344 [0;39m ==> Parameters: 
2023-05-15 14:39:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958581915193344 [0;39m <==    Updates: 0
2023-05-15 14:39:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38958581915193344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:39:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38958602903490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:39:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958602903490560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:39:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958602903490560 [0;39m ==> Parameters: 
2023-05-15 14:39:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958602903490560 [0;39m <==    Updates: 1
2023-05-15 14:39:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38958602903490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:39:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:05.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:18.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:18.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38958728740999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:39:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958728740999168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:39:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958728740999168 [0;39m ==> Parameters: 
2023-05-15 14:39:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958728740999168 [0;39m <==    Updates: 1
2023-05-15 14:39:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38958728740999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-15 14:39:35.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:38.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:38.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:58.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:39:58.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38958833573433344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:40:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958833573433344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:40:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958833573433344 [0;39m ==> Parameters: 
2023-05-15 14:40:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38958833573433344 [0;39m <==    Updates: 0
2023-05-15 14:40:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38958833573433344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-15 14:40:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38958854544953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:40:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958854544953344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:40:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958854544953344 [0;39m ==> Parameters: 
2023-05-15 14:40:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958854544953344 [0;39m <==    Updates: 1
2023-05-15 14:40:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38958854544953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-15 14:40:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:05.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:05.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:05.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:18.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:18.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38958980407627776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:40:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958980407627776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:40:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958980407627776 [0;39m ==> Parameters: 
2023-05-15 14:40:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38958980407627776 [0;39m <==    Updates: 1
2023-05-15 14:40:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38958980407627776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-15 14:40:35.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:35.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:35.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:35.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:38.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:38.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:58.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:40:58.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:41:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38959085244256256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-15 14:41:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38959085244256256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-15 14:41:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38959085244256256 [0;39m ==> Parameters: 
2023-05-15 14:41:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38959085244256256 [0;39m <==    Updates: 0
2023-05-15 14:41:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38959085244256256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-15 14:41:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38959106270302208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-15 14:41:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38959106270302208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-15 14:41:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38959106270302208 [0;39m ==> Parameters: 
2023-05-15 14:41:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38959106270302208 [0;39m <==    Updates: 1
2023-05-15 14:41:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38959106270302208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-15 14:41:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:41:05.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:41:18.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-15 14:41:18.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
